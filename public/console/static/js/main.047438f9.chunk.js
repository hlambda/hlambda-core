(this["webpackJsonpfrontend-console"]=this["webpackJsonpfrontend-console"]||[]).push([[0],{200:function(e,t,n){},201:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(40),o=n.n(c),s=n(17),i=n(14),l=n.n(i),u=n(242),d=n(20),j=(n(175),n(8)),b=n(254),p=n(255),x=n(247),h=n(266),m=n(256),O=n(260),f=n(139),g=n.n(f),v=n(94),y=n(245),k=n(259),w=n(265),C=n(264),S=n(250),T=n(262),F=n(263),I=n(75),E=n.n(I),R=n(76),W=n.n(R),H=n(15),L=n(137),D=n.n(L);var N=n(1),P=r.a.createContext();function q(e){var t=e.children,n=r.a.useState("local-storage"),c=Object(j.a)(n,2),o=c[0],i=c[1],u=r.a.useState(""),b=Object(j.a)(u,2),p=b[0],x=b[1],h=function(e,t){var n="".concat("console",":").concat(e),r=Object(a.useState)((function(){var e=localStorage.getItem(n);return null!=e?JSON.parse(e):"function"===typeof t?t():t})),c=Object(j.a)(r,2),o=c[0],s=c[1];return Object(a.useEffect)((function(){return localStorage.setItem(n,JSON.stringify(o)),function(){}}),[n,o]),[o,s]}("adminSecret",""),m=Object(j.a)(h,2),O=m[0],f=m[1],g=function(){var e=Object(s.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return i("local-storage"),e.next=4,f(t);case 4:e.next=9;break;case 6:return i("memory-storage"),e.next=9,x(t);case 9:console.log("signin");case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"local-storage"===o?f(""):setToken(""),console.log("signout");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(s.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a.get("/console/api/v1/check-connection",{headers:{"x-hlambda-admin-secret":t}}).then((function(e){return console.log(e),!0})).catch((function(e){var t;console.log("[fetch-error]",e);var n=null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data;return console.log(n),null!==n&&void 0!==n&&n.message?d.b.error("".concat(null===n||void 0===n?void 0:n.message)):e&&d.b.error("".concat(e)),!1}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k={getToken:function(){return"local-storage"===o?O:p},signin:g,signout:v,verifySession:y};return Object(N.jsx)(P.Provider,{value:k,children:t})}function M(){return r.a.useContext(P)}function A(){var e=a.useState(!1),t=Object(j.a)(e,2),n=t[0],r=t[1],c=a.useState(!0),o=Object(j.a)(c,2),i=o[0],d=o[1],f=Object(H.g)(),I=M(),R=a.useState(!1),L=Object(j.a)(R,2),D=L[0],P=L[1],q=function(){var e=Object(s.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),t.preventDefault(),n=new FormData(t.currentTarget),e.next=5,I.verifySession(n.get("token"));case 5:if(!e.sent){e.next=12;break}return e.next=9,I.signin(n.get("token"),i);case 9:f("/"),e.next=13;break;case 12:r(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(s.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(!i);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)(k.a,{component:"main",maxWidth:"xs",children:[Object(N.jsx)(u.a,{}),Object(N.jsxs)(O.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(N.jsx)(b.a,{sx:{m:1},children:Object(N.jsx)(g.a,{})}),Object(N.jsx)(v.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(N.jsxs)(O.a,{component:"form",onSubmit:q,noValidate:!0,sx:{mt:1},children:[Object(N.jsx)(x.a,{margin:"normal",required:!0,fullWidth:!0,name:"token",label:"Enter admin-secret",type:D?"text":"password",id:"token",autoComplete:"current-token",defaultValue:I.getToken(),InputProps:{endAdornment:Object(N.jsx)(T.a,{position:"end",children:Object(N.jsx)(F.a,{"aria-label":"toggle password visibility",onClick:function(){return P(!D)},onMouseDown:function(){return P(!D)},children:D?Object(N.jsx)(E.a,{}):Object(N.jsx)(W.a,{})})})}}),Object(N.jsx)(C.a,{control:Object(N.jsx)(S.a,{checked:i,value:"remember",color:"primary",onChange:A}),label:"Remember in this browser"}),Object(N.jsx)(p.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:n,children:n?Object(N.jsx)(w.a,{size:25,color:"inherit"}):"ENTER"}),Object(N.jsxs)(m.a,{container:!0,children:[Object(N.jsx)(m.a,{item:!0,xs:!0,children:Object(N.jsx)(h.a,{href:"/console/docs",variant:"body2",children:"How to set admin secret?"})}),Object(N.jsx)(m.a,{item:!0,children:Object(N.jsx)(h.a,{href:"/console/help",variant:"body2",children:"What is this? Help"})})]}),Object(N.jsx)(y.a,{sx:{marginTop:"2rem"}}),Object(N.jsx)(m.a,{container:!0,children:Object(N.jsx)(m.a,{item:!0,xs:!0,sx:{padding:"1rem"},children:Object(N.jsx)(v.a,{align:"center",component:"h6",variant:"inherit",color:"text.disabled",sx:{fontWeight:"200"},children:"v0.0.3-197d488a"})})})]})]})]})}var z=n(141),_=n.n(z);function B(){var e=Object(H.g)(),t=M();return a.useEffect((function(){setTimeout(Object(s.a)(l.a.mark((function n(){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.signout();case 2:e("/login");case 3:case"end":return n.stop()}}),n)}))),1337)}),[e]),Object(N.jsxs)(k.a,{component:"main",maxWidth:"xs",children:[Object(N.jsx)(u.a,{}),Object(N.jsxs)(O.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(N.jsx)(b.a,{sx:{m:1},children:Object(N.jsx)(_.a,{})}),Object(N.jsx)(v.a,{component:"h1",variant:"h5",children:"Logging you out..."}),Object(N.jsx)(O.a,{sx:{marginTop:"1rem",display:"flex"},children:Object(N.jsx)(w.a,{color:"inherit"})})]})]})}var V=n(142),J=n.n(V);function G(){var e=Object(H.g)();return Object(N.jsxs)(k.a,{component:"main",maxWidth:"xs",children:[Object(N.jsx)(u.a,{}),Object(N.jsxs)(O.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(N.jsx)(b.a,{sx:{m:1},children:Object(N.jsx)(J.a,{})}),Object(N.jsx)(v.a,{component:"h1",variant:"h5",children:"404 page not found..."}),Object(N.jsx)(O.a,{sx:{marginTop:"1rem",display:"flex"},children:Object(N.jsx)(p.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},onClick:function(){e("/")},children:"GO BACK"})})]})]})}var K=n(6),U=n(261),Y=n(251),$=n(246),Q=n(268),X=n(267),Z=n(269),ee=n(52),te=n.n(ee),ne=n(272),ae=n(273),re=n(151),ce=n(258),oe=n(144),se=n.n(oe),ie=n(145),le=n.n(ie),ue=n(19),de=[{name:"API",url:"/"},{name:"Routes",url:"/routes"},{name:"Shell",url:"/shell"},{name:"Env",url:"/env"},{name:"Errors",url:"/errors"},{name:"Logs",url:"/logs"},{name:"Metadata",url:"/metadata"},{name:"Logout",url:"/logout"}],je=function(){var e=Object(H.g)(),t=Object(ue.b)(),n=t.get,r=(t.post,t.response),c=(t.loading,t.error,a.useState(null)),o=Object(j.a)(c,2),i=o[0],u=o[1],b=a.useState(null),x=Object(j.a)(b,2),h=(x[0],x[1],function(){u(null)});return Object(N.jsx)(ne.a,{position:"static",children:Object(N.jsx)(k.a,{maxWidth:"xl",children:Object(N.jsxs)(ae.a,{disableGutters:!0,children:[Object(N.jsx)(v.a,{variant:"h6",noWrap:!0,component:"div",sx:{mr:2,display:{xs:"none",md:"flex"}},onClick:function(){e("/")},children:"Console"}),Object(N.jsxs)(O.a,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[Object(N.jsx)(F.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){u(e.currentTarget)},color:"inherit",children:Object(N.jsx)(se.a,{})}),Object(N.jsx)(re.a,{id:"menu-appbar",anchorEl:i,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(i),onClose:h,sx:{display:{xs:"block",md:"none"}},children:de.map((function(t){return Object(N.jsx)(ce.a,{onClick:h,children:Object(N.jsx)(v.a,{onClick:function(){e(t.url)},textAlign:"center",children:t.name})},t.name)}))})]}),Object(N.jsx)(v.a,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:"Console"}),Object(N.jsx)(O.a,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:de.map((function(t){return Object(N.jsx)(p.a,{onClick:function(){e(t.url)},sx:{my:2,color:"white",display:"block"},children:t.name},t.name)}))}),Object(N.jsx)(F.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(){e("/settings")},color:"inherit",children:Object(N.jsx)(le.a,{})}),Object(N.jsx)(p.a,{variant:"contained",onClick:Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("/console/api/v1/trigger-restart");case 2:e.sent,r.ok?d.b.success("Server reloading..."):d.b.error("Request error!");case 4:case"end":return e.stop()}}),e)}))),color:"secondary",children:"Reload server"})]})})})},be=n(3),pe=n(21),xe=n(271),he=n(270),me=n(253),Oe=n(150),fe=n(274),ge=n(146),ve=n.n(ge),ye=n(147),ke=n.n(ye),we=n(249),Ce=n(93),Se=n.n(Ce);function Te(e){var t=e.valuesParrent,n=e.setValuesParrent,r=Object(ue.b)(),c=(r.get,r.post),o=r.response,i=r.loading,u=(r.error,a.useState({root:{name:"root",path:".",files:[{name:"metadata",type:"directory",files:[{name:"apps",type:"directory",files:[{name:"wut",type:"directory",files:[]}]}]}]}})),b=Object(j.a)(u,2),p=b[0],x=b[1],h=function(){var e=Object(s.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("selected:",n),console.log(t),e.next=4,c("/console/api/v1/read-dir",{path:n});case 4:a=e.sent,o.ok?function(){for(var e=n.split("/"),t=Object(pe.a)({},p),r="root.files",c=function(t){var n=Se.a.get(p,r),a=Se.a.findIndex(n,(function(n){return n.name==e[t]}));r+="[".concat(a,"].files"),console.log(r)},o=1;o<e.length;o++)c(o);console.log(r),Se.a.set(t,r,a.map((function(e){return Object(pe.a)(Object(pe.a)({},e),{},{files:[]})}))),x(t)}():d.b.error("Request errored out...");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(fe.a,{"aria-label":"file system navigator",defaultCollapseIcon:Object(N.jsx)(ve.a,{}),defaultExpandIcon:Object(N.jsx)(ke.a,{}),sx:{flexGrow:1,maxWidth:400,overflowY:"auto"},onNodeSelect:h,children:[i&&Object(N.jsx)(w.a,{size:10}),function e(a){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{path:".",name:"root"},c=0!==a.files.length;return c?Object(N.jsx)(we.a,{nodeId:a.path,label:a.name,children:a.files.map((function(t,n){var a=r.path+"/"+t.name;return console.log(a),e(Object(pe.a)(Object(pe.a)({},t),{},{path:a}),Object(pe.a)(Object(pe.a)({},t),{},{path:a}))}))},a.path):"directory"===a.type?Object(N.jsx)(we.a,{nodeId:a.path,label:a.name,children:Object(N.jsx)(we.a,{nodeId:a.path+"-empty",label:""},a.path+"-empty")},a.path):Object(N.jsx)(we.a,{nodeId:a.path,onClick:function(){n(Object(pe.a)(Object(pe.a)({},t),{},{path:a.path}))},label:a.name},a.path)}(p.root)]})})}var Fe=n(148),Ie=n.n(Fe),Ee=n(149),Re=n.n(Ee);var We=function(e){var t,n=e.language,a=e.defaultFile,c=Object(ue.b)(),o=(c.get,c.post),i=c.response,u=(c.loading,c.error,r.a.useState({path:null!==a&&void 0!==a?a:"metadata/apps/auth/routes/router.auth.js",editorCodeData:"",encodingWrite:"base64",encodingRead:"utf-8"})),b=Object(j.a)(u,2),x=b[0],h=b[1],O=function(){var e=Object(s.a)(l.a.mark((function e(t,n){var a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ie.a.encode("".concat(x.editorCodeData)),r=Re.a.encode(a),e.next=4,o("/console/api/v1/file-edit",{path:x.path,data:r,encodingWrite:x.encodingWrite,encodingRead:x.encodingRead});case 4:c=e.sent,i.ok?(d.b.success("Saved!"),console.log(c)):(d.b.error("Request errored out..."),setEditorCodeValue(""));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(s.a)(l.a.mark((function e(t,n){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o("/console/api/v1/file-view",{path:x.path},{responseType:"text"});case 2:if(!i.ok){e.next=10;break}return e.next=5,i.text();case 5:a=e.sent,h(Object(pe.a)(Object(pe.a)({},x),{},{editorCodeData:a})),console.log(a),e.next=12;break;case 10:d.b.error("Request errored out..."),h(Object(pe.a)(Object(pe.a)({},x),{},{editorCodeData:""}));case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return r.a.useEffect((function(){f()}),[x.path]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("div",{style:{paddingTop:"20px"},children:Object(N.jsx)(Oe.a,{height:"60vh",language:[".yml",".yaml"].includes(x.path.substr(-5))?"yaml":[".json"].includes(x.path.substr(-5))?"json":[".js"].includes(x.path.substr(-3))?"javascript":[".ts"].includes(x.path.substr(-3))?"typescript":[".md"].includes(x.path.substr(-3))?"markdown":n,defaultValue:x.editorCodeData,value:x.editorCodeData,onChange:function(e,t){h(Object(pe.a)(Object(pe.a)({},x),{},{editorCodeData:e}))},theme:"vs-dark"})}),Object(N.jsx)(y.a,{}),Object(N.jsx)("div",{style:{paddingTop:"20px"},children:Object(N.jsxs)(xe.a,{fullWidth:!0,sx:{m:1},variant:"standard",children:[Object(N.jsx)(me.a,{htmlFor:"standard-adornment-amount",children:"Path"}),Object(N.jsx)(he.a,{id:"standard-adornment-amount",value:x.path,onChange:(t="path",function(e){h(Object(pe.a)(Object(pe.a)({},x),{},Object(be.a)({},t,e.target.value)))}),variant:"filled",startAdornment:Object(N.jsx)(T.a,{position:"start",children:"/"})})]})}),Object(N.jsx)(y.a,{}),Object(N.jsxs)(m.a,{container:!0,children:[Object(N.jsx)(m.a,{children:Object(N.jsx)(p.a,{variant:"contained",onClick:O,children:"Sve File"})}),Object(N.jsx)(m.a,{children:Object(N.jsx)(p.a,{variant:"contained",onClick:f,children:"Reload File"})})]}),Object(N.jsx)(y.a,{}),Object(N.jsx)("div",{style:{paddingTop:"20px"},children:Object(N.jsx)(Te,{defaultFile:a,languages:[".js",".yml",".yaml"],setValuesParrent:h,valuesParrent:x})})]})},He=n(77),Le=n.n(He),De=Object(K.a)("pre")((function(e){e.theme;return"\n  background-color: #000;\n  color: #FFF;\n  overflow-y: auto;\n  padding: 0;\n  height: 30vh;\n  display: block;\n  margin: 0;\n  font-size: 15px;\n"}));var Ne=function(){var e=Object(ue.b)(),t=e.get,n=(e.post,e.response),a=e.loading,c=(e.error,r.a.useState("")),o=Object(j.a)(c,2),i=o[0],u=o[1],b=r.a.useState(!0),p=Object(j.a)(b,2),h=p[0],m=p[1],f=r.a.useState(!1),g=Object(j.a)(f,2),w=g[0],S=g[1],I=r.a.useRef(null),R=M(),H=function(){var e;null!==I&&void 0!==I&&I.current&&(I.current.scrollTop=null===I||void 0===I||null===(e=I.current)||void 0===e?void 0:e.scrollHeight)},L=function(){var e=Object(s.a)(l.a.mark((function e(){var a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("/console/api/v1/logs?type=text");case 2:a=e.sent,n.ok?(r=new Le.a,c=r.ansi_to_html(a),u(c)):(d.b.error("Request errored out..."),u(JSON.stringify(a))),h&&H();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.useEffect((function(){L()}),[]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(je,{}),Object(N.jsxs)(k.a,{maxWidth:"xl",style:{paddingTop:"20px"},children:[Object(N.jsx)(x.a,{margin:"normal",required:!0,disabled:!0,fullWidth:!0,name:"token",label:"Admin-secret",type:w?"text":"password",id:"token",autoComplete:"current-token",defaultValue:R.getToken(),InputProps:{endAdornment:Object(N.jsx)(T.a,{position:"end",children:Object(N.jsx)(F.a,{"aria-label":"toggle password visibility",onClick:function(){return S(!w)},onMouseDown:function(){return S(!w)},children:w?Object(N.jsx)(E.a,{}):Object(N.jsx)(W.a,{})})})}}),Object(N.jsx)("iframe",{src:"".concat("","/console/docs"),id:"myPortalToSwagger",className:"myClassname",display:"initial",position:"relative",style:{border:"none",width:"inherit",height:"700px",paddingTop:"2rem",paddingBottom:"2rem"}}),Object(N.jsx)(De,{ref:I,dangerouslySetInnerHTML:{__html:a?"Loading...":i}}),Object(N.jsx)(X.a,{children:Object(N.jsx)(C.a,{control:Object(N.jsx)(Q.a,{color:"warning",checked:h,onChange:function(e){m(!h)}}),label:"Auto scroll to bottom."})}),Object(N.jsx)(y.a,{style:{paddingTop:"1rem",paddingBottom:"1rem"}}),Object(N.jsxs)(O.a,{sx:{marginTop:2,marginBottom:2,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(N.jsx)(v.a,{component:"h3",variant:"h6",children:"Roadmap for next release:"}),Object(N.jsx)(U.a,{children:["- Import/Export metadata via CLI.","- Reload hlambda via CLI.","- Add visual studio code for web as the editor for the files.","- Implement PM2 to handle reloading for zero downtime.","- Home screen should support console and file viewer at the same time.","- Force users to handle API errors, and edge cases by providing a solution for managing errors.","- Tab complete in the shell"].map((function(e){return Object(N.jsx)(Y.a,{children:Object(N.jsx)($.a,{primary:e})},e)}))})]})]}),Object(N.jsx)(Z.a,{style:{position:"fixed",right:"20px",bottom:"20px"},color:"secondary","aria-label":"Refresh",onClick:function(){L()},children:Object(N.jsx)(te.a,{})})]})},Pe=n(16),qe=n(88),Me=(n(200),"Input"),Ae="Output",ze="Light",_e="Dark",Be=function(e){var t=e.name,n=e.prompt,c=e.colorMode,o=e.lineData,s=e.onInput,i=e.startingInputValue,l=void 0===i?"":i,u=e.inputHistory,d=e.setInputHistory,b=Object(a.useState)(0),p=Object(j.a)(b,2),x=p[0],h=p[1],m=Object(a.useState)(0),O=Object(j.a)(m,2),f=O[0],g=O[1],v=Object(a.useState)(""),y=Object(j.a)(v,2),k=y[0],w=y[1],C=Object(a.useRef)();r.a.useEffect((function(){w(u[x])}),[u,x]);Object(a.useEffect)((function(){w(l.trim())}),[l]);var S=Object(a.useRef)(!1);Object(a.useEffect)((function(){S.current&&setTimeout((function(){var e;return null===C||void 0===C||null===(e=C.current)||void 0===e?void 0:e.scrollIntoView({behavior:"smooth",block:"nearest"})}),500),S.current=!0}),[o.length]),Object(a.useEffect)((function(){if(null!=s){var e,t=[],n=Object(qe.a)(document.getElementsByClassName("react-terminal-wrapper"));try{var a=function(){var n=e.value,a=function(){var e;return null===n||void 0===n||null===(e=n.querySelector(".terminal-hidden-input"))||void 0===e?void 0:e.focus()};null===n||void 0===n||n.addEventListener("click",a),t.push({terminalEl:n,listener:a})};for(n.s();!(e=n.n()).done;)a()}catch(r){n.e(r)}finally{n.f()}return function(){t.forEach((function(e){e.terminalEl.removeEventListener("click",e.listener)}))}}}),[s]);var T=o.map((function(e,t){var n=["react-terminal-line"];return e.type===Me&&n.push("react-terminal-input"),o.length===t+1&&null==s?Object(N.jsx)("span",{className:n.join(" "),ref:C,children:e.value},t):Object(N.jsx)("pre",{className:n.join(" "),children:e.value},t)}));null!=s&&T.push(Object(N.jsxs)("span",{className:"react-terminal-line react-terminal-input","data-terminal-prompt":n||"$",ref:C,children:[k.substring(0,f),Object(N.jsx)("span",{className:"react-terminal-active-input"}),k.substring(f)]},o.length));var F=["react-terminal-wrapper"];return c===ze&&F.push("react-terminal-light"),Object(N.jsxs)("div",{className:F.join(" "),"data-terminal-name":t,children:[Object(N.jsx)("div",{className:"react-terminal",children:T}),Object(N.jsx)("input",{className:"terminal-hidden-input",placeholder:"Terminal Hidden Input",value:k,autoFocus:null!=s,onChange:function(e){w(e.target.value),g(e.target.selectionStart)},onKeyDown:function(e){if(38==e.keyCode||40==e.keyCode)return e.preventDefault(),38==e.keyCode&&h((function(){return(u.length+(x+1))%u.length})),40==e.keyCode&&h((function(){return(u.length+(x-1))%u.length})),void console.log(u);null!=s&&"Enter"===e.key&&(s(k),d([].concat(Object(Pe.a)(u),[k])),h(0),w(""))},onKeyUp:function(e){g(e.target.selectionStart)}})]})};var Ve=function(){var e=Object(ue.b)(),t=e.get,n=e.post,a=(e.response,e.loading,e.error,r.a.useState("...")),c=Object(j.a)(a,2),o=c[0],i=c[1],u=r.a.useState([]),d=Object(j.a)(u,2),b=d[0],p=d[1],x=r.a.useState([""]),h=Object(j.a)(x,2),m=h[0],O=h[1],f=function(){var e=Object(s.a)(l.a.mark((function e(n){var a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("/console/api/v1/command-cwd");case 2:return a=e.sent,r=null!==a&&void 0!==a&&a.data?null===a||void 0===a?void 0:a.data:"Error...",e.abrupt("return",{terminalInput:n,outputString:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();r.a.useEffect((function(){f().then((function(e){e.terminalInput;var t=e.outputString;p([].concat(Object(Pe.a)(b),[{type:Ae,value:t}])),i(t)}))}),[]);var g=function(){var e=Object(s.a)(l.a.mark((function e(t){var a,r,c,o,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=3;break}return p([].concat(Object(Pe.a)(b),[{type:Me,value:t},{type:Ae,value:"empty command ?"}])),e.abrupt("return");case 3:if(!["clear","cls","exit","quit"].includes(t.toLowerCase())){e.next=6;break}return p([]),e.abrupt("return");case 6:if(!["history"].includes(t.toLowerCase())){e.next=9;break}return p([].concat(Object(Pe.a)(b),[{type:Me,value:t},{type:Ae,value:m.reduce((function(e,t,n){return 0===n?e:e+"".concat(n,"  ").concat(t,"\n")}),"")}])),e.abrupt("return");case 9:if(!t.toLowerCase().startsWith("cd")){e.next=18;break}return a=t.match(/cd\s(.+)/),e.next=13,n("/console/api/v1/command-change-dir",{path:a[1]});case 13:return r=e.sent,c=null!==r&&void 0!==r&&r.data?null===r||void 0===r?void 0:r.data:"Error...",p([].concat(Object(Pe.a)(b),[{type:Me,value:t},{type:Ae,value:c}])),i(c),e.abrupt("return");case 18:if(!["pwd","?","??","help"].includes(t.toLowerCase())){e.next=21;break}return f(t).then((function(e){var t=e.terminalInput,n=e.outputString;p([].concat(Object(Pe.a)(b),[{type:Me,value:t},{type:Ae,value:n}])),i(n)})),e.abrupt("return");case 21:return e.next=23,n("/console/api/v1/command-request",{command:t});case 23:o=e.sent,console.log(o),s=null!==o&&void 0!==o&&o.data?null===o||void 0===o?void 0:o.data:"Error...",p([].concat(Object(Pe.a)(b),[{type:Me,value:t},{type:Ae,value:s}])),console.log("New terminal input received: '".concat(t,"'"));case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(je,{}),Object(N.jsx)(k.a,{maxWidth:"xl",style:{paddingTop:"20px"},children:Object(N.jsx)("div",{className:"container",children:Object(N.jsx)(Be,{name:o,colorMode:_e,lineData:b,onInput:g,inputHistory:m,setInputHistory:O})})})]})};var Je=function(){var e=Object(ue.b)();return e.get,e.post,e.response,e.loading,e.error,Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(je,{}),Object(N.jsx)(k.a,{maxWidth:"xl",style:{paddingTop:"20px"},children:Object(N.jsx)(We,{language:"yaml",defaultFile:"metadata/apps/example_demo_app/hlambda-config.yaml"})})]})};var Ge=function(){var e=Object(ue.b)();return e.get,e.post,e.response,e.loading,e.error,Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(je,{}),Object(N.jsx)(k.a,{maxWidth:"xl",style:{paddingTop:"20px"},children:Object(N.jsx)(We,{language:"javascript"})})]})},Ke=Object(K.a)("pre")((function(e){e.theme;return"\n  background-color: #000;\n  color: #FFF;\n  overflow-y: auto;\n  padding: 0;\n  height: 85vh;\n  display: block;\n  margin: 0;\n  font-size: 15px;\n"}));var Ue=function(){var e=Object(ue.b)(),t=e.get,n=(e.post,e.response),a=e.loading,c=(e.error,r.a.useState("")),o=Object(j.a)(c,2),i=o[0],u=o[1],b=r.a.useState(!0),p=Object(j.a)(b,2),x=p[0],h=p[1],m=r.a.useRef(null),O=function(){var e;null!==m&&void 0!==m&&m.current&&(m.current.scrollTop=null===m||void 0===m||null===(e=m.current)||void 0===e?void 0:e.scrollHeight)},f=function(){var e=Object(s.a)(l.a.mark((function e(){var a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("/console/api/v1/logs?type=text");case 2:a=e.sent,n.ok?(r=new Le.a,c=r.ansi_to_html(a),u(c)):(d.b.error("Request errored out..."),u(JSON.stringify(a))),x&&O();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.useEffect((function(){f()}),[]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(je,{}),Object(N.jsxs)(k.a,{maxWidth:"xl",style:{paddingTop:"20px"},children:[Object(N.jsx)("div",{style:{paddingTop:"20px"},children:Object(N.jsx)(Ke,{ref:m,dangerouslySetInnerHTML:{__html:a?"Loading...":i}})}),Object(N.jsx)(X.a,{children:Object(N.jsx)(C.a,{control:Object(N.jsx)(Q.a,{color:"warning",checked:x,onChange:function(e){h(!x)}}),label:"Auto scroll to bottom."})})]}),Object(N.jsx)(Z.a,{style:{position:"fixed",right:"20px",bottom:"20px"},color:"secondary","aria-label":"Refresh",onClick:function(){f()},children:Object(N.jsx)(te.a,{})})]})},Ye=Object(K.a)("pre")((function(e){e.theme;return"\n  background-color: #000;\n  color: #FFF;\n  overflow-y: auto;\n  padding: 0;\n  height: 85vh;\n  display: block;\n  margin: 0;\n  font-size: 15px;\n"}));var $e=function(){var e=Object(ue.b)(),t=e.get,n=(e.post,e.response),a=e.loading,c=(e.error,r.a.useState("")),o=Object(j.a)(c,2),i=o[0],u=o[1],b=r.a.useRef(null),p=function(){var e=Object(s.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("/console/api/v1/errors");case 2:a=e.sent,n.ok?u(JSON.stringify(a,null,2)):(d.b.error("Request errored out..."),u(JSON.stringify(a)));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.useEffect((function(){p()}),[]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(je,{}),Object(N.jsxs)(k.a,{maxWidth:"xl",style:{paddingTop:"20px"},children:[Object(N.jsx)("div",{style:{paddingTop:"20px"},children:"This is the list of all possible errors defined by the `errors.*.js` files:"}),Object(N.jsx)("div",{style:{paddingTop:"20px"},children:Object(N.jsx)(Ye,{ref:b,dangerouslySetInnerHTML:{__html:a?"Loading...":i}})})]})]})};var Qe=function(){var e=Object(ue.b)();return e.get,e.post,e.response,e.loading,e.error,Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(je,{}),Object(N.jsx)(k.a,{maxWidth:"xl",style:{paddingTop:"20px"},children:Object(N.jsx)(We,{language:"javascript"})})]})};var Xe=function(){var e=Object(ue.b)(),t=e.get,n=e.post,a=e.response;return e.loading,e.error,Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(je,{}),Object(N.jsx)(k.a,{maxWidth:"xl",style:{paddingTop:"20px"},children:Object(N.jsxs)(m.a,{container:!0,rowSpacing:1,columnSpacing:{xs:1,sm:2,md:3},children:[Object(N.jsx)(m.a,{item:!0,xs:12,children:"Here you can import / export metadata..."}),Object(N.jsx)(m.a,{item:!0,xs:12,children:Object(N.jsx)(p.a,{color:"primary",variant:"contained",onClick:Object(s.a)(l.a.mark((function e(){var t,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("/console/api/v1/metadata/export");case 2:if(e.sent,!a.ok){e.next=17;break}return d.b.success("Metadata exported"),e.next=7,a.blob();case 7:t=e.sent,r=window.URL.createObjectURL(new Blob([t])),(c=document.createElement("a")).href=r,c.setAttribute("download","sample.zip"),document.body.appendChild(c),c.click(),c.parentNode.removeChild(c),e.next=18;break;case 17:d.b.error("Error while exporting metadata!");case 18:case"end":return e.stop()}}),e)}))),children:"Export metadata"})}),Object(N.jsx)(y.a,{}),Object(N.jsx)(m.a,{item:!0,xs:12,children:Object(N.jsx)("input",{id:"your-file-input",type:"file",name:"metadata"})}),Object(N.jsx)(m.a,{item:!0,xs:12,children:Object(N.jsx)(p.a,{color:"primary",variant:"contained",onClick:Object(s.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.querySelector("#your-file-input"),(r=new FormData).append("metadata",t.files[0]),e.next=5,n("/console/api/v1/metadata/import",r);case 5:e.sent,a.ok?d.b.success("Metadata imported"):d.b.error("Error while importing metadata!");case 7:case"end":return e.stop()}}),e)}))),children:"Import metadata"})}),Object(N.jsx)(y.a,{}),Object(N.jsx)(m.a,{item:!0,xs:12,children:Object(N.jsx)(p.a,{color:"primary",variant:"contained",onClick:Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("/console/api/v1/metadata/clear");case 2:e.sent,a.ok?d.b.success("Metadata cleared"):d.b.error("Error while clearing metadata!");case 4:case"end":return e.stop()}}),e)}))),children:"Clear metadata"})})]})})]})};var Ze=function(){var e=Object(ue.b)();return e.get,e.post,e.response,e.loading,e.error,Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(je,{}),Object(N.jsx)(k.a,{maxWidth:"xl",style:{paddingTop:"20px"},children:"Settings..."})]})};Object(K.a)("pre")((function(e){e.theme;return"\n  background-color: #000;\n  color: #FFF;\n  overflow-y: auto;\n  padding: 0;\n  height: 30vh;\n  display: block;\n  margin: 0;\n  font-size: 15px;\n"}));var et=function(){var e=Object(ue.b)(),t=(e.get,e.post,e.response,e.loading,e.error,r.a.useState("")),n=Object(j.a)(t,2),a=(n[0],n[1],r.a.useState(!0)),c=Object(j.a)(a,2),o=(c[0],c[1],r.a.useState(!1)),s=Object(j.a)(o,2);return s[0],s[1],r.a.useRef(null),M(),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(je,{}),Object(N.jsx)(k.a,{maxWidth:"xl",style:{paddingTop:"20px"},children:Object(N.jsx)("iframe",{src:"".concat("","/console/vscode"),id:"myPortalToSwagger",className:"myClassname",display:"initial",position:"relative",style:{border:"none",width:"inherit",height:"900px",paddingTop:"2rem",paddingBottom:"2rem"}})}),Object(N.jsx)(Z.a,{style:{position:"fixed",right:"20px",bottom:"20px"},color:"secondary","aria-label":"Refresh",onClick:function(){getLogs()},children:Object(N.jsx)(te.a,{})})]})},tt=n(61),nt=function(e){var t=e.children,n=M().getToken(),a=Object(H.f)();return""===n||null===n||"undefined"===typeof n?Object(N.jsx)(H.a,{to:"/login",state:{from:a},replace:!0}):t},at=function(e){return r.a.useEffect((function(){document.title=e.title||""}),[e.title]),e.children};var rt=function(){var e=M(),t={persist:!1,cachePolicy:"no-cache",headers:{Accept:"application/json","x-hlambda-admin-secret":e.getToken()},interceptors:{request:function(){var t=Object(s.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.options,n.url,n.path,n.route,a.headers["x-hlambda-admin-secret"]=e.getToken(),t.abrupt("return",a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}};return Object(N.jsx)(ue.a,{url:"",options:t,children:Object(N.jsxs)(tt.a,{basename:"/console",children:[Object(N.jsx)(u.a,{}),Object(N.jsxs)(H.d,{children:[Object(N.jsx)(H.b,{path:"/login",element:Object(N.jsx)(at,{title:"Login | Hlambda",children:Object(N.jsx)(A,{})})}),Object(N.jsx)(H.b,{path:"/logout",element:Object(N.jsx)(at,{title:"Logout | Hlambda",children:Object(N.jsx)(B,{})})}),Object(N.jsx)(H.b,{index:!0,path:"/",element:Object(N.jsx)(nt,{children:Object(N.jsx)(at,{title:"Console | Hlambda",children:Object(N.jsx)(Ne,{})})})}),Object(N.jsx)(H.b,{path:"/code",element:Object(N.jsx)(nt,{children:Object(N.jsx)(at,{title:"Console | Hlambda",children:Object(N.jsx)(et,{})})})}),Object(N.jsx)(H.b,{path:"/shell",element:Object(N.jsx)(nt,{children:Object(N.jsx)(at,{title:"Console | Hlambda",children:Object(N.jsx)(Ve,{})})})}),Object(N.jsx)(H.b,{path:"/env",element:Object(N.jsx)(nt,{children:Object(N.jsx)(at,{title:"Console | Hlambda",children:Object(N.jsx)(Je,{})})})}),Object(N.jsx)(H.b,{path:"/routes",element:Object(N.jsx)(nt,{children:Object(N.jsx)(at,{title:"Console | Hlambda",children:Object(N.jsx)(Ge,{})})})}),Object(N.jsx)(H.b,{path:"/logs",element:Object(N.jsx)(nt,{children:Object(N.jsx)(at,{title:"Console | Hlambda",children:Object(N.jsx)(Ue,{})})})}),Object(N.jsx)(H.b,{path:"/errors",element:Object(N.jsx)(nt,{children:Object(N.jsx)(at,{title:"Console | Hlambda",children:Object(N.jsx)($e,{})})})}),Object(N.jsx)(H.b,{path:"/events",element:Object(N.jsx)(nt,{children:Object(N.jsx)(at,{title:"Console | Hlambda",children:Object(N.jsx)(Qe,{})})})}),Object(N.jsx)(H.b,{path:"/metadata",element:Object(N.jsx)(nt,{children:Object(N.jsx)(at,{title:"Console | Hlambda",children:Object(N.jsx)(Xe,{})})})}),Object(N.jsx)(H.b,{path:"/settings",element:Object(N.jsx)(nt,{children:Object(N.jsx)(at,{title:"Console | Hlambda",children:Object(N.jsx)(Ze,{})})})}),Object(N.jsx)(H.b,{path:"*",element:Object(N.jsx)(G,{})})]}),Object(N.jsx)(d.a,{theme:"dark"})]})})},ct=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,277)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))},ot=n(257),st=n(152),it=n(58),lt=n(57),ut=Object(st.a)({palette:{mode:"dark",primary:{main:it.a[500]},secondary:{main:lt.a[500]}}});o.a.render(Object(N.jsx)(r.a.StrictMode,{children:Object(N.jsx)(ot.a,{theme:ut,children:Object(N.jsx)(q,{children:Object(N.jsx)(rt,{})})})}),document.getElementById("root")),ct()}},[[201,1,2]]]);
//# sourceMappingURL=main.047438f9.chunk.js.map