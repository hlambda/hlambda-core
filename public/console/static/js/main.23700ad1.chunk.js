(this["webpackJsonpfrontend-console"]=this["webpackJsonpfrontend-console"]||[]).push([[0],{199:function(e,t,n){},200:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),o=n(138),s=n.n(o),i=n(14),l=n(17),u=n(249),j=n(20),d=(n(175),n(8)),b=n(262),p=n(263),x=n(254),h=n(265),O=n(264),m=n(269),f=n(140),g=n.n(f),v=n(100),y=n(252),k=n(261),w=n(274),C=n(273),S=n(257),T=n(271),E=n(272),F=n(74),I=n.n(F),W=n(75),R=n.n(W),H=n(16),L=n(139),N=n.n(L),D=null!==(a="console")?a:"";var P=n(1),M=c.a.createContext();function q(e){var t=e.children,n=c.a.useState("local-storage"),a=Object(d.a)(n,2),o=a[0],s=a[1],u=c.a.useState(""),b=Object(d.a)(u,2),p=b[0],x=b[1],h=function(e,t){var n="".concat(D,":").concat(e),a=Object(r.useState)((function(){var e=localStorage.getItem(n);if(null!=e)try{return JSON.parse(e)}catch(a){return console.log("[useLocalStorage] Warning while parsing JSON from local storage"),"true"==="".concat("true").toLowerCase()&&console.error(a),t}return"function"===typeof t?t():t})),c=Object(d.a)(a,2),o=c[0],s=c[1];return Object(r.useEffect)((function(){return localStorage.setItem(n,JSON.stringify(o)),function(){}}),[n,o]),[o,s]}("adminSecret",""),O=Object(d.a)(h,2),m=O[0],f=O[1],g=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return s("local-storage"),e.next=4,f(t);case 4:e.next=9;break;case 6:return s("memory-storage"),e.next=9,x(t);case 9:console.log("signin");case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"local-storage"===o?f(""):setToken(""),console.log("signout");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("/console/api/v1/check-connection",{headers:{"x-hlambda-admin-secret":t}}).then((function(e){return console.log(e),!0})).catch((function(e){var t;console.log("[fetch-error]",e);var n=null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data;return console.log(n),null!==n&&void 0!==n&&n.message?j.b.error("".concat(null===n||void 0===n?void 0:n.message)):e&&j.b.error("".concat(e)),!1}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k={getToken:function(){return"local-storage"===o?m:p},signin:g,signout:v,verifySession:y};return Object(P.jsx)(M.Provider,{value:k,children:t})}function _(){return c.a.useContext(M)}function z(){var e=r.useState(!1),t=Object(d.a)(e,2),n=t[0],a=t[1],c=r.useState(!0),o=Object(d.a)(c,2),s=o[0],j=o[1],f=Object(H.g)(),F=_(),W=r.useState(!1),L=Object(d.a)(W,2),N=L[0],D=L[1],M=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),t.preventDefault(),n=new FormData(t.currentTarget),e.next=5,F.verifySession(n.get("token"));case 5:if(!e.sent){e.next=12;break}return e.next=9,F.signin(n.get("token"),s);case 9:f("/"),e.next=13;break;case 12:a(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(!s);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsxs)(k.a,{component:"main",maxWidth:"xs",children:[Object(P.jsx)(u.a,{}),Object(P.jsxs)(m.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(P.jsx)(b.a,{sx:{m:1},children:Object(P.jsx)(g.a,{})}),Object(P.jsx)(v.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(P.jsxs)(m.a,{component:"form",onSubmit:M,noValidate:!0,sx:{mt:1},children:[Object(P.jsx)(x.a,{margin:"normal",required:!0,fullWidth:!0,name:"token",label:"Enter admin-secret",type:N?"text":"password",id:"token",autoComplete:"current-token",defaultValue:F.getToken(),InputProps:{endAdornment:Object(P.jsx)(T.a,{position:"end",children:Object(P.jsx)(E.a,{"aria-label":"toggle password visibility",onMouseDown:function(){return D(!N)},children:N?Object(P.jsx)(I.a,{}):Object(P.jsx)(R.a,{})})})}}),Object(P.jsx)(C.a,{control:Object(P.jsx)(S.a,{checked:s,value:"remember",color:"primary",onChange:q}),label:"Remember in this browser"}),Object(P.jsx)(p.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},disabled:n,children:n?Object(P.jsx)(w.a,{size:25,color:"inherit"}):"ENTER"}),Object(P.jsxs)(O.a,{container:!0,children:[Object(P.jsx)(O.a,{item:!0,xs:!0,children:Object(P.jsx)(h.a,{href:"https://www.hlambda.io/",variant:"body2",children:"How to set admin secret?"})}),Object(P.jsx)(O.a,{item:!0,children:Object(P.jsx)(h.a,{href:"https://www.hlambda.io/",variant:"body2",children:"What is this? Help"})})]}),Object(P.jsx)(y.a,{sx:{marginTop:"2rem"}}),Object(P.jsx)(O.a,{container:!0,children:Object(P.jsx)(O.a,{item:!0,xs:!0,sx:{padding:"1rem"},children:Object(P.jsx)(v.a,{align:"center",component:"h6",variant:"inherit",color:"text.disabled",sx:{fontWeight:"200"},children:"v0.0.4-519d86ee"})})})]})]})]})}var A=n(143),J=n.n(A);function B(){var e=Object(H.g)(),t=_();return r.useEffect((function(){setTimeout(Object(l.a)(Object(i.a)().mark((function n(){return Object(i.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.signout();case 2:e("/login");case 3:case"end":return n.stop()}}),n)}))),1337)}),[e]),Object(P.jsxs)(k.a,{component:"main",maxWidth:"xs",children:[Object(P.jsx)(u.a,{}),Object(P.jsxs)(m.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(P.jsx)(b.a,{sx:{m:1},children:Object(P.jsx)(J.a,{})}),Object(P.jsx)(v.a,{component:"h1",variant:"h5",children:"Logging you out..."}),Object(P.jsx)(m.a,{sx:{marginTop:"1rem",display:"flex"},children:Object(P.jsx)(w.a,{color:"inherit"})})]})]})}var V=n(144),G=n.n(V);function K(){var e=Object(H.g)();return Object(P.jsxs)(k.a,{component:"main",maxWidth:"xs",children:[Object(P.jsx)(u.a,{}),Object(P.jsxs)(m.a,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(P.jsx)(b.a,{sx:{m:1},children:Object(P.jsx)(G.a,{})}),Object(P.jsx)(v.a,{component:"h1",variant:"h5",children:"404 page not found..."}),Object(P.jsx)(m.a,{sx:{marginTop:"1rem",display:"flex"},children:Object(P.jsx)(p.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},onClick:function(){e("/")},children:"GO BACK"})})]})]})}var U=n(6),Y=n(270),$=n(258),Q=n(253),X=n(276),Z=n(275),ee=n(277),te=n(47),ne=n.n(te),ae=n(280),re=n(281),ce=n(153),oe=n(267),se=n(146),ie=n.n(se),le=n(147),ue=n.n(le),je=n(18),de=[{name:"API",url:"/"},{name:"Routes",url:"/routes"},{name:"Shell",url:"/shell"},{name:"Env",url:"/env"},{name:"Constants",url:"/constants"},{name:"Errors",url:"/errors"},{name:"Logs",url:"/logs"},{name:"Metadata",url:"/metadata"},{name:"Logout",url:"/logout"}],be=function(){var e=Object(H.g)(),t=Object(je.b)(),n=t.get,a=(t.post,t.response),c=(t.loading,t.error,r.useState(null)),o=Object(d.a)(c,2),s=o[0],u=o[1],b=r.useState(null),x=Object(d.a)(b,2),h=(x[0],x[1],function(){u(null)});return Object(P.jsx)(ae.a,{position:"static",children:Object(P.jsx)(k.a,{maxWidth:"xl",children:Object(P.jsxs)(re.a,{disableGutters:!0,children:[Object(P.jsx)(v.a,{variant:"h6",noWrap:!0,component:"div",sx:{mr:2,display:{xs:"none",md:"flex"}},onClick:function(){e("/")},children:"Console"}),Object(P.jsxs)(m.a,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[Object(P.jsx)(E.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){u(e.currentTarget)},color:"inherit",children:Object(P.jsx)(ie.a,{})}),Object(P.jsx)(ce.a,{id:"menu-appbar",anchorEl:s,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(s),onClose:h,sx:{display:{xs:"block",md:"none"}},children:de.map((function(t){return Object(P.jsx)(oe.a,{onClick:function(){e(t.url),h()},children:Object(P.jsx)(v.a,{textAlign:"center",children:t.name})},t.name)}))})]}),Object(P.jsx)(v.a,{variant:"h6",noWrap:!0,component:"div",sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:"Console"}),Object(P.jsx)(m.a,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:de.map((function(t){return Object(P.jsx)(p.a,{onClick:function(){e(t.url)},sx:{my:2,color:"white",display:"block"},children:t.name},t.name)}))}),Object(P.jsx)(E.a,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(){e("/settings")},color:"inherit",children:Object(P.jsx)(ue.a,{})}),Object(P.jsx)(p.a,{variant:"contained",onClick:Object(l.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("/console/api/v1/trigger-restart");case 2:e.sent,a.ok?j.b.success("Server reloading..."):j.b.error("Request error!");case 4:case"end":return e.stop()}}),e)}))),color:"secondary",children:"Reload server"})]})})})},pe=n(3),xe=n(21),he=n(279),Oe=n(278),me=n(260),fe=n(152),ge=n(282),ve=n(148),ye=n.n(ve),ke=n(149),we=n.n(ke),Ce=n(256),Se=n(98),Te=n.n(Se);function Ee(e){var t=e.valuesParrent,n=e.setValuesParrent,a=Object(je.b)(),c=(a.get,a.post),o=a.response,s=a.loading,u=(a.error,r.useState({root:{name:"root",path:".",files:[{name:"metadata",type:"directory",files:[{name:"apps",type:"directory",files:[{name:"wut",type:"directory",files:[]}]}]}]}})),b=Object(d.a)(u,2),p=b[0],x=b[1],h=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t,n){var a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("selected:",n),console.log(t),e.next=4,c("/console/api/v1/read-dir",{path:n});case 4:a=e.sent,o.ok?function(){for(var e=n.split("/"),t=Object(xe.a)({},p),r="root.files",c=function(t){var n=Te.a.get(p,r),a=Te.a.findIndex(n,(function(n){return n.name==e[t]}));r+="[".concat(a,"].files"),console.log(r)},o=1;o<e.length;o++)c(o);console.log(r),Te.a.set(t,r,a.map((function(e){return Object(xe.a)(Object(xe.a)({},e),{},{files:[]})}))),x(t)}():j.b.error("Request errored out...");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(ge.a,{"aria-label":"file system navigator",defaultCollapseIcon:Object(P.jsx)(ye.a,{}),defaultExpandIcon:Object(P.jsx)(we.a,{}),sx:{flexGrow:1,maxWidth:400,overflowY:"auto"},onNodeSelect:h,children:[s&&Object(P.jsx)(w.a,{size:10}),function e(a){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{path:".",name:"root"},c=0!==a.files.length;return c?Object(P.jsx)(Ce.a,{nodeId:a.path,label:a.name,children:a.files.map((function(t,n){var a=r.path+"/"+t.name;return console.log(a),e(Object(xe.a)(Object(xe.a)({},t),{},{path:a}),Object(xe.a)(Object(xe.a)({},t),{},{path:a}))}))},a.path):"directory"===a.type?Object(P.jsx)(Ce.a,{nodeId:a.path,label:a.name,children:Object(P.jsx)(Ce.a,{nodeId:a.path+"-empty",label:""},a.path+"-empty")},a.path):Object(P.jsx)(Ce.a,{nodeId:a.path,onClick:function(){n(Object(xe.a)(Object(xe.a)({},t),{},{path:a.path}))},label:a.name},a.path)}(p.root)]})})}var Fe=n(150),Ie=n.n(Fe),We=n(151),Re=n.n(We);var He=function(e){var t,n=e.language,a=e.defaultFile,r=Object(je.b)(),o=(r.get,r.post),s=r.response,u=(r.loading,r.error),b=c.a.useState({path:null!==a&&void 0!==a?a:"metadata/apps/auth/routes/router.auth.js",editorCodeData:"",encodingWrite:"base64",encodingRead:"utf-8"}),x=Object(d.a)(b,2),h=x[0],m=x[1],f=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t,n){var a,r,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ie.a.encode("".concat(h.editorCodeData)),r=Re.a.encode(a),e.next=4,o("/console/api/v1/file-edit",{path:h.path,data:r,encodingWrite:h.encodingWrite,encodingRead:h.encodingRead});case 4:c=e.sent,s.ok?(j.b.success("Saved!"),console.log(c)):setEditorCodeValue("");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t,n){var a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o("/console/api/v1/file-view",{path:h.path},{responseType:"text"});case 2:if(!s.ok){e.next=10;break}return e.next=5,s.text();case 5:a=e.sent,m(Object(xe.a)(Object(xe.a)({},h),{},{editorCodeData:a})),console.log(a),e.next=11;break;case 10:m(Object(xe.a)(Object(xe.a)({},h),{},{editorCodeData:""}));case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return c.a.useEffect((function(){g()}),[h.path]),c.a.useEffect((function(){u&&(j.b.error("Request errored out..."),console.log(JSON.stringify(s.data)))}),[u]),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{style:{paddingTop:"20px"},children:Object(P.jsx)(fe.a,{height:"60vh",language:[".yml",".yaml"].includes(h.path.substr(-5))?"yaml":[".json"].includes(h.path.substr(-5))?"json":[".js"].includes(h.path.substr(-3))?"javascript":[".ts"].includes(h.path.substr(-3))?"typescript":[".md"].includes(h.path.substr(-3))?"markdown":n,defaultValue:h.editorCodeData,value:h.editorCodeData,onChange:function(e,t){m(Object(xe.a)(Object(xe.a)({},h),{},{editorCodeData:e}))},theme:"vs-dark"})}),Object(P.jsx)(y.a,{}),Object(P.jsx)("div",{style:{paddingTop:"20px"},children:Object(P.jsxs)(he.a,{fullWidth:!0,sx:{m:1},variant:"standard",children:[Object(P.jsx)(me.a,{htmlFor:"standard-adornment-amount",children:"Path"}),Object(P.jsx)(Oe.a,{id:"standard-adornment-amount",value:h.path,onChange:(t="path",function(e){m(Object(xe.a)(Object(xe.a)({},h),{},Object(pe.a)({},t,e.target.value)))}),variant:"filled",startAdornment:Object(P.jsx)(T.a,{position:"start",children:"/"})})]})}),Object(P.jsx)(y.a,{}),Object(P.jsxs)(O.a,{container:!0,children:[Object(P.jsx)(O.a,{children:Object(P.jsx)(p.a,{variant:"contained",onClick:f,children:"Sve File"})}),Object(P.jsx)(O.a,{children:Object(P.jsx)(p.a,{variant:"contained",onClick:g,children:"Reload File"})})]}),Object(P.jsx)(y.a,{}),Object(P.jsx)("div",{style:{paddingTop:"20px"},children:Object(P.jsx)(Ee,{defaultFile:a,languages:[".js",".yml",".yaml"],setValuesParrent:m,valuesParrent:h})})]})},Le=n(76),Ne=n.n(Le),De=Object(U.a)("pre")((function(e){e.theme;return"\n  background-color: #000;\n  color: #FFF;\n  overflow-y: auto;\n  padding: 0;\n  height: 30vh;\n  display: block;\n  margin: 0;\n  font-size: 15px;\n"}));var Pe=function(){var e=Object(je.b)(),t=e.get,n=(e.post,e.response),a=e.loading,r=e.error,o=c.a.useState(""),s=Object(d.a)(o,2),u=s[0],b=s[1],p=c.a.useState(!0),h=Object(d.a)(p,2),O=h[0],f=h[1],g=c.a.useState(!1),w=Object(d.a)(g,2),S=w[0],F=w[1],W=c.a.useRef(null),H=_(),L=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var a,r,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("/console/api/v1/logs?type=text");case 2:a=e.sent,n.ok&&(r=new Ne.a,c=r.ansi_to_html(a),b(c));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.useEffect((function(){L()}),[]),c.a.useEffect((function(){r&&(j.b.error("Request errored out..."),b(JSON.stringify(n.data)))}),[r]),c.a.useEffect((function(){O&&function(){var e;null!==W&&void 0!==W&&W.current&&(W.current.scrollTop=null===W||void 0===W||null===(e=W.current)||void 0===e?void 0:e.scrollHeight)}()})),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(be,{}),Object(P.jsxs)(k.a,{maxWidth:"xl",style:{paddingTop:"20px"},children:[Object(P.jsx)(x.a,{margin:"normal",required:!0,disabled:!0,fullWidth:!0,name:"token",label:"Admin-secret",type:S?"text":"password",id:"token",autoComplete:"current-token",defaultValue:H.getToken(),InputProps:{endAdornment:Object(P.jsx)(T.a,{position:"end",children:Object(P.jsx)(E.a,{"aria-label":"toggle password visibility",onMouseDown:function(){return F(!S)},children:S?Object(P.jsx)(I.a,{}):Object(P.jsx)(R.a,{})})})}}),Object(P.jsx)("iframe",{src:"".concat("","/console/docs"),id:"myPortalToSwagger",className:"myClassname",display:"initial",position:"relative",style:{border:"none",width:"inherit",height:"700px",paddingTop:"2rem",paddingBottom:"2rem"}}),Object(P.jsx)(De,{ref:W,dangerouslySetInnerHTML:{__html:a?"Loading...":u}}),Object(P.jsx)(Z.a,{children:Object(P.jsx)(C.a,{control:Object(P.jsx)(X.a,{color:"warning",checked:O,onChange:function(e){f(!O)}}),label:"Auto scroll to bottom."})}),Object(P.jsx)(y.a,{style:{paddingTop:"1rem",paddingBottom:"1rem"}}),Object(P.jsxs)(m.a,{sx:{marginTop:2,marginBottom:2,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(P.jsx)(v.a,{component:"h3",variant:"h6",children:"Roadmap for next release:"}),Object(P.jsx)(Y.a,{children:["- Add visual studio code for web as the editor for the files.","- Implement PM2 to handle reloading for zero downtime.","- Home screen should support console and file viewer at the same time.","- Force users to handle API errors, and edge cases by providing a solution for managing errors.","- Tab complete in the shell"].map((function(e){return Object(P.jsx)($.a,{children:Object(P.jsx)(Q.a,{primary:e})},e)}))})]})]}),Object(P.jsx)(ee.a,{style:{position:"fixed",right:"20px",bottom:"20px"},color:"secondary","aria-label":"Refresh",onClick:function(){L()},children:Object(P.jsx)(ne.a,{})})]})},Me=n(15),qe=n(92),_e=(n(199),"Input"),ze="Output",Ae="Light",Je="Dark",Be=function(e){var t=e.name,n=e.prompt,a=e.colorMode,o=e.lineData,s=e.onInput,i=e.startingInputValue,l=void 0===i?"":i,u=e.inputHistory,j=e.setInputHistory,b=Object(r.useState)(0),p=Object(d.a)(b,2),x=p[0],h=p[1],O=Object(r.useState)(0),m=Object(d.a)(O,2),f=m[0],g=m[1],v=Object(r.useState)(""),y=Object(d.a)(v,2),k=y[0],w=y[1],C=Object(r.useRef)();c.a.useEffect((function(){w(u[x])}),[u,x]);Object(r.useEffect)((function(){w(l.trim())}),[l]);var S=Object(r.useRef)(!1);Object(r.useEffect)((function(){S.current&&setTimeout((function(){var e;return null===C||void 0===C||null===(e=C.current)||void 0===e?void 0:e.scrollIntoView({behavior:"smooth",block:"nearest"})}),500),S.current=!0}),[o.length]),Object(r.useEffect)((function(){if(null!=s){var e,t=[],n=Object(qe.a)(document.getElementsByClassName("react-terminal-wrapper"));try{var a=function(){var n=e.value,a=function(){var e;return null===n||void 0===n||null===(e=n.querySelector(".terminal-hidden-input"))||void 0===e?void 0:e.focus()};null===n||void 0===n||n.addEventListener("click",a),t.push({terminalEl:n,listener:a})};for(n.s();!(e=n.n()).done;)a()}catch(r){n.e(r)}finally{n.f()}return function(){t.forEach((function(e){e.terminalEl.removeEventListener("click",e.listener)}))}}}),[s]);var T=o.map((function(e,t){var n=["react-terminal-line"];return e.type===_e&&n.push("react-terminal-input"),o.length===t+1&&null==s?Object(P.jsx)("span",{className:n.join(" "),ref:C,children:e.value},t):Object(P.jsx)("pre",{className:n.join(" "),children:e.value},t)}));null!=s&&T.push(Object(P.jsxs)("span",{className:"react-terminal-line react-terminal-input","data-terminal-prompt":n||"$",ref:C,children:[k.substring(0,f),Object(P.jsx)("span",{className:"react-terminal-active-input"}),k.substring(f)]},o.length));var E=["react-terminal-wrapper"];return a===Ae&&E.push("react-terminal-light"),Object(P.jsxs)("div",{className:E.join(" "),"data-terminal-name":t,children:[Object(P.jsx)("div",{className:"react-terminal",children:T}),Object(P.jsx)("input",{className:"terminal-hidden-input",placeholder:"Terminal Hidden Input",value:k,autoFocus:null!=s,onChange:function(e){w(e.target.value),g(e.target.selectionStart)},onKeyDown:function(e){if(38==e.keyCode||40==e.keyCode)return e.preventDefault(),38==e.keyCode&&h((function(){return(u.length+(x+1))%u.length})),40==e.keyCode&&h((function(){return(u.length+(x-1))%u.length})),void console.log(u);null!=s&&"Enter"===e.key&&(s(k),j([].concat(Object(Me.a)(u),[k])),h(0),w(""))},onKeyUp:function(e){g(e.target.selectionStart)}})]})};var Ve=function(){var e=Object(je.b)(),t=e.get,n=e.post,a=(e.response,e.loading,e.error,c.a.useState("...")),r=Object(d.a)(a,2),o=r[0],s=r[1],u=c.a.useState([]),j=Object(d.a)(u,2),b=j[0],p=j[1],x=c.a.useState([""]),h=Object(d.a)(x,2),O=h[0],m=h[1],f=function(){var e=Object(l.a)(Object(i.a)().mark((function e(n){var a,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("/console/api/v1/command-cwd");case 2:return a=e.sent,r=null!==a&&void 0!==a&&a.data?null===a||void 0===a?void 0:a.data:"Error...",e.abrupt("return",{terminalInput:n,outputString:r});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();c.a.useEffect((function(){f().then((function(e){e.terminalInput;var t=e.outputString;p([].concat(Object(Me.a)(b),[{type:ze,value:t}])),s(t)}))}),[]);var g=function(){var e=Object(l.a)(Object(i.a)().mark((function e(t){var a,r,c,o,l;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t){e.next=3;break}return p([].concat(Object(Me.a)(b),[{type:_e,value:t},{type:ze,value:"empty command ?"}])),e.abrupt("return");case 3:if(!["clear","cls","exit","quit"].includes(t.toLowerCase())){e.next=6;break}return p([]),e.abrupt("return");case 6:if(!["history"].includes(t.toLowerCase())){e.next=9;break}return p([].concat(Object(Me.a)(b),[{type:_e,value:t},{type:ze,value:O.reduce((function(e,t,n){return 0===n?e:e+"".concat(n,"  ").concat(t,"\n")}),"")}])),e.abrupt("return");case 9:if(!t.toLowerCase().startsWith("cd")){e.next=18;break}return a=t.match(/cd\s(.+)/),e.next=13,n("/console/api/v1/command-change-dir",{path:a[1]});case 13:return r=e.sent,c=null!==r&&void 0!==r&&r.data?null===r||void 0===r?void 0:r.data:"Error...",p([].concat(Object(Me.a)(b),[{type:_e,value:t},{type:ze,value:c}])),s(c),e.abrupt("return");case 18:if(!["pwd","?","??","help"].includes(t.toLowerCase())){e.next=21;break}return f(t).then((function(e){var t=e.terminalInput,n=e.outputString;p([].concat(Object(Me.a)(b),[{type:_e,value:t},{type:ze,value:n}])),s(n)})),e.abrupt("return");case 21:return e.next=23,n("/console/api/v1/command-request",{command:t});case 23:o=e.sent,console.log(o),l=null!==o&&void 0!==o&&o.data?null===o||void 0===o?void 0:o.data:"Error...",p([].concat(Object(Me.a)(b),[{type:_e,value:t},{type:ze,value:l}])),console.log("New terminal input received: '".concat(t,"'"));case 28:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(be,{}),Object(P.jsx)(k.a,{maxWidth:"xl",style:{paddingTop:"20px"},children:Object(P.jsx)("div",{className:"container",children:Object(P.jsx)(Be,{name:o,colorMode:Je,lineData:b,onInput:g,inputHistory:O,setInputHistory:m})})})]})};var Ge=function(){var e=Object(je.b)();return e.get,e.post,e.response,e.loading,e.error,Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(be,{}),Object(P.jsx)(k.a,{maxWidth:"xl",style:{paddingTop:"20px"},children:Object(P.jsx)(He,{language:"yaml",defaultFile:"metadata/apps/example_demo_app/hlambda-config.yaml"})})]})};var Ke=function(){var e=Object(je.b)();return e.get,e.post,e.response,e.loading,e.error,Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(be,{}),Object(P.jsx)(k.a,{maxWidth:"xl",style:{paddingTop:"20px"},children:Object(P.jsx)(He,{language:"javascript"})})]})},Ue=Object(U.a)("pre")((function(e){e.theme;return"\n  background-color: #000;\n  color: #FFF;\n  overflow-y: auto;\n  padding: 0;\n  height: 85vh;\n  display: block;\n  margin: 0;\n  font-size: 15px;\n"}));var Ye=function(){var e=Object(je.b)(),t=e.get,n=(e.post,e.response),a=e.loading,r=e.error,o=c.a.useState(""),s=Object(d.a)(o,2),u=s[0],b=s[1],p=c.a.useState(!0),x=Object(d.a)(p,2),h=x[0],O=x[1],m=c.a.useRef(null),f=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var a,r,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("/console/api/v1/logs?type=text");case 2:a=e.sent,n.ok&&(r=new Ne.a,c=r.ansi_to_html(a),b(c));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.useEffect((function(){f()}),[]),c.a.useEffect((function(){r&&(j.b.error("Request errored out..."),b(JSON.stringify(n.data)))}),[r]),c.a.useEffect((function(){h&&function(){var e;null!==m&&void 0!==m&&m.current&&(m.current.scrollTop=null===m||void 0===m||null===(e=m.current)||void 0===e?void 0:e.scrollHeight)}()})),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(be,{}),Object(P.jsxs)(k.a,{maxWidth:"xl",style:{paddingTop:"20px"},children:[Object(P.jsx)("div",{style:{paddingTop:"20px"},children:Object(P.jsx)(Ue,{ref:m,dangerouslySetInnerHTML:{__html:a?"Loading...":u}})}),Object(P.jsx)(Z.a,{children:Object(P.jsx)(C.a,{control:Object(P.jsx)(X.a,{color:"warning",checked:h,onChange:function(e){O(!h)}}),label:"Auto scroll to bottom."})})]}),Object(P.jsx)(ee.a,{style:{position:"fixed",right:"20px",bottom:"20px"},color:"secondary","aria-label":"Refresh",onClick:function(){f()},children:Object(P.jsx)(ne.a,{})})]})},$e=Object(U.a)("pre")((function(e){e.theme;return"\n  background-color: #000;\n  color: #FFF;\n  overflow-y: auto;\n  padding: 0;\n  height: 85vh;\n  display: block;\n  margin: 0;\n  font-size: 15px;\n"}));var Qe=function(){var e=Object(je.b)(),t=e.get,n=(e.post,e.response),a=e.loading,r=e.error,o=c.a.useState(""),s=Object(d.a)(o,2),u=s[0],b=s[1],p=c.a.useRef(null),x=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("/console/api/v1/constants");case 2:a=e.sent,n.ok&&b(JSON.stringify(a,null,2));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.useEffect((function(){x()}),[]),c.a.useEffect((function(){r&&(j.b.error("Request errored out..."),console.log(JSON.stringify(n.data)))}),[r]),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(be,{}),Object(P.jsxs)(k.a,{maxWidth:"xl",style:{paddingTop:"20px"},children:[Object(P.jsx)("div",{style:{paddingTop:"20px"},children:"This is the list of all possible constants defined by the `constants.*.js` files:"}),Object(P.jsx)("div",{style:{paddingTop:"20px"},children:Object(P.jsx)($e,{ref:p,dangerouslySetInnerHTML:{__html:a?"Loading...":u}})})]})]})},Xe=Object(U.a)("pre")((function(e){e.theme;return"\n  background-color: #000;\n  color: #FFF;\n  overflow-y: auto;\n  padding: 0;\n  height: 85vh;\n  display: block;\n  margin: 0;\n  font-size: 15px;\n"}));var Ze=function(){var e=Object(je.b)(),t=e.get,n=(e.post,e.response),a=e.loading,r=e.error,o=c.a.useState(""),s=Object(d.a)(o,2),u=s[0],b=s[1],p=c.a.useRef(null),x=function(){var e=Object(l.a)(Object(i.a)().mark((function e(){var a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("/console/api/v1/errors");case 2:a=e.sent,n.ok&&b(JSON.stringify(a,null,2));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.useEffect((function(){x()}),[]),c.a.useEffect((function(){r&&(j.b.error("Request errored out..."),console.log(JSON.stringify(n.data)))}),[r]),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(be,{}),Object(P.jsxs)(k.a,{maxWidth:"xl",style:{paddingTop:"20px"},children:[Object(P.jsx)("div",{style:{paddingTop:"20px"},children:"This is the list of all possible errors defined by the `errors.*.js` files:"}),Object(P.jsx)("div",{style:{paddingTop:"20px"},children:Object(P.jsx)(Xe,{ref:p,dangerouslySetInnerHTML:{__html:a?"Loading...":u}})})]})]})};var et=function(){var e=Object(je.b)();return e.get,e.post,e.response,e.loading,e.error,Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(be,{}),Object(P.jsx)(k.a,{maxWidth:"xl",style:{paddingTop:"20px"},children:Object(P.jsx)(He,{language:"javascript"})})]})};var tt=function(){var e=Object(je.b)(),t=e.get,n=e.post,a=e.response;return e.loading,e.error,Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(be,{}),Object(P.jsx)(k.a,{maxWidth:"xl",style:{paddingTop:"20px"},children:Object(P.jsxs)(O.a,{container:!0,rowSpacing:1,columnSpacing:{xs:1,sm:2,md:3},children:[Object(P.jsx)(O.a,{item:!0,xs:12,children:"Here you can import / export metadata..."}),Object(P.jsx)(O.a,{item:!0,xs:12,children:Object(P.jsx)(p.a,{color:"primary",variant:"contained",onClick:Object(l.a)(Object(i.a)().mark((function e(){var t,r,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("/console/api/v1/metadata/export");case 2:if(e.sent,!a.ok){e.next=17;break}return j.b.success("Metadata exported"),e.next=7,a.blob();case 7:t=e.sent,r=window.URL.createObjectURL(new Blob([t])),(c=document.createElement("a")).href=r,c.setAttribute("download","sample.zip"),document.body.appendChild(c),c.click(),c.parentNode.removeChild(c),e.next=18;break;case 17:j.b.error("Error while exporting metadata!");case 18:case"end":return e.stop()}}),e)}))),children:"Export metadata"})}),Object(P.jsx)(y.a,{}),Object(P.jsx)(O.a,{item:!0,xs:12,children:Object(P.jsx)("input",{id:"your-file-input",type:"file",name:"metadata"})}),Object(P.jsx)(O.a,{item:!0,xs:12,children:Object(P.jsx)(p.a,{color:"primary",variant:"contained",onClick:Object(l.a)(Object(i.a)().mark((function e(){var t,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.querySelector("#your-file-input"),(r=new FormData).append("metadata",t.files[0]),e.next=5,n("/console/api/v1/metadata/import",r);case 5:e.sent,a.ok?j.b.success("Metadata imported"):j.b.error("Error while importing metadata!");case 7:case"end":return e.stop()}}),e)}))),children:"Import metadata"})}),Object(P.jsx)(y.a,{}),Object(P.jsx)(O.a,{item:!0,xs:12,children:Object(P.jsx)(p.a,{color:"primary",variant:"contained",onClick:Object(l.a)(Object(i.a)().mark((function e(){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t("/console/api/v1/metadata/clear");case 2:e.sent,a.ok?j.b.success("Metadata cleared"):j.b.error("Error while clearing metadata!");case 4:case"end":return e.stop()}}),e)}))),children:"Clear metadata"})})]})})]})};var nt=function(){var e=Object(je.b)();return e.get,e.post,e.response,e.loading,e.error,Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(be,{}),Object(P.jsx)(k.a,{maxWidth:"xl",style:{paddingTop:"20px"},children:"Settings..."})]})};Object(U.a)("pre")((function(e){e.theme;return"\n  background-color: #000;\n  color: #FFF;\n  overflow-y: auto;\n  padding: 0;\n  height: 30vh;\n  display: block;\n  margin: 0;\n  font-size: 15px;\n"}));var at=function(){var e=Object(je.b)(),t=(e.get,e.post,e.response,e.loading,e.error,c.a.useState("")),n=Object(d.a)(t,2),a=(n[0],n[1],c.a.useState(!0)),r=Object(d.a)(a,2),o=(r[0],r[1],c.a.useState(!1)),s=Object(d.a)(o,2);return s[0],s[1],c.a.useRef(null),_(),Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(be,{}),Object(P.jsx)(k.a,{maxWidth:"xl",style:{paddingTop:"20px"},children:Object(P.jsx)("iframe",{src:"".concat("","/console/vscode"),id:"myPortalToSwagger",className:"myClassname",display:"initial",position:"relative",style:{border:"none",width:"inherit",height:"900px",paddingTop:"2rem",paddingBottom:"2rem"}})}),Object(P.jsx)(ee.a,{style:{position:"fixed",right:"20px",bottom:"20px"},color:"secondary","aria-label":"Refresh",onClick:function(){getLogs()},children:Object(P.jsx)(ne.a,{})})]})},rt=n(60),ct=function(e){var t=e.children,n=_().getToken(),a=Object(H.f)();return""===n||null===n||"undefined"===typeof n?Object(P.jsx)(H.a,{to:"/login",state:{from:a},replace:!0}):t},ot=function(e){return c.a.useEffect((function(){document.title=e.title||""}),[e.title]),e.children};var st=function(){var e=_(),t={persist:!1,cachePolicy:"no-cache",headers:{Accept:"application/json","x-hlambda-admin-secret":e.getToken()},interceptors:{request:function(){var t=Object(l.a)(Object(i.a)().mark((function t(n){var a;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.options,n.url,n.path,n.route,a.headers["x-hlambda-admin-secret"]=e.getToken(),t.abrupt("return",a);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}};return Object(P.jsx)(je.a,{url:"",options:t,children:Object(P.jsxs)(rt.a,{basename:"/console",children:[Object(P.jsx)(u.a,{}),Object(P.jsxs)(H.d,{children:[Object(P.jsx)(H.b,{path:"/login",element:Object(P.jsx)(ot,{title:"Login | Hlambda",children:Object(P.jsx)(z,{})})}),Object(P.jsx)(H.b,{path:"/logout",element:Object(P.jsx)(ot,{title:"Logout | Hlambda",children:Object(P.jsx)(B,{})})}),Object(P.jsx)(H.b,{index:!0,path:"/",element:Object(P.jsx)(ct,{children:Object(P.jsx)(ot,{title:"Console | Hlambda",children:Object(P.jsx)(Pe,{})})})}),Object(P.jsx)(H.b,{path:"/code",element:Object(P.jsx)(ct,{children:Object(P.jsx)(ot,{title:"Console | Hlambda",children:Object(P.jsx)(at,{})})})}),Object(P.jsx)(H.b,{path:"/shell",element:Object(P.jsx)(ct,{children:Object(P.jsx)(ot,{title:"Console | Hlambda",children:Object(P.jsx)(Ve,{})})})}),Object(P.jsx)(H.b,{path:"/env",element:Object(P.jsx)(ct,{children:Object(P.jsx)(ot,{title:"Console | Hlambda",children:Object(P.jsx)(Ge,{})})})}),Object(P.jsx)(H.b,{path:"/routes",element:Object(P.jsx)(ct,{children:Object(P.jsx)(ot,{title:"Console | Hlambda",children:Object(P.jsx)(Ke,{})})})}),Object(P.jsx)(H.b,{path:"/logs",element:Object(P.jsx)(ct,{children:Object(P.jsx)(ot,{title:"Console | Hlambda",children:Object(P.jsx)(Ye,{})})})}),Object(P.jsx)(H.b,{path:"/constants",element:Object(P.jsx)(ct,{children:Object(P.jsx)(ot,{title:"Console | Hlambda",children:Object(P.jsx)(Qe,{})})})}),Object(P.jsx)(H.b,{path:"/errors",element:Object(P.jsx)(ct,{children:Object(P.jsx)(ot,{title:"Console | Hlambda",children:Object(P.jsx)(Ze,{})})})}),Object(P.jsx)(H.b,{path:"/events",element:Object(P.jsx)(ct,{children:Object(P.jsx)(ot,{title:"Console | Hlambda",children:Object(P.jsx)(et,{})})})}),Object(P.jsx)(H.b,{path:"/metadata",element:Object(P.jsx)(ct,{children:Object(P.jsx)(ot,{title:"Console | Hlambda",children:Object(P.jsx)(tt,{})})})}),Object(P.jsx)(H.b,{path:"/settings",element:Object(P.jsx)(ct,{children:Object(P.jsx)(ot,{title:"Console | Hlambda",children:Object(P.jsx)(nt,{})})})}),Object(P.jsx)(H.b,{path:"*",element:Object(P.jsx)(K,{})})]}),Object(P.jsx)(j.a,{theme:"dark"})]})})},it=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,284)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))},lt=n(266),ut=n(154),jt=n(58),dt=n(57),bt=Object(ut.a)({palette:{mode:"dark",primary:{main:jt.a[500]},secondary:{main:dt.a[500]}}});s.a.createRoot(document.getElementById("root")).render(Object(P.jsx)(c.a.StrictMode,{children:Object(P.jsx)(lt.a,{theme:bt,children:Object(P.jsx)(q,{children:Object(P.jsx)(st,{})})})})),it()}},[[200,1,2]]]);
//# sourceMappingURL=main.23700ad1.chunk.js.map