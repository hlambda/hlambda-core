/*! For license information please see extension.js.LICENSE.txt */
(()=>{var e={7164:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AppInsightsCore:()=>K,BaseCore:()=>U,BaseTelemetryPlugin:()=>k.i,CoreUtils:()=>q.Tr,DiagnosticLogger:()=>g.AQ,ESPromise:()=>H,ESPromiseScheduler:()=>Q,EventHelper:()=>te.zB,EventLatency:()=>l,EventPersistence:()=>d,EventPropertyType:()=>u,EventsDiscardedReason:()=>ee.h,FullVersionString:()=>q.vs,InternalAppInsightsCore:()=>V,InternalBaseCore:()=>O,LoggingSeverity:()=>s,MinChannelPriorty:()=>Z,NotificationManager:()=>j,PerfEvent:()=>h.zn,PerfManager:()=>h.Jk,ProcessTelemetryContext:()=>S.Vi,TraceLevel:()=>f,Undefined:()=>ie.jA,Utils:()=>q.cQ,ValueKind:()=>c,ValueSanitizer:()=>Y,Version:()=>q.Gf,_ExtendedInternalMessageId:()=>p,_InternalLogMessage:()=>g.lQ,_InternalMessageId:()=>a,__getRegisteredEvents:()=>ne.um,_throwInternal:()=>g.kP,addEventHandler:()=>ne.Ib,addEventListeners:()=>ne.yw,addPageHideEventListener:()=>ne.TJ,addPageShowEventListener:()=>ne.nD,addPageUnloadEventListener:()=>ne.c9,areCookiesSupported:()=>b.p7,arrForEach:()=>o.tO,arrIndexOf:()=>o.UA,arrMap:()=>o.Mr,arrReduce:()=>o.Xz,attachEvent:()=>ne.pZ,cookieAvailable:()=>b.p7,createCookieMgr:()=>b.Nz,createEnumStyle:()=>i.By,createGuid:()=>q.cm,createProcessTelemetryContext:()=>S.CD,createTraceParent:()=>oe.SU,createUniqueNamespace:()=>E.J,createUnloadHandlerContainer:()=>A.Y,dateNow:()=>o.m6,deleteCookie:()=>q.kT,detachEvent:()=>ne.pD,disableCookies:()=>q.oF,disallowsSameSiteNone:()=>b.UY,doPerf:()=>h.Lm,dumpObj:()=>m.eU,eventOff:()=>ne.QY,eventOn:()=>ne.XO,extend:()=>q.l7,findW3cTraceParent:()=>oe.lq,formatTraceParent:()=>oe.aR,generateW3CId:()=>te.DO,getCommonSchemaMetaData:()=>q.Vv,getConsole:()=>m.dr,getCookie:()=>q.ej,getCookieValue:()=>q.Do,getCrypto:()=>m.MX,getDocument:()=>m.Me,getExceptionName:()=>o.jj,getFieldValueType:()=>q.Sy,getGlobal:()=>v.Rd,getGlobalInst:()=>m.a8,getHistory:()=>m.s1,getIEVersion:()=>m.sA,getISOString:()=>o.Y6,getJSON:()=>m.xA,getLocation:()=>m.k$,getMsCrypto:()=>m.gz,getNavigator:()=>m.jW,getPerformance:()=>m.r,getSetValue:()=>o.qK,getTenantId:()=>q.jM,getTime:()=>q.hK,getWindow:()=>m.Jj,hasDocument:()=>m.Nv,hasHistory:()=>m.fE,hasJSON:()=>m.nS,hasNavigator:()=>m.d6,hasOwnProperty:()=>o.nr,hasWindow:()=>m.Ym,isArray:()=>o.kJ,isArrayValid:()=>q.JT,isBeaconsSupported:()=>m.MF,isBoolean:()=>o.jn,isChromium:()=>q.mJ,isDate:()=>o.J_,isDocumentObjectAvailable:()=>q.x9,isError:()=>o.VZ,isFetchSupported:()=>m.JO,isFunction:()=>o.mf,isIE:()=>m.w1,isLatency:()=>q.r7,isNotTruthy:()=>o.F,isNullOrUndefined:()=>o.le,isNumber:()=>o.hj,isObject:()=>o.Kn,isReactNative:()=>m.b$,isSampledFlag:()=>oe.Pn,isString:()=>o.HD,isTruthy:()=>o.fQ,isTypeof:()=>o.Ym,isUint8ArrayAvailable:()=>q.IZ,isUndefined:()=>o.o8,isValidSpanId:()=>oe.Lc,isValidTraceId:()=>oe.jN,isValidTraceParent:()=>oe.J6,isValueAssigned:()=>q.Sn,isValueKind:()=>q.oS,isWindowObjectAvailable:()=>q.dH,isXhrSupported:()=>m.Z3,mergeEvtNamespace:()=>ne.jU,newGuid:()=>te.GW,newId:()=>re.pZ,normalizeJsName:()=>o.Gf,objCreate:()=>v.pu,objDefineAccessors:()=>o.l_,objForEachKey:()=>o.rW,objFreeze:()=>o.FL,objKeys:()=>o.FY,objSeal:()=>o.Xi,openXhr:()=>q.ot,optimizeObject:()=>o.Ax,parseTraceParent:()=>oe.j_,perfNow:()=>te.Jj,proxyAssign:()=>o.cf,proxyFunctionAs:()=>o.Oi,proxyFunctions:()=>o.Vb,random32:()=>re._l,randomValue:()=>re.az,removeEventHandler:()=>ne.C1,removeEventListeners:()=>ne.nJ,removePageHideEventListener:()=>ne.C9,removePageShowEventListener:()=>ne.Yl,removePageUnloadEventListener:()=>ne.JA,safeGetCookieMgr:()=>b.JP,safeGetLogger:()=>g.vH,sanitizeProperty:()=>q.yj,setCookie:()=>q.d8,setEnableEnvMocks:()=>m.dI,setProcessTelemetryTimings:()=>q.if,setValue:()=>o.sO,strContains:()=>o._Q,strEndsWith:()=>o.Id,strFunction:()=>ie.cb,strObject:()=>ie.fK,strPrototype:()=>ie.hB,strStartsWith:()=>o.xe,strTrim:()=>o.nd,strUndefined:()=>ie.jA,throwError:()=>o._y,toISOString:()=>o.Y6,useXDomainRequest:()=>m.cp});var r=n(7421),i=n(951),o=n(4869),s=(0,i.By)({CRITICAL:1,WARNING:2}),a=(0,i.By)({BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103,FailedAddingCustomDefinedRequestContext:104,InMemoryStorageBufferFull:105,InstrumentationKeyDeprecation:106}),c=(0,i.By)({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),l=(0,i.By)({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),u=(0,i.By)({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),d=(0,i.By)({Normal:1,Critical:2}),f=(0,i.By)({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),p=(0,o.FL)((0,r.uc)((0,r.uc)({},a),(0,i.By)({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520}))),g=n(9339),h=n(1782),m=n(9251),v=n(175),y=n(9141),S=n(1030),C=n(9031),b=n(8140),w=n(1733),x=n(8341),T=n(6335),I=500;function _(e,t,n,r){t&&(0,o.kJ)(t)&&t.length>0&&(t=t.sort((function(e,t){return e.priority-t.priority})),(0,o.tO)(t,(function(e){e.priority<I&&(0,o._y)("Channel has invalid priority - "+e.identifier)})),e.push({queue:(0,o.FL)(t),chain:(0,S.jV)(t,n,r)}))}var k=n(7951),P=function(e){function t(){var n,r,i=e.call(this)||this;function s(){n=0,r=[]}return i.identifier="TelemetryInitializerPlugin",i.priority=199,s(),(0,y.Z)(t,i,(function(e,t){e.addTelemetryInitializer=function(e){var t={id:n++,fn:e};return r.push(t),{remove:function(){(0,o.tO)(r,(function(e,n){if(e.id===t.id)return r.splice(n,1),-1}))}}},e.processTelemetry=function(t,n){for(var i=!1,s=r.length,a=0;a<s;++a){var c=r[a];if(c)try{if(!1===c.fn.apply(null,[t])){i=!0;break}}catch(e){(0,g.kP)(n.diagLog(),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+(0,o.jj)(e),{exception:(0,m.eU)(e)},!0)}}i||e.processNext(t,n)},e[T.Ho]=function(){s()}})),i}return(0,r.ne)(t,e),t}(k.i),E=n(7624),A=n(8593),R="Plugins must provide initialize method",D="SDK is still unloading...",M={loggingLevelConsole:1};function F(e,t){return new h.Jk(t)}function L(e,t){var n=!1;return(0,o.tO)(t,(function(t){if(t===e)return n=!0,-1})),n}var O=function e(){var t,n,i,s,a,c,l,u,d,f,p,m,k,O,N,j,V,q,K,U=0;(0,y.Z)(e,this,(function(e){function y(){t=!1,e.config=(0,o.mm)(!0,{},M),e.logger=new g.AQ(e.config),e._extensions=[],O=new P,n=[],i=null,s=null,a=null,c=null,l=null,d=null,u=[],f=null,p=null,m=null,k=!1,N=null,j=(0,E.J)("AIBaseCore",!0),V=(0,A.Y)(),K=null}function B(){return(0,S.CD)(W(),e.config,e)}function z(t,n){var r=function(e,t,n){var r=[],i={};return(0,o.tO)(n,(function(t){((0,o.le)(t)||(0,o.le)(t.initialize))&&(0,o._y)(R);var n=t.priority,s=t.identifier;t&&n&&((0,o.le)(i[n])?i[n]=s:(0,g.jV)(e,"Two extensions have same priority #"+n+" - "+i[n]+", "+s)),(!n||n<500)&&r.push(t)})),{all:n,core:r}}(e.logger,0,u);d=r.core,l=null;var i=r.all;if(m=(0,o.FL)(function(e,t,n,r){var i=[];if(e&&(0,o.tO)(e,(function(e){return _(i,e,n,r)})),t){var s=[];(0,o.tO)(t,(function(e){e.priority>I&&s.push(e)})),_(i,s,n,r)}return i}(p,i,t,e)),f){var s=(0,o.UA)(i,f);-1!==s&&i.splice(s,1),-1!==(s=(0,o.UA)(d,f))&&d.splice(s,1),f._setQueue(m)}else f=function(e,t){var n;function r(){return(0,S.CD)(null,t.config,t,null)}function i(e,t,n,r){var i=e?e.length+1:1;function s(){0==--i&&(r&&r(),r=null)}i>0&&(0,o.tO)(e,(function(e){if(e&&e.queue.length>0){var r=e.chain,o=t.createNew(r);o.onComplete(s),n(o)}else i--})),s()}var s=!1;return(n={identifier:"ChannelControllerPlugin",priority:I,initialize:function(t,n,r,i){s=!0,(0,o.tO)(e,(function(e){e&&e.queue.length>0&&(0,C.bP)((0,S.CD)(e.chain,t,n),r)}))},isInitialized:function(){return s},processTelemetry:function(t,n){i(e,n||r(),(function(e){e[T.Z_](t)}),(function(){n[T.Z_](t)}))},update:function(t,n){var r=n||{reason:0};return i(e,t,(function(e){e[T.Z_](r)}),(function(){t[T.Z_](r)})),!0}})[T.nE]=function(){i(e,r(),(function(e){e.iterate((function(e){e[T.nE]&&e[T.nE]()}))}),null)},n[T.Mf]=function(){i(e,r(),(function(e){e.iterate((function(e){e[T.Mf]&&e[T.Mf]()}))}),null)},n[T.vE]=function(t,n){var r=n||{reason:0,isAsync:!1};return i(e,t,(function(e){e[T.Z_](r)}),(function(){t[T.Z_](r),s=!1})),!0},n.getChannel=function(t){var n=null;return e&&e.length>0&&(0,o.tO)(e,(function(e){if(e&&e.queue.length>0&&((0,o.tO)(e.queue,(function(e){if(e.identifier===t)return n=e,-1})),n))return-1})),n},n.flush=function(t,n,o,s){var a=1,c=!1,l=null;function u(){a--,c&&0===a&&(l&&(clearTimeout(l),l=null),n&&n(c),n=null)}return s=s||5e3,i(e,r(),(function(e){e.iterate((function(e){if(e.flush){a++;var n=!1;e.flush(t,(function(){n=!0,u()}),o)||n||(t&&null==l?l=setTimeout((function(){l=null,u()}),s):u())}}))}),(function(){c=!0,u()})),!0},n._setQueue=function(t){e=t},n}(m,e);i.push(f),d.push(f),e._extensions=(0,C.AA)(i),f.initialize(t,e,i),(0,C.bP)(B(),i),e._extensions=(0,o.FL)((0,C.AA)(d||[])).slice(),n&&function(t){var n=(0,S.xy)(W(),e);e._updateHook&&!0===e._updateHook(n,t)||n.processNext(t)}(n)}function H(t){var n=null,r=null;return(0,o.tO)(e._extensions,(function(e){if(e.identifier===t&&e!==f&&e!==O)return r=e,-1})),!r&&f&&(r=f.getChannel(t)),r&&(n={plugin:r,setEnabled:function(e){(0,C.OY)(r)[T.C0]=!e},isEnabled:function(){var e=(0,C.OY)(r);return!e[T.vE]&&!e[T.C0]},remove:function(t,n){void 0===t&&(t=!0);var i=[r];J(i,{reason:1,isAsync:t},(function(t){t&&z(e.config,{reason:32,removed:i}),n&&n(t)}))}}),n}function W(){if(!l){var t=(d||[]).slice();-1===(0,o.UA)(t,O)&&t.push(O),l=(0,S.jV)((0,C.AA)(t),e.config,e)}return l}function J(t,n,r){if(t&&t.length>0){var i=(0,S.jV)(t,e.config,e),s=(0,S.Bt)(i,e);s.onComplete((function(){var e=!1,n=[];(0,o.tO)(u,(function(r,i){L(r,t)?e=!0:n.push(r)})),u=n;var i=[];p&&((0,o.tO)(p,(function(n,r){var s=[];(0,o.tO)(n,(function(n){L(n,t)?e=!0:s.push(n)})),i.push(s)})),p=i),r&&r(e)})),s.processNext(n)}else r(!1)}function $(){var t=e.logger?e.logger.queue:[];t&&((0,o.tO)(t,(function(t){var n={name:N||"InternalMessageId: "+t.messageId,iKey:e.config.instrumentationKey,time:(0,o.Y6)(new Date),baseType:g.lQ.dataType,baseData:{message:t.message}};e.track(n)})),t.length=0)}function G(e,t,n,r){return f?f.flush(e,t,n||6,r):(t&&t(!1),!0)}function X(t){var n=e.logger;n?(0,g.kP)(n,2,73,t):(0,o._y)(t)}y(),e.isInitialized=function(){return t},e.initialize=function(n,s,c,l){k&&(0,o._y)(D),e.isInitialized()&&(0,o._y)("Core should not be initialized more than once"),n&&!(0,o.le)(n.instrumentationKey)||(0,o._y)("Please provide instrumentation key"),i=l,e._notificationManager=l,e.config=n||{},function(e){!0===e.disableDbgExt&&q&&(i[T.XP](q),q=null),i&&!q&&!0!==e.disableDbgExt&&(q=(0,x.p)(e),i[T.dV](q))}(n),function(t){!t.enablePerfMgr&&a&&(a=null),t.enablePerfMgr&&(0,o.sO)(e.config,"createPerfMgr",F)}(n),n.extensions=(0,o.le)(n.extensions)?[]:n.extensions,function(e){(0,o.qK)(e,w.F).NotificationManager=i}(n),c&&(e.logger=c),(u=[]).push.apply(u,(0,r.$h)((0,r.$h)([],s,!1),n.extensions,!1)),p=(n||{}).channels,z(n,null),m&&0!==m.length||(0,o._y)("No channels available"),t=!0,e.releaseQueue()},e.getTransmissionControls=function(){var e=[];return m&&(0,o.tO)(m,(function(t){e.push(t.queue)})),(0,o.FL)(e)},e.track=function(t){(0,o.sO)(t,w.z,e.config.instrumentationKey,null,o.F),(0,o.sO)(t,"time",(0,o.Y6)(new Date),null,o.F),(0,o.sO)(t,"ver","4.0",null,o.le),!k&&e.isInitialized()?B().processNext(t):n.push(t)},e.getProcessTelContext=B,e.getNotifyMgr=function(){var t;return i||(i=(0,v.pu)(((t={})[T.dV]=function(e){},t[T.XP]=function(e){},t[T.eO]=function(e){},t[T.H4]=function(e,t){},t[T.rX]=function(e,t){},t)),e._notificationManager=i),i},e[T.dV]=function(e){i&&i[T.dV](e)},e[T.XP]=function(e){i&&i[T.XP](e)},e.getCookieMgr=function(){return c||(c=(0,b.Nz)(e.config,e.logger)),c},e.setCookieMgr=function(e){c=e},e.getPerfMgr=function(){return s||a||e.config&&e.config.enablePerfMgr&&(0,o.mf)(e.config.createPerfMgr)&&(a=e.config.createPerfMgr(e,e.getNotifyMgr())),s||a||(0,h.j5)()},e.setPerfMgr=function(e){s=e},e.eventCnt=function(){return n.length},e.releaseQueue=function(){if(t&&n.length>0){var e=n;n=[],(0,o.tO)(e,(function(e){B().processNext(e)}))}},e.pollInternalLogs=function(t){N=t||null;var n=e.config.diagnosticLogInterval;return n&&n>0||(n=1e4),U&&clearInterval(U),U=setInterval((function(){$()}),n)},e.stopPollingInternalLogs=function(){U&&(clearInterval(U),U=0,$())},(0,o.Vb)(e,(function(){return O}),["addTelemetryInitializer"]),e.unload=function(n,r,i){void 0===n&&(n=!0),t||(0,o._y)("SDK is not initialized"),k&&(0,o._y)(D);var s={reason:50,isAsync:n,flushComplete:!1},a=(0,S.Bt)(W(),e);function c(t){s.flushComplete=t,k=!0,V.run(a,s),e.stopPollingInternalLogs(),a.processNext(s)}a.onComplete((function(){y(),r&&r(s)}),e),G(n,c,6,i)||c(!1)},e.getPlugin=H,e.addPlugin=function(t,n,r,i){if(!t)return i&&i(!1),void X(R);var o=H(t.identifier);if(o&&!n)return i&&i(!1),void X("Plugin ["+t.identifier+"] is already loaded!");var s={reason:16};function a(n){u.push(t),s.added=[t],z(e.config,s),i&&i(!0)}if(o){var c=[o.plugin];J(c,{reason:2,isAsync:!!r},(function(e){e?(s.removed=c,s.reason|=32,a()):i&&i(!1)}))}else a()},e.evtNamespace=function(){return j},e.flush=G,e.getTraceCtx=function(e){return K||(K=(0,C.Yn)()),K},e.setTraceCtx=function(e){K=e||null},(0,o.Oi)(e,"addUnloadCb",(function(){return V}),"add")}))};function N(e,t,n,r){(0,o.tO)(e,(function(e){if(e&&e[t])if(n)setTimeout((function(){return r(e)}),0);else try{r(e)}catch(e){}}))}var j=function e(t){this.listeners=[];var n=!!(t||{}).perfEvtsSendAll;(0,y.Z)(e,this,(function(e){e[T.dV]=function(t){e.listeners.push(t)},e[T.XP]=function(t){for(var n=(0,o.UA)(e.listeners,t);n>-1;)e.listeners.splice(n,1),n=(0,o.UA)(e.listeners,t)},e[T.eO]=function(t){N(e.listeners,T.eO,!0,(function(e){e[T.eO](t)}))},e[T.H4]=function(t,n){N(e.listeners,T.H4,!0,(function(e){e[T.H4](t,n)}))},e[T.rX]=function(t,n){N(e.listeners,T.rX,n,(function(e){e[T.rX](t,n)}))},e[T.SN]=function(t){t&&(!n&&t.isChildEvt()||N(e.listeners,T.SN,!1,(function(e){t.isAsync?setTimeout((function(){return e[T.SN](t)}),0):e[T.SN](t)})))}}))},V=function(e){function t(){var n=e.call(this)||this;return(0,y.Z)(t,n,(function(e,t){function n(t){var n=e.getNotifyMgr();n&&n.eventsDiscarded([t],2)}e.initialize=function(e,n,r,i){t.initialize(e,n,r||new g.AQ(e),i||new j(e))},e.track=function(r){(0,h.Lm)(e.getPerfMgr(),(function(){return"AppInsightsCore:track"}),(function(){null===r&&(n(r),(0,o._y)("Invalid telemetry item")),function(e){(0,o.le)(e.name)&&(n(e),(0,o._y)("telemetry name required"))}(r),t.track(r)}),(function(){return{item:r}}),!r.sync)}})),n}return(0,r.ne)(t,e),t}(O),q=n(5705);const K=function(e){function t(){var n=e.call(this)||this;return n.pluginVersionStringArr=[],n.pluginVersionString="",(0,y.Z)(t,n,(function(e,t){e.logger&&e.logger.queue||(e.logger=new g.AQ({loggingLevelConsole:1})),e.initialize=function(n,r,i,s){(0,h.Lm)(e,(function(){return"AppInsightsCore.initialize"}),(function(){if(n){n.endpointUrl||(n.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/");var a=n.propertyStorageOverride;if(a&&(!a.getProperty||!a.setProperty))throw new Error("Invalid property storage override passed.");n.channels&&(0,o.tO)(n.channels,(function(t){t&&(0,o.tO)(t,(function(t){if(t.identifier&&t.version){var n=t.identifier+"="+t.version;e.pluginVersionStringArr.push(n)}}))}))}e.getWParam=function(){return"undefined"!=typeof document?0:-1},r&&(0,o.tO)(r,(function(t){if(t&&t.identifier&&t.version){var n=t.identifier+"="+t.version;e.pluginVersionStringArr.push(n)}})),e.pluginVersionString=e.pluginVersionStringArr.join(";");try{t.initialize(n,r,i,s),e.pollInternalLogs("InternalLog")}catch(t){var c=e.logger,l=(0,m.eU)(t);-1!==l.indexOf("channels")&&(l+="\n - Channels must be provided through config.channels only!"),c.throwInternal(1,514,"SDK Initialization Failed - no telemetry will be sent: "+l)}}),(function(){return{config:n,extensions:r,logger:i,notificationManager:s}}))},e.track=function(n){(0,h.Lm)(e,(function(){return"AppInsightsCore.track"}),(function(){var r=n;if(r){r.timings=r.timings||{},r.timings.trackStart=(0,q.hK)(),(0,q.r7)(r.latency)||(r.latency=1);var i=r.ext=r.ext||{};i.sdk=i.sdk||{},i.sdk.ver=q.vs;var o=r.baseData=r.baseData||{};o.properties||(o.properties={});var s=o.properties;s.version||(s.version=""),""!==e.pluginVersionString&&(s.version=e.pluginVersionString)}t.track(r)}),(function(){return{item:n}}),!n.sync)}})),n}return(0,r.ne)(t,e),t}(V),U=function(e){function t(){var n=e.call(this)||this;return(0,y.Z)(t,n,(function(e,t){e.initialize=function(n,r,i,o){n&&!n.endpointUrl&&(n.endpointUrl="https://browser.events.data.microsoft.com/OneCollector/1.0/"),e.getWParam=function(){return q.x9?0:-1};try{t.initialize(n,r,i,o)}catch(t){(0,g.kP)(e.logger,1,514,"Initialization Failed: "+(0,m.eU)(t)+"\n - Note: Channels must be provided through config.channels only")}},e.track=function(e){var n=e;if(n){var r=n.ext=n.ext||{};r.sdk=r.sdk||{},r.sdk.ver=q.vs}t.track(n)}})),n}return(0,r.ne)(t,e),t}(O);var B=o.mf;function z(e,t,n){return function(r){e[t]=r,n()}}const H=function(){function e(t){var n=0,r=null,i=[];function o(){if(i.length>0){var e=i.slice();i=[],setTimeout((function(){for(var t=0,n=e.length;t<n;++t)try{e[t]()}catch(e){}}),0)}}function s(e){0===n&&(r=e,n=1,o())}function a(e){0===n&&(r=e,n=2,o())}(0,y.Z)(e,this,(function(t){t.then=function(t,s){return new e((function(a,c){!function(t,s,a,c){i.push((function(){var i;try{(i=1===n?B(t)?t(r):r:B(s)?s(r):r)instanceof e?i.then(a,c):2!==n||B(s)?a(i):c(i)}catch(e){return void c(e)}})),0!==n&&o()}(t,s,a,c)}))},t.catch=function(e){return t.then(null,e)}})),function(){if(!B(t))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{t(s,a)}catch(e){a(e)}}()}return e.resolve=function(t){return t instanceof e?t:t&&B(t.then)?new e((function(e,n){try{t.then(e,n)}catch(e){n(e)}})):new e((function(e){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.all=function(t){if(t&&t.length)return new e((function(e,n){try{for(var r=[],i=0,o=0;o<t.length;o++){var s=t[o];s&&B(s.then)?(i++,s.then(z(r,o,(function(){0==--i&&e(r)})),n)):r[o]=s}0===i&&setTimeout((function(){e(r)}),0)}catch(e){n(e)}}))},e.race=function(t){return new e((function(e,n){if(t&&t.length)try{for(var r=function(r){var i=t[r];i&&B(i.then)?i.then(e,n):setTimeout((function(){e(i)}),0)},i=0;i<t.length;i++)r(i)}catch(e){n(e)}}))},e}();var W=0,J=[],$=[],G=[];function X(){return(new Date).getTime()}const Q=function(){function e(t,n){var r=0,i=(t||"<unnamed>")+"."+W;function o(e){var t=(0,v.Rd)();t&&t.QUnit&&console&&console.log("ESPromiseScheduler["+i+"] "+e)}function s(e){n&&n.warnToConsole("ESPromiseScheduler["+i+"] "+e)}W++,(0,y.Z)(e,this,(function(e){var t=null,n=0;function a(e,t){for(var n=0;n<e.length;n++)if(e[n].id===t)return e.splice(n,1)[0];return null}e.scheduleEvent=function(e,c,l){var u=i+"."+n;n++,c&&(u+="-("+c+")");var d=u+"{"+r+"}";r++;var f,p,g,h={evt:null,tm:X(),id:d,isRunning:!1,isAborted:!1};return h.evt=t?(f=h,p=t,g=new H((function(e,t){var n=X()-p.tm,r=p.id;o("["+u+"] is waiting for ["+r+":"+n+" ms] to complete before starting -- ["+$.length+"] waiting and ["+J.length+"] running"),f.abort=function(e){f.abort=null,a($,u),f.isAborted=!0,t(new Error(e))},p.evt.then((function(n){a($,u),b(f).then(e,t)}),(function(n){a($,u),b(f).then(e,t)}))})),$.push(f),g):b(h),(t=h).evt._schId=d,h.evt;function m(e){for(var t=X(),n=t-6e5,r=e.length,i=0;i<r;){var o=e[i];if(o&&o.tm<n){var a=null;o.abort?(a="Aborting ["+o.id+"] due to Excessive runtime ("+(t-o.tm)+" ms)",o.abort(a)):a="Removing ["+o.id+"] due to Excessive runtime ("+(t-o.tm)+" ms)",s(a),e.splice(i,1),r--}else i++}}function v(e,n){var r=!1,i=a(J,e);if(i||(i=a(G,e),r=!0),i){i.to&&(clearTimeout(i.to),i.to=null);var c=X()-i.tm;n?r?s("Timed out event ["+e+"] finally complete -- "+c+" ms"):o("Promise ["+e+"] Complete -- "+c+" ms"):(G.push(i),s("Event ["+e+"] Timed out and removed -- "+c+" ms"))}else o("Failed to remove ["+e+"] from running queue");t&&t.id===e&&(t=null),m(J),m($),m(G)}function y(e,t){return function(n){return v(e,!0),t&&t(n),n}}function S(e,t,n,r){t.then((function(t){return t instanceof H?(o("Event ["+e+"] returned a promise -- waiting"),S(e,t,n,r),t):y(e,n)(t)}),y(e,r))}function C(e,t){var n=e.id;return new H((function(r,i){o("Event ["+n+"] Starting -- waited for "+(e.wTm||"--")+" ms"),e.isRunning=!0,e.abort=function(t){e.abort=null,e.isAborted=!0,v(n,!1),i(new Error(t))};var s=t(n);s instanceof H?(l&&(e.to=setTimeout((function(){v(n,!1),i(new Error("Timed out after ["+l+"] ms"))}),l)),S(n,s,(function(t){o("Event ["+n+"] Resolving after "+(X()-e.tm)+" ms"),r(t)}),i)):(o("Promise ["+n+"] Auto completed as the start action did not return a promise"),r())}))}function b(t){var n=X();return t.wTm=n-t.tm,t.tm=n,t.isAborted?H.reject(new Error("["+u+"] was aborted")):(J.push(t),C(t,e))}}}))}return e.incomplete=function(){return J},e.waitingToStart=function(){return $},e}();var Y=function(){function e(e){var t=this,n={},r=[],i=[];function s(e,t){var s,a=n[e];if(a&&(s=a[t]),!s&&null!==s){if((0,o.HD)(e)&&(0,o.HD)(t))if(i.length>0){for(var c=0;c<i.length;c++)if(i[c].handleField(e,t)){s={canHandle:!0,fieldHandler:i[c]};break}}else 0===r.length&&(s={canHandle:!0});if(!s&&null!==s)for(s=null,c=0;c<r.length;c++)if(r[c].handleField(e,t)){s={canHandle:!0,handler:r[c],fieldHandler:null};break}a||(a=n[e]={}),a[t]=s}return s}function a(e,t,n,r,i,s){if(e.handler)return e.handler.property(t,n,i,s);if(!(0,o.le)(i.kind)){if(4096==(4096&r)||!(0,q.oS)(i.kind))return null;i.value=i.value.toString()}return l(e.fieldHandler,t,n,r,i)}function c(e,t,n){return(0,q.Sn)(n)?{value:n}:null}function l(e,n,r,i,s){if(s&&e){var a=e.getSanitizer(n,r,i,s.kind,s.propertyType);if(a)if(4===i){var u={},d=s.value;(0,o.rW)(d,(function(t,i){var o=n+"."+r;if((0,q.Sn)(i)){var s=c(0,0,i);(s=l(e,o,t,(0,q.Sy)(i),s))&&(u[t]=s.value)}})),s.value=u}else{var f={path:n,name:r,type:i,prop:s,sanitizer:t};s=a.call(t,f)}}return s}e&&i.push(e),t.addSanitizer=function(e){e&&(r.push(e),n={})},t.addFieldSanitizer=function(e){e&&(i.push(e),n={})},t.handleField=function(e,t){var n=s(e,t);return!!n&&n.canHandle},t.value=function(e,t,n,r){var i=s(e,t);if(i&&i.canHandle){if(!i||!i.canHandle)return null;if(i.handler)return i.handler.value(e,t,n,r);if(!(0,o.HD)(t)||(0,o.le)(n)||""===n)return null;var l=null,u=(0,q.Sy)(n);if(8192==(8192&u)){var d=-8193&u;if(l=n,!(0,q.Sn)(l.value)||1!==d&&2!==d&&3!==d&&4096!=(4096&d))return null}else 1===u||2===u||3===u||4096==(4096&u)?l=c(0,0,n):4===u&&(l=c(0,0,r?JSON.stringify(n):n));if(l)return a(i,e,t,u,l,r)}return null},t.property=function(e,t,n,r){var i=s(e,t);if(!i||!i.canHandle)return null;if(!(0,o.HD)(t)||(0,o.le)(n)||!(0,q.Sn)(n.value))return null;var c=(0,q.Sy)(n.value);return 0===c?null:a(i,e,t,c,n,r)}}return e.getFieldType=q.Sy,e}(),Z=100,ee=n(8452),te=n(8956),ne=n(7954),re=n(9406),ie=n(1550),oe=n(6207)},5705:(e,t,n)=>{"use strict";n.d(t,{Gf:()=>f,vs:()=>p,x9:()=>v,dH:()=>y,Sn:()=>S,jM:()=>C,IZ:()=>b,r7:()=>w,yj:()=>x,Vv:()=>T,oF:()=>I,d8:()=>_,kT:()=>k,ej:()=>P,Do:()=>E,cm:()=>A,l7:()=>R,hK:()=>D,oS:()=>M,JT:()=>F,if:()=>L,Sy:()=>O,cQ:()=>N,Tr:()=>j,mJ:()=>V,ot:()=>q});var r,i=n(1550),o=n(175),s=n(9251),a=n(4869),c=n(8140),l=n(8956),u=n(7954),d=n(9406),f="3.2.3",p="1DS-Web-JS-"+f,g="withCredentials",h=((r={})[0]=0,r[2]=6,r[1]=1,r[3]=7,r[4098]=6,r[4097]=1,r[4099]=7,r),m=null,v=Boolean((0,s.Me)()),y=Boolean((0,s.Jj)());function S(e){return!(""===e||(0,a.le)(e))}function C(e){if(e){var t=e.indexOf("-");if(t>-1)return e.substring(0,t)}return""}function b(){return null===m&&(m=!(0,a.o8)(Uint8Array)&&!function(){var e=(0,s.jW)();if(!(0,a.o8)(e)&&e.userAgent){var t=e.userAgent.toLowerCase();if((t.indexOf("safari")>=0||t.indexOf("firefox")>=0)&&t.indexOf("chrome")<0)return!0}return!1}()&&!(0,s.b$)()),m}function w(e){return!!(e&&(0,a.hj)(e)&&e>=1&&e<=4)}function x(e,t,n){if(!t&&!S(t)||"string"!=typeof e)return null;var r=typeof t;if("string"===r||"number"===r||"boolean"===r||(0,a.kJ)(t))t={value:t};else if("object"!==r||t.hasOwnProperty("value")){if((0,a.le)(t.value)||""===t.value||!(0,a.HD)(t.value)&&!(0,a.hj)(t.value)&&!(0,a.jn)(t.value)&&!(0,a.kJ)(t.value))return null}else t={value:n?JSON.stringify(t):t};if((0,a.kJ)(t.value)&&!F(t.value))return null;if(!(0,a.le)(t.kind)){if((0,a.kJ)(t.value)||!M(t.kind))return null;t.value=t.value.toString()}return t}function T(e,t,n){var r=-1;if(!(0,a.o8)(e))if(t>0&&(32===t?r=8192:t<=13&&(r=t<<5)),function(e){return e>=0&&e<=9}(n))-1===r&&(r=0),r|=n;else{var i=h[O(e)]||-1;-1!==r&&-1!==i?r|=i:6===i&&(r=i)}return r}function I(){(0,c.JP)(null).setEnabled(!1)}function _(e,t,n){(0,c.p7)(null)&&(0,c.JP)(null).set(e,t,86400*n,null,"/")}function k(e){(0,c.p7)(null)&&(0,c.JP)(null).del(e)}function P(e){return(0,c.p7)(null)?E((0,c.JP)(null),e):""}function E(e,t,n){var r;return void 0===n&&(n=!0),e&&(r=e.get(t),n&&r&&decodeURIComponent&&(r=decodeURIComponent(r))),r||""}function A(e){void 0===e&&(e="D");var t=(0,l.GW)();return"B"===e?t="{"+t+"}":"P"===e?t="("+t+")":"N"===e&&(t=t.replace(/-/g,"")),t}function R(e,t,n,r,o){var s={},c=!1,l=0,u=arguments.length,d=Object[i.hB],f=arguments;for("[object Boolean]"===d.toString.call(f[0])&&(c=f[0],l++);l<u;l++)e=f[l],(0,a.rW)(e,(function(e,t){c&&t&&(0,a.Kn)(t)?(0,a.kJ)(t)?(s[e]=s[e]||[],(0,a.tO)(t,(function(t,n){t&&(0,a.Kn)(t)?s[e][n]=R(!0,s[e][n],t):s[e][n]=t}))):s[e]=R(!0,s[e],t):s[e]=t}));return s}var D=l.Jj;function M(e){return 0===e||e>0&&e<=13||32===e}function F(e){return e.length>0}function L(e,t){var n=e;n.timings=n.timings||{},n.timings.processTelemetryStart=n.timings.processTelemetryStart||{},n.timings.processTelemetryStart[t]=D()}function O(e){var t=0;if(null!=e){var n=typeof e;"string"===n?t=1:"number"===n?t=2:"boolean"===n?t=3:n===i.fK&&(t=4,(0,a.kJ)(e)?(t=4096,e.length>0&&(t|=O(e[0]))):(0,a.nr)(e,"value")&&(t=8192|O(e.value)))}return t}var N={Version:f,FullVersionString:p,strUndefined:i.jA,strObject:i.fK,Undefined:i.jA,arrForEach:a.tO,arrIndexOf:a.UA,arrMap:a.Mr,arrReduce:a.Xz,objKeys:a.FY,toISOString:a.Y6,isReactNative:s.b$,isString:a.HD,isNumber:a.hj,isBoolean:a.jn,isFunction:a.mf,isArray:a.kJ,isObject:a.Kn,strTrim:a.nd,isDocumentObjectAvailable:v,isWindowObjectAvailable:y,isValueAssigned:S,getTenantId:C,isBeaconsSupported:s.MF,isUint8ArrayAvailable:b,isLatency:w,sanitizeProperty:x,getISOString:a.Y6,useXDomainRequest:s.cp,getCommonSchemaMetaData:T,cookieAvailable:c.p7,disallowsSameSiteNone:c.UY,setCookie:_,deleteCookie:k,getCookie:P,createGuid:A,extend:R,getTime:D,isValueKind:M,isArrayValid:F,objDefineAccessors:a.l_,addPageUnloadEventListener:u.c9,setProcessTelemetryTimings:L,addEventHandler:u.Ib,getFieldValueType:O,strEndsWith:a.Id,objForEachKey:a.rW},j={_canUseCookies:void 0,isTypeof:a.Ym,isUndefined:a.o8,isNullOrUndefined:a.le,hasOwnProperty:a.nr,isFunction:a.mf,isObject:a.Kn,isDate:a.J_,isArray:a.kJ,isError:a.VZ,isString:a.HD,isNumber:a.hj,isBoolean:a.jn,toISOString:a.Y6,arrForEach:a.tO,arrIndexOf:a.UA,arrMap:a.Mr,arrReduce:a.Xz,strTrim:a.nd,objCreate:o.pu,objKeys:a.FY,objDefineAccessors:a.l_,addEventHandler:u.Ib,dateNow:a.m6,isIE:s.w1,disableCookies:I,newGuid:l.GW,perfNow:l.Jj,newId:d.pZ,randomValue:d.az,random32:d._l,mwcRandomSeed:d.CN,mwcRandom32:d.F6,generateW3CId:l.DO};function V(){return!!(0,s.a8)("chrome")}function q(e,t,n,r,i,o){function s(e,t,n){try{e[t]=n}catch(e){}}void 0===r&&(r=!1),void 0===i&&(i=!1);var a=new XMLHttpRequest;return r&&s(a,"Microsoft_ApplicationInsights_BypassAjaxInstrumentation",r),n&&s(a,g,n),a.open(e,t,!i),n&&s(a,g,n),!i&&o&&s(a,"timeout",o),a}},3391:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BE_PROFILE:()=>m,NRT_PROFILE:()=>h,PostChannel:()=>re,RT_PROFILE:()=>g});var r=n(7421),i=n(9141),o=n(1782),s=n(7954),a=n(7624),c=n(5705),l=n(4869),u=n(9251),d=n(8452),f=n(9339),p=n(7951),g="REAL_TIME",h="NEAR_REAL_TIME",m="BEST_EFFORT",v="POST",y="drop",S="requeue",C="application/x-json-stream",b="cache-control",w="content-type",x="time-delta-millis",T="client-version",I="client-id",_="time-delta-to-apply-millis",k="upload-time",P="apikey",E="AuthMsaDeviceTicket",A="AuthXToken";function R(e){var t=(e.ext||{}).intweb;return t&&(0,c.Sn)(t.msfpc)?t.msfpc:null}function D(e){for(var t=null,n=0;null===t&&n<e.length;n++)t=R(e[n]);return t}var M=function(){function e(t,n){var r=n?[].concat(n):[],i=this,o=D(r);i.iKey=function(){return t},i.Msfpc=function(){return o||""},i.count=function(){return r.length},i.events=function(){return r},i.addEvent=function(e){return!!e&&(r.push(e),o||(o=R(e)),!0)},i.split=function(n,i){var s;if(n<r.length){var a=r.length-n;(0,l.le)(i)||(a=i<a?i:a),s=r.splice(n,a),o=D(r)}return new e(t,s)}}return e.create=function(t,n){return new e(t,n)},e}(),F=n(1550),L=2e6,O=Math.min(L,65e3),N=/\./,j=function e(t,n,r,s){var a="baseData",u=!!s,d=n,f={};(0,i.Z)(e,this,(function(e){function n(e,t,i,o,s,a,p){(0,l.rW)(e,(function(e,g){var h=null;if(g||(0,c.Sn)(g)){var m=i,v=e,y=s,S=t;if(u&&!o&&N.test(e)){var C=e.split("."),b=C.length;if(b>1){y&&(y=y.slice());for(var w=0;w<b-1;w++){var x=C[w];S=S[x]=S[x]||{},m+="."+x,y&&y.push(x)}v=C[b-1]}}if(h=o&&function(e,t){var n=f[e];return void 0===n&&(e.length>=7&&(n=(0,l.xe)(e,"ext.metadata")||(0,l.xe)(e,"ext.web")),f[e]=n),n}(m)||!d||!d.handleField(m,v)?(0,c.yj)(v,g,r):d.value(m,v,g,r)){var T=h.value;if(S[v]=T,a&&a(y,v,h),p&&"object"==typeof T&&!(0,l.kJ)(T)){var I=y;I&&(I=I.slice()).push(v),n(g,T,m+"."+v,o,I,a,p)}}}}))}e.createPayload=function(e,t,n,r,i,o){return{apiKeys:[],payloadBlob:"",overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:e,isTeardown:t,isSync:n,isBeacon:r,sendType:o,sendReason:i}},e.appendPayload=function(n,r,i){var s=n&&r&&!n.overflow;return s&&(0,o.Lm)(t,(function(){return"Serializer:appendPayload"}),(function(){for(var t=r.events(),o=n.payloadBlob,s=n.numEvents,a=!1,c=[],u=[],d=n.isBeacon,f=d?65e3:3984588,p=d?O:L,g=0,h=0;g<t.length;){var m=t[g];if(m){if(s>=i){n.overflow=r.split(g);break}var v=e.getEventBlob(m);if(v&&v.length<=p){var y=v.length;if(o.length+y>f){n.overflow=r.split(g);break}o&&(o+="\n"),o+=v,++h>20&&(o.substr(0,1),h=0),a=!0,s++}else v?c.push(m):u.push(m),t.splice(g,1),g--}g++}if(c&&c.length>0&&n.sizeExceed.push(M.create(r.iKey(),c)),u&&u.length>0&&n.failedEvts.push(M.create(r.iKey(),u)),a){n.batches.push(r),n.payloadBlob=o,n.numEvents=s;var S=r.iKey();-1===(0,l.UA)(n.apiKeys,S)&&n.apiKeys.push(S)}}),(function(){return{payload:n,theBatch:{iKey:r.iKey(),evts:r.events()},max:i}})),s},e.getEventBlob=function(e){try{return(0,o.Lm)(t,(function(){return"Serializer.getEventBlob"}),(function(){var t={};t.name=e.name,t.time=e.time,t.ver=e.ver,t.iKey="o:"+(0,c.jM)(e.iKey);var r={},i=e.ext;i&&(t.ext=r,(0,l.rW)(i,(function(e,t){n(t,r[e]={},"ext."+e,!0,null,null,!0)})));var o=t.data={};o.baseType=e.baseType;var s=o.baseData={};return n(e.baseData,s,a,!1,[a],(function(e,t,n){V(r,e,t,n)}),!0),n(e.data,o,"data",!1,[],(function(e,t,n){V(r,e,t,n)}),!0),JSON.stringify(t)}),(function(){return{item:e}}))}catch(e){return null}}}))};function V(e,t,n,r){if(r&&e){var i=(0,c.Vv)(r.value,r.kind,r.propertyType);if(i>-1){var o=e.metadata;o||(o=e.metadata={f:{}});var s=o.f;if(s||(s=o.f={}),t)for(var a=0;a<t.length;a++){var u=t[a];s[u]||(s[u]={f:{}});var d=s[u].f;d||(d=s[u].f={}),s=d}s=s[n]={},(0,l.kJ)(r.value)?s.a={t:i}:s.t=i}}}function q(e){var t,n=Math.floor(1200*Math.random())+2400;return t=Math.pow(2,e)*n,Math.min(t,6e5)}const K=function e(){var t={};(0,i.Z)(e,this,(function(e){e.setKillSwitchTenants=function(e,n){if(e&&n)try{var r=(s=e.split(","),a=[],s&&(0,l.tO)(s,(function(e){a.push((0,l.nd)(e))})),a);if("this-request-only"===n)return r;for(var i=1e3*parseInt(n,10),o=0;o<r.length;++o)t[r[o]]=(0,l.m6)()+i}catch(e){return[]}var s,a;return[]},e.isTenantKilled=function(e){var n=t,r=(0,l.nd)(e);return void 0!==n[r]&&n[r]>(0,l.m6)()||(delete n[r],!1)}}))},U=function e(){var t=!0,n=!0,r=!0,o="use-collector-delta",s=!1;(0,i.Z)(e,this,(function(e){e.allowRequestSending=function(){return t},e.firstRequestSent=function(){r&&(r=!1,s||(t=!1))},e.shouldAddClockSkewHeaders=function(){return n},e.getClockSkewHeaderValue=function(){return o},e.setClockSkew=function(e){s||(e?(o=e,n=!0,s=!0):n=!1,t=!0)}}))};var B,z="&NoResponseBody=true",H=((B={})[1]=S,B[100]=S,B[200]="sent",B[8004]=y,B[8003]=y,B),W={},J={};function $(e,t,n){W[e]=t,!1!==n&&(J[t]=e)}function G(e){try{return e.responseText}catch(e){}return""}function X(e,t){var n=!1;if(e&&t){var r=(0,l.FY)(e);if(r&&r.length>0)for(var i=t.toLowerCase(),o=0;o<r.length;o++){var s=r[o];if(s&&(0,l.nr)(t,s)&&s.toLowerCase()===i){n=!0;break}}}return n}function Q(e,t,n,r){t&&n&&n.length>0&&(r&&W[t]?(e.hdrs[W[t]]=n,e.useHdrs=!0):e.url+="&"+t+"="+n)}$(E,E,!1),$(T,T),$(I,"Client-Id"),$(P,P),$(_,_),$(k,k),$(A,A);var Y=function e(t,n,r,s,a){this._responseHandlers=[];var d,p,g,h,m,S,E="?cors=true&"+w.toLowerCase()+"="+C,A=new K,R=!1,D=new U,M=!1,L=0,O=!0,N=[],V={},B=[],W=null,$=!1,Y=!1,Z=!1;(0,i.Z)(e,this,(function(e){var i=!0;function K(e,t){for(var n=0,r=null,i=0;null==r&&i<e.length;)1===(n=e[i])?(0,u.cp)()?r=U:(0,u.Z3)()&&(r=te):2===n&&(0,u.JO)(t)?r=ee:M&&3===n&&(0,u.MF)()&&(r=re),i++;return r?{_transport:n,_isSync:t,sendPOST:r}:null}function U(e,t,n){var r=new XDomainRequest;r.open(v,e.urlString),e.timeout&&(r.timeout=e.timeout),r.onload=function(){var e=G(r);ne(t,200,{},e),ge(e)},r.onerror=function(){ne(t,400,{})},r.ontimeout=function(){ne(t,500,{})},r.onprogress=function(){},n?r.send(e.data):a.set((function(){r.send(e.data)}),0)}function ee(e,t,n){var r,o=e.urlString,s=!1,c=!1,u=((r={body:e.data,method:v}).Microsoft_ApplicationInsights_BypassAjaxInstrumentation=!0,r);n&&(u.keepalive=!0,2===e._sendReason&&(s=!0,o+=z)),i&&(u.credentials="include"),e.headers&&(0,l.FY)(e.headers).length>0&&(u.headers=e.headers),fetch(o,u).then((function(e){var n={},r="";e.headers&&e.headers.forEach((function(e,t){n[t]=e})),e.body&&e.text().then((function(e){r=e})),c||(c=!0,ne(t,e.status,n,r),ge(r))})).catch((function(e){c||(c=!0,ne(t,0,{}))})),s&&!c&&(c=!0,ne(t,200,{})),!c&&e.timeout>0&&a.set((function(){c||(c=!0,ne(t,500,{}))}),e.timeout)}function te(e,t,n){var r=e.urlString;function o(e,t,n){if(!e[n]&&t&&t.getResponseHeader){var r=t.getResponseHeader(n);r&&(e[n]=(0,l.nd)(r))}return e}function s(e,n){ne(t,e.status,function(e){var t={};return e.getAllResponseHeaders?t=function(e){var t={};if((0,l.HD)(e)){var n=(0,l.nd)(e).split(/[\r\n]+/);(0,l.tO)(n,(function(e){if(e){var n=e.indexOf(": ");if(-1!==n){var r=(0,l.nd)(e.substring(0,n)).toLowerCase(),i=(0,l.nd)(e.substring(n+1));t[r]=i}else t[(0,l.nd)(e)]=1}}))}return t}(e.getAllResponseHeaders()):(t=o(t,e,x),t=o(t,e,"kill-duration"),t=o(t,e,"kill-duration-seconds")),t}(e),n)}n&&e.disableXhrSync&&(n=!1);var a=(0,c.ot)(v,r,i,!0,n,e.timeout);(0,l.rW)(e.headers,(function(e,t){a.setRequestHeader(e,t)})),a.onload=function(){var e=G(a);s(a,e),ge(e)},a.onerror=function(){s(a)},a.ontimeout=function(){s(a)},a.send(e.data)}function ne(e,t,n,r){try{e(t,n,r)}catch(e){(0,f.kP)(d.diagLog(),2,518,(0,u.eU)(e))}}function re(e,t,n){var r=200,i=e._thePayload,o=e.urlString+z;try{var s=(0,u.jW)();if(!s.sendBeacon(o,e.data))if(i){var a=[];(0,l.tO)(i.batches,(function(e){if(a&&e&&e.count()>0){for(var t=e.events(),n=0;n<t.length;n++)if(!s.sendBeacon(o,W.getEventBlob(t[n]))){a.push(e.split(n));break}}else a.push(e.split(0))})),he(a,8003,i.sendType,!0)}else r=0}catch(e){d.diagLog().warnToConsole("Failed to send telemetry using sendBeacon API. Ex:"+(0,u.eU)(e)),r=0}finally{ne(t,r,{},"")}}function ie(e){return 2===e||3===e}function oe(e){return Y&&ie(e)&&(e=2),e}function se(){return!R&&L<n}function ae(){var e=B;return B=[],e}function ce(e,t,n){var r=!1;return e&&e.length>0&&!R&&p[t]&&W&&(r=0!==t||se()&&(n>0||D.allowRequestSending())),r}function le(e){var t={};return e&&(0,l.tO)(e,(function(e,n){t[n]={iKey:e.iKey(),evts:e.events()}})),t}function ue(e,n,r,i,s){if(e&&0!==e.length)if(R)he(e,1,i);else{i=oe(i);try{var a=e,l=0!==i;(0,o.Lm)(g,(function(){return"HttpManager:_sendBatches"}),(function(o){o&&(e=e.slice(0));for(var a=[],d=null,f=(0,c.hK)(),g=p[i]||(l?p[1]:p[0]),h=(Y||ie(i)||g&&3===g._transport)&&!O&&M&&(0,u.MF)();ce(e,i,n);){var m=e.shift();m&&m.count()>0&&(A.isTenantKilled(m.iKey())?a.push(m):(d=d||W.createPayload(n,r,l,h,s,i),W.appendPayload(d,m,t)?null!==d.overflow&&(e=[d.overflow].concat(e),d.overflow=null,fe(d,f,(0,c.hK)(),s),f=(0,c.hK)(),d=null):(fe(d,f,(0,c.hK)(),s),f=(0,c.hK)(),e=[m].concat(e),d=null)))}d&&fe(d,f,(0,c.hK)(),s),e.length>0&&(B=e.concat(B)),he(a,8004,i)}),(function(){return{batches:le(a),retryCount:n,isTeardown:r,isSynchronous:l,sendReason:s,useSendBeacon:ie(i),sendType:i}}),!l)}catch(e){(0,f.kP)(d.diagLog(),2,48,"Unexpected Exception sending batch: "+(0,u.eU)(e))}}}function de(e,t,n){e[t]=e[t]||{},e[t][d.identifier]=n}function fe(t,n,i,s){if(t&&t.payloadBlob&&t.payloadBlob.length>0){var a=!!e.sendHook,f=p[t.sendType];!ie(t.sendType)&&t.isBeacon&&2===t.sendReason&&(f=p[2]||p[3]||f);var h=Z;(t.isBeacon||3===f._transport)&&(h=!1);var v=function(e,t){var n={url:E,hdrs:{},useHdrs:!1};t?(n.hdrs=(0,c.l7)(n.hdrs,V),n.useHdrs=(0,l.FY)(n.hdrs).length>0):(0,l.rW)(V,(function(e,t){J[e]?Q(n,J[e],t,!1):(n.hdrs[e]=t,n.useHdrs=!0)})),Q(n,I,"NO_AUTH",t),Q(n,T,c.vs,t);var r="";(0,l.tO)(e.apiKeys,(function(e){r.length>0&&(r+=","),r+=e})),Q(n,P,r,t),Q(n,k,(0,l.m6)().toString(),t);var i=function(e){for(var t=0;t<e.batches.length;t++){var n=e.batches[t].Msfpc();if(n)return encodeURIComponent(n)}return""}(e);if((0,c.Sn)(i)&&(n.url+="&ext.intweb.msfpc="+i),D.shouldAddClockSkewHeaders()&&Q(n,_,D.getClockSkewHeaderValue(),t),g.getWParam){var o=g.getWParam();o>=0&&(n.url+="&w="+o)}for(var s=0;s<N.length;s++)n.url+="&"+N[s].name+"="+N[s].value;return n}(t,h);h=h||v.useHdrs;var y=(0,c.hK)();(0,o.Lm)(g,(function(){return"HttpManager:_doPayloadSend"}),(function(){for(var p=0;p<t.batches.length;p++)for(var T=t.batches[p].events(),I=0;I<T.length;I++){var _=T[I];if($){var k=_.timings=_.timings||{};de(k,"sendEventStart",y),de(k,"serializationStart",n),de(k,"serializationCompleted",i)}_.sendAttempt>0?_.sendAttempt++:_.sendAttempt=1}he(t.batches,1e3+(s||0),t.sendType,!0);var P={data:t.payloadBlob,urlString:v.url,headers:v.hdrs,_thePayload:t,_sendReason:s,timeout:m};(0,l.o8)(S)||(P.disableXhrSync=!!S),h&&(X(P.headers,b)||(P.headers[b]="no-cache, no-store"),X(P.headers,w)||(P.headers["content-type"]=C));var E=null;f&&(E=function(n){D.firstRequestSent();var i=function(n,i){!function(t,n,i,o){var s,a=9e3,u=null,f=!1,p=!1;try{var g=!0;if(typeof t!==F.jA){if(n){D.setClockSkew(n[x]);var h=n["kill-duration"]||n["kill-duration-seconds"];(0,l.tO)(A.setKillSwitchTenants(n["kill-tokens"],h),(function(e){(0,l.tO)(i.batches,(function(t){if(t.iKey()===e){u=u||[];var n=t.split(0);i.numEvents-=n.count(),u.push(n)}}))}))}if(200==t||204==t)return void(a=200);((s=t)>=300&&s<500&&408!=s&&429!=s||501==s||505==s||i.numEvents<=0)&&(g=!1),a=9e3+t%1e3}if(g){a=100;var m=i.retryCnt;0===i.sendType&&(m<r?(f=!0,pe((function(){0===i.sendType&&L--,ue(i.batches,m+1,i.isTeardown,Y?2:i.sendType,5)}),Y,q(m))):(p=!0,Y&&(a=8001)))}}finally{f||(D.setClockSkew(),function(t,n,r,i){try{i&&d._backOffTransmission(),200===n&&(i||t.isSync||d._clearBackOff(),function(e){if($){var t=(0,c.hK)();(0,l.tO)(e,(function(e){e&&e.count()>0&&function(e,t){$&&(0,l.tO)(e,(function(e){de(e.timings=e.timings||{},"sendEventCompleted",t)}))}(e.events(),t)}))}}(t.batches)),he(t.batches,n,t.sendType,!0)}finally{0===t.sendType&&(L--,5!==r&&e.sendQueuedRequests(t.sendType,r))}}(i,a,o,p)),he(u,8004,i.sendType)}}(n,i,t,s)},o=t.isTeardown||t.isSync;try{f.sendPOST(n,i,o),e.sendListener&&e.sendListener(P,n,o,t.isBeacon)}catch(e){d.diagLog().warnToConsole("Unexpected exception sending payload. Ex:"+(0,u.eU)(e)),ne(i,0,{})}}),(0,o.Lm)(g,(function(){return"HttpManager:_doPayloadSend.sender"}),(function(){if(E)if(0===t.sendType&&L++,a&&!t.isBeacon&&3!==f._transport){var n={data:P.data,urlString:P.urlString,headers:(0,c.l7)({},P.headers),timeout:P.timeout,disableXhrSync:P.disableXhrSync},r=!1;(0,o.Lm)(g,(function(){return"HttpManager:_doPayloadSend.sendHook"}),(function(){try{e.sendHook(n,(function(e){r=!0,O||e._thePayload||(e._thePayload=e._thePayload||P._thePayload,e._sendReason=e._sendReason||P._sendReason),E(e)}),t.isSync||t.isTeardown)}catch(e){r||E(P)}}))}else E(P)}))}),(function(){return{thePayload:t,serializationStart:n,serializationCompleted:i,sendReason:s}}),t.isSync)}t.sizeExceed&&t.sizeExceed.length>0&&he(t.sizeExceed,8003,t.sendType),t.failedEvts&&t.failedEvts.length>0&&he(t.failedEvts,8002,t.sendType)}function pe(e,t,n){t?e():a.set(e,n)}function ge(t){var n=e._responseHandlers;try{for(var r=0;r<n.length;r++)try{n[r](t)}catch(e){(0,f.kP)(d.diagLog(),1,519,"Response handler failed: "+e)}if(t){var i=JSON.parse(t);(0,c.Sn)(i.webResult)&&(0,c.Sn)(i.webResult.msfpc)&&h.set("MSFPC",i.webResult.msfpc,31536e3)}}catch(e){}}function he(e,t,n,r){if(e&&e.length>0&&s){var i=s[(l=t,u=H[l],(0,c.Sn)(u)||(u="oth",l>=9e3&&l<=9999?u="rspFail":l>=8e3&&l<=8999?u=y:l>=1e3&&l<=1999&&(u="send")),u)];if(i){var a=0!==n;(0,o.Lm)(g,(function(){return"HttpManager:_sendBatchesNotification"}),(function(){pe((function(){try{i.call(s,e,t,a,n)}catch(e){(0,f.kP)(d.diagLog(),1,74,"send request notification failed: "+e)}}),r||a,0)}),(function(){return{batches:le(e),reason:t,isSync:a,sendSync:r,sendType:n}}),!a)}}var l,u}e.initialize=function(e,t,n,r,o){var s;o||(o={}),E=e+E,Z=!!(0,l.o8)(o.avoidOptions)||!o.avoidOptions,g=t,h=t.getCookieMgr(),$=!g.config.disableEventTimings;var a=!!g.config.enableCompoundKey;d=n;var c=o.valueSanitizer,f=o.stringifyObjects;(0,l.o8)(o.enableCompoundKey)||(a=!!o.enableCompoundKey),m=o.xhrTimeout,S=o.disableXhrSync,M=!(0,u.b$)(),W=new j(g,c,f,a);var v=r,y=o.alwaysUseXhrOverride?r:null,C=o.alwaysUseXhrOverride?r:null;if(!r){O=!1;var b=(0,u.k$)();b&&b.protocol&&"file:"===b.protocol.toLowerCase()&&(i=!1);var w=[];w=(0,u.b$)()?[2,1]:[1,2,3];var x=o.transports;x&&((0,l.hj)(x)?w=[x].concat(w):(0,l.kJ)(x)&&(w=x.concat(w))),r=K(w,!1),v=K(w,!0),r||d.diagLog().warnToConsole("No available transport to send events")}(s={})[0]=r,s[1]=v||K([1,2,3],!0),s[2]=y||K([3,2],!0)||v||K([1],!0),s[3]=C||K([2,3],!0)||v||K([1],!0),p=s},e._getDbgPlgTargets=function(){return[p[0],A,W,p]},e.addQueryStringParameter=function(e,t){for(var n=0;n<N.length;n++)if(N[n].name===e)return void(N[n].value=t);N.push({name:e,value:t})},e.addHeader=function(e,t){V[e]=t},e.canSendRequest=function(){return se()&&D.allowRequestSending()},e.sendQueuedRequests=function(e,t){(0,l.o8)(e)&&(e=0),Y&&(e=oe(e),t=2),ce(B,e,0)&&ue(ae(),0,!1,e,t||0)},e.isCompletelyIdle=function(){return!R&&0===L&&0===B.length},e.setUnloading=function(e){Y=e},e.addBatch=function(e){if(e&&e.count()>0){if(A.isTenantKilled(e.iKey()))return!1;B.push(e)}return!0},e.teardown=function(){B.length>0&&ue(ae(),0,!0,2,2)},e.pause=function(){R=!0},e.resume=function(){R=!1,e.sendQueuedRequests(0,4)},e.sendSynchronousBatch=function(e,t,n){e&&e.count()>0&&((0,l.le)(t)&&(t=1),Y&&(t=oe(t),n=2),ue([e],0,!1,t,n||0))}}))};function Z(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout(e,t,n)}function ee(e){clearTimeout(e)}function te(e,t){return{set:e||Z,clear:t||ee}}var ne="eventsDiscarded";const re=function(e){function t(){var n,r=e.call(this)||this;r.identifier="PostChannel",r.priority=1011,r.version="3.2.3";var p,v,y,S,C,b,w,x=!1,T=[],I=null,_=!1,k=0,P=500,A=0,R=1e4,D={},F=g,L=null,O=null,N=0,j=0,V={},K=-1,U=!0,B=!1,z=6,H=2;return(0,i.Z)(t,r,(function(e,t){function r(e){"beforeunload"!==(e||(0,u.Jj)().event).type&&(B=!0,v.setUnloading(B)),ee(2,2)}function i(e){B=!1,v.setUnloading(B)}function W(e,t){if(e.sendAttempt||(e.sendAttempt=0),e.latency||(e.latency=1),e.ext&&e.ext.trace&&delete e.ext.trace,e.ext&&e.ext.user&&e.ext.user.id&&delete e.ext.user.id,U&&(e.ext=(0,l.Ax)(e.ext),e.baseData&&(e.baseData=(0,l.Ax)(e.baseData)),e.data&&(e.data=(0,l.Ax)(e.data))),e.sync)if(N||_)e.latency=3,e.sync=!1;else if(v)return U&&(e=(0,l.Ax)(e)),void v.sendSynchronousBatch(M.create(e.iKey,[e]),!0===e.sync?1:e.sync,3);var n=e.latency,r=A,i=R;4===n&&(r=k,i=P);var o=!1;if(r<i)o=!oe(e,t);else{var s=1,a=20;4===n&&(s=4,a=1),o=!0,function(e,t,n,r){for(;n<=t;){var i=re(e,t,!0);if(i&&i.count()>0){var o=i.split(0,r),s=o.count();if(s>0)return 4===n?k-=s:A-=s,ge(ne,[o],d.h.QueueFull),!0}n++}return se(),!1}(e.iKey,e.latency,s,a)&&(o=!oe(e,t))}o&&pe(ne,[e],d.h.QueueFull)}function J(e,t,n){var r=ae(e,t,n);return v.sendQueuedRequests(t,n),r}function $(){return A>0}function G(){if(K>=0&&ae(K,0,C)&&v.sendQueuedRequests(0,C),k>0&&!O&&!_){var e=D[F][2];e>=0&&(O=Q((function(){O=null,J(4,0,1),G()}),e))}var t=D[F][1];!L&&!I&&t>=0&&!_&&($()?L=Q((function(){L=null,J(0===j?3:1,0,1),j++,j%=2,G()}),t):j=0)}function X(){n=null,x=!1,T=[],I=null,_=!1,k=0,P=500,A=0,R=1e4,D={},F=g,L=null,O=null,N=0,j=0,p=null,V={},y=void 0,S=0,K=-1,C=null,U=!0,B=!1,z=6,H=2,b=null,w=te(),v=new Y(500,2,1,{requeue:de,send:he,sent:me,drop:ve,rspFail:ye,oth:Se},w),ue(),V[4]={batches:[],iKeyMap:{}},V[3]={batches:[],iKeyMap:{}},V[2]={batches:[],iKeyMap:{}},V[1]={batches:[],iKeyMap:{}},Ce()}function Q(e,t){0===t&&N&&(t=1);var n=1e3;return N&&(n=q(N-1)),w.set(e,t*n)}function Z(){return null!==L&&(w.clear(L),L=null,j=0,!0)}function ee(e,t){Z(),I&&(w.clear(I),I=null),_||J(1,e,t)}function re(e,t,n){var r=V[t];r||(r=V[t=1]);var i=r.iKeyMap[e];return!i&&n&&(i=M.create(e),r.batches.push(i),r.iKeyMap[e]=i),i}function ie(t,n){v.canSendRequest()&&!N&&(y>0&&A>y&&(n=!0),n&&null==I&&e.flush(t,null,20))}function oe(e,t){U&&(e=(0,l.Ax)(e));var n=e.latency,r=re(e.iKey,n,!0);return!!r.addEvent(e)&&(4!==n?(A++,t&&0===e.sendAttempt&&ie(!e.sync,S>0&&r.count()>=S)):k++,!0)}function se(){for(var e=0,t=0,n=function(n){var r=V[n];r&&r.batches&&(0,l.tO)(r.batches,(function(r){4===n?e+=r.count():t+=r.count()}))},r=1;r<=4;r++)n(r);A=t,k=e}function ae(t,n,r){var i=!1,s=0===n;return!s||v.canSendRequest()?(0,o.Lm)(e.core,(function(){return"PostChannel._queueBatches"}),(function(){for(var e=[],n=4;n>=t;){var r=V[n];r&&r.batches&&r.batches.length>0&&((0,l.tO)(r.batches,(function(t){v.addBatch(t)?i=i||t&&t.count()>0:e=e.concat(t.events()),4===n?k-=t.count():A-=t.count()})),r.batches=[],r.iKeyMap={}),n--}e.length>0&&pe(ne,e,d.h.KillSwitch),i&&K>=t&&(K=-1,C=0)}),(function(){return{latency:t,sendType:n,sendReason:r}}),!s):(K=K>=0?Math.min(K,t):t,C=Math.max(C,r)),i}function ce(e,t){J(1,0,t),se(),le((function(){e&&e(),T.length>0?I=Q((function(){I=null,ce(T.shift(),t)}),0):(I=null,G())}))}function le(e){v.isCompletelyIdle()?e():I=Q((function(){I=null,le(e)}),.25)}function ue(){(D={})[g]=[2,1,0],D[h]=[6,3,0],D[m]=[18,9,0]}function de(t,n){var r=[],i=z;B&&(i=H),(0,l.tO)(t,(function(t){t&&t.count()>0&&(0,l.tO)(t.events(),(function(t){t&&(t.sync&&(t.latency=4,t.sync=!1),t.sendAttempt<i?((0,c.if)(t,e.identifier),W(t,!1)):r.push(t))}))})),r.length>0&&pe(ne,r,d.h.NonRetryableStatus),B&&ee(2,2)}function fe(t,n){var r=e._notificationManager||{},i=r[t];if(i)try{i.apply(r,n)}catch(n){(0,f.kP)(e.diagLog(),1,74,t+" notification failed: "+n)}}function pe(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];t&&t.length>0&&fe(e,[t].concat(n))}function ge(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];t&&t.length>0&&(0,l.tO)(t,(function(t){t&&t.count()>0&&fe(e,[t.events()].concat(n))}))}function he(e,t,n){e&&e.length>0&&fe("eventsSendRequest",[t>=1e3&&t<=1999?t-1e3:0,!0!==n])}function me(e,t){ge("eventsSent",e,t),G()}function ve(e,t){ge(ne,e,t>=8e3&&t<=8999?t-8e3:d.h.Unknown)}function ye(e){ge(ne,e,d.h.NonRetryableStatus),G()}function Se(e,t){ge(ne,e,d.h.Unknown),G()}function Ce(){S=n&&n.disableAutoBatchFlushLimit?0:Math.max(1500,R/6)}X(),e._getDbgPlgTargets=function(){return[v]},e.initialize=function(u,d,f){(0,o.Lm)(d,(function(){return"PostChannel:initialize"}),(function(){var o=d;t.initialize(u,d,f);try{d.addUnloadCb,b=(0,s.jU)((0,a.J)(e.identifier),d.evtNamespace&&d.evtNamespace());var g=e._getTelCtx();u.extensionConfig[e.identifier]=u.extensionConfig[e.identifier]||{},n=g.getExtCfg(e.identifier),w=te(n.setTimeoutOverride,n.clearTimeoutOverride),U=!n.disableOptimizeObj&&(0,c.mJ)(),function(e){var t=e.getWParam;e.getWParam=function(){var e=0;return n.ignoreMc1Ms0CookieProcessing&&(e|=2),e|t()}}(o),n.eventsLimitInMem>0&&(R=n.eventsLimitInMem),n.immediateEventLimit>0&&(P=n.immediateEventLimit),n.autoFlushEventsLimit>0&&(y=n.autoFlushEventsLimit),(0,l.hj)(n.maxEventRetryAttempts)&&(z=n.maxEventRetryAttempts),(0,l.hj)(n.maxUnloadEventRetryAttempts)&&(H=n.maxUnloadEventRetryAttempts),Ce(),n.httpXHROverride&&n.httpXHROverride.sendPOST&&(p=n.httpXHROverride),(0,c.Sn)(u.anonCookieName)&&v.addQueryStringParameter("anoncknm",u.anonCookieName),v.sendHook=n.payloadPreprocessor,v.sendListener=n.payloadListener;var h=n.overrideEndpointUrl?n.overrideEndpointUrl:u.endpointUrl;e._notificationManager=u.extensionConfig.NotificationManager,v.initialize(h,e.core,e,p,n);var m=u.disablePageUnloadEvents||[];(0,s.c9)(r,m,b),(0,s.TJ)(r,m,b),(0,s.nD)(i,u.disablePageShowEvents,b)}catch(t){throw e.setInitialized(!1),t}}),(function(){return{coreConfig:u,core:d,extensions:f}}))},e.processTelemetry=function(t,r){(0,c.if)(t,e.identifier);var i=(r=e._getTelCtx(r)).getExtCfg(e.identifier),o=!!n.disableTelemetry;i&&(o=o||!!i.disableTelemetry);var s=t;o||x||(n.overrideInstrumentationKey&&(s.iKey=n.overrideInstrumentationKey),i&&i.overrideInstrumentationKey&&(s.iKey=i.overrideInstrumentationKey),W(s,!0),B?ee(2,2):G()),e.processNext(s,r)},e._doTeardown=function(e,t){ee(2,2),x=!0,v.teardown(),(0,s.JA)(null,b),(0,s.C9)(null,b),(0,s.Yl)(null,b),X()},e.setEventQueueLimits=function(e,t){R=e>0?e:1e4,y=t>0?t:0,Ce();var n=A>e;if(!n&&S>0)for(var r=1;!n&&r<=3;r++){var i=V[r];i&&i.batches&&(0,l.tO)(i.batches,(function(e){e&&e.count()>=S&&(n=!0)}))}ie(!0,n)},e.pause=function(){Z(),_=!0,v.pause()},e.resume=function(){_=!1,v.resume(),G()},e.addResponseHandler=function(e){v._responseHandlers.push(e)},e._loadTransmitProfiles=function(e){Z(),ue(),F=g,G(),(0,l.rW)(e,(function(e,t){var n=t.length;if(n>=2){var r=n>2?t[2]:0;if(t.splice(0,n-2),t[1]<0&&(t[0]=-1),t[1]>0&&t[0]>0){var i=t[0]/t[1];t[0]=Math.ceil(i)*t[1]}r>=0&&t[1]>=0&&r>t[1]&&(r=t[1]),t.push(r),D[e]=t}}))},e.flush=function(e,t,n){if(void 0===e&&(e=!0),!_)if(n=n||1,e)null==I?(Z(),ae(1,0,n),I=Q((function(){I=null,ce(t,n)}),0)):T.push(t);else{var r=Z();J(1,1,n),null!=t&&t(),r&&G()}},e.setMsaAuthTicket=function(e){v.addHeader(E,e)},e.hasEvents=$,e._setTransmitProfile=function(e){F!==e&&void 0!==D[e]&&(Z(),F=e,G())},e._backOffTransmission=function(){N<4&&(N++,Z(),G())},e._clearBackOff=function(){N&&(N=0,Z(),G())},(0,l.l_)(e,"_setTimeoutOverride",(function(){return w.set}),(function(e){w=te(e,w.clear)})),(0,l.l_)(e,"_clearTimeoutOverride",(function(){return w.clear}),(function(e){w=te(w.set,e)}))})),r}return(0,r.ne)(t,e),t}(p.i)},951:(e,t,n)=>{"use strict";n.d(t,{By:()=>i});var r=n(4869);function i(e){var t={};return(0,r.rW)(e,(function(e,n){t[e]=n,t[n]=e})),(0,r._A)(t)}},8452:(e,t,n)=>{"use strict";n.d(t,{h:()=>r});var r=(0,n(951).By)({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})},7951:(e,t,n)=>{"use strict";n.d(t,{i:()=>l});var r=n(9141),i=n(1030),o=n(4869),s=n(1733),a=n(8593),c=n(6335),l=function e(){var t,n,l,u,d,f=this;function p(e){void 0===e&&(e=null);var t=e;if(!t){var r=n||(0,i.CD)(null,{},f.core);t=l&&l.getPlugin?r.createNew(null,l.getPlugin):r.createNew(null,l)}return t}function g(e,t,r){e&&(0,o.sO)(e,s.F,[],null,o.le),!r&&t&&(r=t.getProcessTelContext().getNext());var a=l;l&&l.getPlugin&&(a=l.getPlugin()),f.core=t,n=(0,i.CD)(r,e,t,a)}function h(){t=!1,f.core=null,n=null,l=null,d=[],u=(0,a.Y)()}h(),(0,r.Z)(e,f,(function(e){e.initialize=function(e,n,r,i){g(e,n,i),t=!0},e.teardown=function(t,n){var r=e.core;if(r&&(!t||r===t.core())){var s,a=!1,f=t||(0,i.Bt)(null,r,l&&l.getPlugin?l.getPlugin():l),p=n||{reason:0,isAsync:!1};return e[c.Ho]&&!0===e[c.Ho](f,p,g)?s=!0:g(),s}function g(){a||(a=!0,u.run(f,n),(0,o.tO)(d,(function(e){e.rm()})),d=[],!0===s&&f.processNext(p),h())}},e.update=function(t,n){var r=e.core;if(r&&(!t||r===t.core())){var o,s=!1,a=t||(0,i.xy)(null,r,l&&l.getPlugin?l.getPlugin():l),c=n||{reason:0};return e._doUpdate&&!0===e._doUpdate(a,c,u)?o=!0:u(),o}function u(){s||(s=!0,g(a.getCfg(),a.core(),a.getNext()))}},e._addHook=function(e){e&&((0,o.kJ)(e)?d=d.concat(e):d.push(e))},(0,o.Oi)(e,"_addUnloadCb",(function(){return u}),"add")})),f.diagLog=function(e){return p(e).diagLog()},f[c.Vr]=function(){return t},f.setInitialized=function(e){t=e},f[c.El]=function(e){l=e},f.processNext=function(e,t){t?t.processNext(e):l&&(0,o.mf)(l.processTelemetry)&&l.processTelemetry(e,null)},f._getTelCtx=p}},1733:(e,t,n)=>{"use strict";n.d(t,{z:()=>r,F:()=>i});var r="iKey",i="extensionConfig"},8140:(e,t,n)=>{"use strict";n.d(t,{kj:()=>h,JP:()=>v,Nz:()=>y,p7:()=>S,UY:()=>I});var r=n(9251),i=n(4869),o=n(6335),s=n(9339),a="toGMTString",c="toUTCString",l=null,u=null,d=null,f=(0,r.Me)(),p={},g={};function h(e,t){var n=y._ckMgr||g._ckMgr;return n||(n=y._ckMgr=y(e,t),g._ckMgr=n),n}function m(e){return!e||e.isEnabled()}function v(e,t){var n;if(e)n=e.getCookieMgr();else if(t){var r=t.cookieCfg;n=r._ckMgr?r._ckMgr:y(t)}return n||(n=h(t,(e||{}).logger)),n}function y(e,t){var n=function(e){var t=e.cookieCfg=e.cookieCfg||{};if((0,i.sO)(t,"domain",e.cookieDomain,i.BX,i.le),(0,i.sO)(t,"path",e.cookiePath||"/",null,i.le),(0,i.le)(t.enabled)){var n=void 0;(0,i.o8)(e.isCookieUseDisabled)||(n=!e.isCookieUseDisabled),(0,i.o8)(e.disableCookiesUsage)||(n=!e.disableCookiesUsage),t.enabled=n}return t}(e||g),s=n.path||"/",l=n.domain,d=!1!==n.enabled,f={isEnabled:function(){var e=d&&S(t),n=g._ckMgr;return e&&n&&f!==n&&(e=m(n)),e},setEnabled:function(e){d=!1!==e},set:function(e,t,d,p,g){var h=!1;if(m(f)){var v={},y=(0,i.nd)(t||o.SM),S=y.indexOf(";");if(-1!==S&&(y=(0,i.nd)(t.substring(0,S)),v=C(t.substring(S+1))),(0,i.sO)(v,"domain",p||l,i.fQ,i.o8),!(0,i.le)(d)){var x=(0,r.w1)();if((0,i.o8)(v.expires)){var _=(0,i.m6)()+1e3*d;if(_>0){var k=new Date;k.setTime(_),(0,i.sO)(v,"expires",b(k,x?a:c)||b(k,x?a:c)||o.SM,i.fQ)}}x||(0,i.sO)(v,"max-age",o.SM+d,null,i.o8)}var P=(0,r.k$)();P&&"https:"===P.protocol&&((0,i.sO)(v,"secure",null,null,i.o8),null===u&&(u=!I(((0,r.jW)()||{}).userAgent)),u&&(0,i.sO)(v,"SameSite","None",null,i.o8)),(0,i.sO)(v,"path",g||s,null,i.o8),(n.setCookie||T)(e,w(y,v)),h=!0}return h},get:function(e){var t=o.SM;return m(f)&&(t=(n.getCookie||x)(e)),t},del:function(e,t){var n=!1;return m(f)&&(n=f.purge(e,t)),n},purge:function(e,i){var s,a=!1;if(S(t)){var c=((s={}).path=i||"/",s.expires="Thu, 01 Jan 1970 00:00:01 GMT",s);(0,r.w1)()||(c["max-age"]="0"),(n.delCookie||T)(e,w(o.SM,c)),a=!0}return a}};return f._ckMgr=f,f}function S(e){if(null===l){l=!1;try{l=void 0!==(f||{}).cookie}catch(t){(0,s.kP)(e,2,68,"Cannot access document.cookie - "+(0,i.jj)(t),{exception:(0,r.eU)(t)})}}return l}function C(e){var t={};if(e&&e.length){var n=(0,i.nd)(e).split(";");(0,i.tO)(n,(function(e){if(e=(0,i.nd)(e||o.SM)){var n=e.indexOf("=");-1===n?t[e]=null:t[(0,i.nd)(e.substring(0,n))]=(0,i.nd)(e.substring(n+1))}}))}return t}function b(e,t){return(0,i.mf)(e[t])?e[t]():null}function w(e,t){var n=e||o.SM;return(0,i.rW)(t,(function(e,t){n+="; "+e+((0,i.le)(t)?o.SM:"="+t)})),n}function x(e){var t=o.SM;if(f){var n=f.cookie||o.SM;d!==n&&(p=C(n),d=n),t=(0,i.nd)(p[e]||o.SM)}return t}function T(e,t){f&&(f.cookie=e+"="+t)}function I(e){return!(!(0,i.HD)(e)||!(0,i._Q)(e,"CPU iPhone OS 12")&&!(0,i._Q)(e,"iPad; CPU OS 12")&&!((0,i._Q)(e,"Macintosh; Intel Mac OS X 10_14")&&(0,i._Q)(e,"Version/")&&(0,i._Q)(e,"Safari"))&&(!(0,i._Q)(e,"Macintosh; Intel Mac OS X 10_14")||!(0,i.Id)(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)"))&&!(0,i._Q)(e,"Chrome/5")&&!(0,i._Q)(e,"Chrome/6")&&(!(0,i._Q)(e,"UnrealEngine")||(0,i._Q)(e,"Chrome"))&&!(0,i._Q)(e,"UCBrowser/12")&&!(0,i._Q)(e,"UCBrowser/11"))}},8956:(e,t,n)=>{"use strict";n.d(t,{GW:()=>f,Jj:()=>p,DO:()=>g,zB:()=>v});var r,i=n(175),o=n(8140),s=n(9251),a=n(4869),c=n(7954),l=n(9406),u=n(6335),d=null;function f(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(m,(function(e){var t=0|(0,l.az)(15);return("x"===e?t:3&t|8).toString(16)}))}function p(){var e=(0,s.r)();return e&&e.now?e.now():(0,a.m6)()}function g(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n=u.SM,r=0;r<4;r++)n+=t[15&(e=(0,l._l)())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var i=t[8+(3&(0,l._l)())|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+i+n.substr(16,3)+n.substr(19,12)}var h={_canUseCookies:void 0,isTypeof:a.Ym,isUndefined:a.o8,isNullOrUndefined:a.le,hasOwnProperty:a.nr,isFunction:a.mf,isObject:a.Kn,isDate:a.J_,isArray:a.kJ,isError:a.VZ,isString:a.HD,isNumber:a.hj,isBoolean:a.jn,toISOString:a.Y6,arrForEach:a.tO,arrIndexOf:a.UA,arrMap:a.Mr,arrReduce:a.Xz,strTrim:a.nd,objCreate:i.pu,objKeys:a.FY,objDefineAccessors:a.l_,addEventHandler:c.Ib,dateNow:a.m6,isIE:s.w1,disableCookies:function(){var e,t,n,i;(n=(0,o.kj)(e,t),i=h._canUseCookies,null===d&&(d=[],r=i,(0,a.l_)(h,"_canUseCookies",(function(){return r}),(function(e){r=e,(0,a.tO)(d,(function(t){t.setEnabled(e)}))}))),-1===(0,a.UA)(d,n)&&d.push(n),(0,a.jn)(i)&&n.setEnabled(i),(0,a.jn)(r)&&n.setEnabled(r),n).setEnabled(!1)},newGuid:f,perfNow:p,newId:l.pZ,randomValue:l.az,random32:l._l,mwcRandomSeed:l.CN,mwcRandom32:l.F6,generateW3CId:g},m=/[xy]/g,v={Attach:c.pZ,AttachEvent:c.pZ,Detach:c.pD,DetachEvent:c.pD}},7624:(e,t,n)=>{"use strict";n.d(t,{J:()=>u,K:()=>d});var r=n(1550),i=n(4869),o=n(9406),s=r.RJ,a="."+(0,o.pZ)(6),c=0;function l(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function u(e,t){return void 0===t&&(t=!1),(0,i.Gf)(e+c+++(t?".2.8.4":"")+a)}function d(e){var t={id:u("_aiData-"+(e||"")+".2.8.4"),accept:function(e){return l(e)},get:function(e,n,r,o){var a=e[t.id];return a?a[(0,i.Gf)(n)]:(o&&((a=function(e,t){var n=t[e.id];if(!n){n={};try{l(t)&&(function(e,t,n){if(s)try{return s(e,t,{value:n,enumerable:!1,configurable:!0}),!0}catch(e){}return!1}(t,e.id,n)||(t[e.id]=n))}catch(e){}}return n}(t,e))[(0,i.Gf)(n)]=r),r)},kill:function(e,t){if(e&&e[t])try{delete e[t]}catch(e){}}};return t}},8341:(e,t,n)=>{"use strict";n.d(t,{j:()=>c,p:()=>l});var r,i=n(9251),o=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],s=null;function a(e,t){return function(){var n=arguments,r=c(t);if(r){var i=r.listener;i&&i[e]&&i[e].apply(i,n)}}}function c(e){var t,n=s;return n||!0===e.disableDbgExt||(n=s||((t=(0,i.a8)("Microsoft"))&&(s=t.ApplicationInsights),s)),n?n.ChromeDbgExt:null}function l(e){if(!r){r={};for(var t=0;t<o.length;t++)r[o[t]]=a(o[t],e)}return r}},9339:(e,t,n)=>{"use strict";n.d(t,{lQ:()=>u,vH:()=>d,AQ:()=>f,kP:()=>p,jV:()=>g});var r=n(9251),i=n(9141),o=n(4869),s=n(8341),a=n(6335);function c(e){return e?'"'+e.replace(/\"/g,a.SM)+'"':a.SM}function l(e,t){var n=(0,r.dr)();if(n){var i="log";n[e]&&(i=e),(0,o.mf)(n[i])&&n[i](t)}}var u=function(){function e(e,t,n,i){void 0===n&&(n=!1);var o=this;o.messageId=e,o.message=(n?"AI: ":"AI (Internal): ")+e;var s=a.SM;(0,r.nS)()&&(s=(0,r.xA)().stringify(i));var l=(t?" message:"+c(t):a.SM)+(i?" props:"+c(s):a.SM);o.message+=l}return e.dataType="MessageData",e}();function d(e,t){return(e||{}).logger||new f(t)}var f=function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n=0,a={};(0,i.Z)(e,this,(function(e){function i(e,n){var r=t[e];return(0,o.le)(r)?n:r}function c(e,n){var r=(0,s.j)(t);r&&r.diagLog&&r.diagLog(e,n)}(0,o.le)(t)&&(t={}),e.consoleLoggingLevel=function(){return i("loggingLevelConsole",0)},e.telemetryLoggingLevel=function(){return i("loggingLevelTelemetry",1)},e.maxInternalMessageLimit=function(){return i("maxMessageLimit",25)},e.enableDebugExceptions=function(){return i("enableDebugExceptions",!1)},e.throwInternal=function(t,n,i,s,l){void 0===l&&(l=!1);var d=new u(n,i,l,s);if(e.enableDebugExceptions())throw(0,r.eU)(d);var f=1===t?"errorToConsole":"warnToConsole";if((0,o.o8)(d.message))c("throw"+(1===t?"Critical":"Warning"),d);else{var p=e.consoleLoggingLevel();if(l){var g=+d.messageId;!a[g]&&p>=t&&(e[f](d.message),a[g]=!0)}else p>=t&&e[f](d.message);e.logInternalMessage(t,d)}},e.warnToConsole=function(e){l("warn",e),c("warning",e)},e.errorToConsole=function(e){l("error",e),c("error",e)},e.resetInternalMessageCount=function(){n=0,a={}},e.logInternalMessage=function(t,r){if(!(n>=e.maxInternalMessageLimit())){var i=!0,o="AITR_"+r.messageId;if(a[o]?i=!1:a[o]=!0,i&&(t<=e.telemetryLoggingLevel()&&(e.queue.push(r),n++,c(1===t?"error":"warn",r)),n===e.maxInternalMessageLimit())){var s="Internal events throttle limit per PageView reached for this app.",l=new u(23,s,!1);e.queue.push(l),1===t?e.errorToConsole(s):e.warnToConsole(s)}}}}))};function p(e,t,n,r,i,o){void 0===o&&(o=!1),(e||new f).throwInternal(t,n,r,i,o)}function g(e,t){(function(e){return e||new f})(e).warnToConsole(t)}},9251:(e,t,n)=>{"use strict";n.d(t,{dI:()=>y,a8:()=>S,Ym:()=>C,Jj:()=>b,Nv:()=>w,Me:()=>x,d6:()=>T,jW:()=>I,fE:()=>_,s1:()=>k,k$:()=>P,dr:()=>E,r:()=>A,nS:()=>R,xA:()=>D,MX:()=>M,gz:()=>F,b$:()=>L,w1:()=>O,sA:()=>N,eU:()=>j,MF:()=>V,JO:()=>q,cp:()=>K,Z3:()=>U,ed:()=>z,pI:()=>H});var r=n(1550),i=n(175),o=n(6335),s=n(4869),a="window",c="JSON",l="msie",u="trident/",d="XMLHttpRequest",f=null,p=null,g=!1,h=null,m=null;function v(e,t){var n=!1;if(e){try{if(!(n=t in e)){var i=e[r.hB];i&&(n=t in i)}}catch(e){}if(!n)try{var o=new e;n=!(0,s.o8)(o[t])}catch(e){}}return n}function y(e){g=e}function S(e){var t=(0,i.Rd)();return t&&t[e]?t[e]:e===a&&C()?window:null}function C(){return Boolean(typeof window===r.fK&&window)}function b(){return C()?window:S(a)}function w(){return Boolean(typeof document===r.fK&&document)}function x(){return w()?document:S("document")}function T(){return Boolean(typeof navigator===r.fK&&navigator)}function I(){return T()?navigator:S("navigator")}function _(){return Boolean(typeof history===r.fK&&history)}function k(){return _()?history:S("history")}function P(e){if(e&&g){var t=S("__mockLocation");if(t)return t}return typeof location===r.fK&&location?location:S("location")}function E(){return typeof console!==r.jA?console:S("console")}function A(){return S("performance")}function R(){return Boolean(typeof JSON===r.fK&&JSON||null!==S(c))}function D(){return R()?JSON||S(c):null}function M(){return S("crypto")}function F(){return S("msCrypto")}function L(){var e=I();return!(!e||!e.product)&&"ReactNative"===e.product}function O(){var e=I();if(e&&(e.userAgent!==p||null===f)){var t=((p=e.userAgent)||o.SM).toLowerCase();f=(0,s._Q)(t,l)||(0,s._Q)(t,u)}return f}function N(e){if(void 0===e&&(e=null),!e){var t=I()||{};e=t?(t.userAgent||o.SM).toLowerCase():o.SM}var n=(e||o.SM).toLowerCase();if((0,s._Q)(n,l)){var r=x()||{};return Math.max(parseInt(n.split(l)[1]),r.documentMode||0)}if((0,s._Q)(n,u)){var i=parseInt(n.split(u)[1]);if(i)return i+4}return null}function j(e){var t=Object[r.hB].toString.call(e),n=o.SM;return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":R()&&(n=D().stringify(e)),t+n}function V(){return null===m&&(m=T()&&Boolean(I().sendBeacon)),m}function q(e){var t=!1;try{t=!!S("fetch");var n=S("Request");t&&e&&n&&(t=v(n,"keepalive"))}catch(e){}return t}function K(){return null===h&&(h=typeof XDomainRequest!==r.jA)&&U()&&(h=h&&!v(S(d),"withCredentials")),h}function U(){var e=!1;try{e=!!S(d)}catch(e){}return e}function B(e,t){if(e)for(var n=0;n<e.length;n++){var r=e[n];if(r.name&&r.name===t)return r}return{}}function z(e){var t=x();return t&&e?B(t.querySelectorAll("meta"),e).content:null}function H(e){var t,n=A();if(n){var r=n.getEntriesByType("navigation")||[];t=B((r.length>0?r[0]:{}).serverTiming,e).description}return t}},7954:(e,t,n)=>{"use strict";n.d(t,{um:()=>b,jU:()=>I,XO:()=>_,QY:()=>k,pZ:()=>P,pD:()=>E,Ib:()=>A,C1:()=>R,yw:()=>M,nJ:()=>F,c9:()=>L,JA:()=>O,TJ:()=>N,C9:()=>j,nD:()=>V,Yl:()=>q});var r=n(7624),i=n(9251),o=n(4869),s="events",a="visibilitychange",c="pagehide",l="pageshow",u="unload",d="beforeunload",f=(0,r.J)("aiEvtPageHide"),p=(0,r.J)("aiEvtPageShow"),g=/\.[\.]+/g,h=/[\.]+$/,m=1,v=(0,r.K)("events"),y=/^([^.]*)(?:\.(.+)|)/;function S(e){return e&&e.replace?e.replace(/^\s*\.*|\.*\s*$/g,""):e}function C(e,t){if(t){var n="";(0,o.kJ)(t)?(n="",(0,o.tO)(t,(function(e){(e=S(e))&&("."!==e[0]&&(e="."+e),n+=e)}))):n=S(t),n&&("."!==n[0]&&(n="."+n),e=(e||"")+n)}var r=y.exec(e||"")||[];return{type:r[1],ns:(r[2]||"").replace(g,".").replace(h,"").split(".").sort().join(".")}}function b(e,t,n){var r=[],i=v.get(e,s,{},!1),a=C(t,n);return(0,o.rW)(i,(function(e,t){(0,o.tO)(t,(function(e){a.type&&a.type!==e.evtName.type||a.ns&&a.ns!=a.ns||r.push({name:e.evtName.type+(e.evtName.ns?"."+e.evtName.ns:""),handler:e.handler})}))})),r}function w(e,t,n){void 0===n&&(n=!0);var r=v.get(e,s,{},n),i=r[t];return i||(i=r[t]=[]),i}function x(e,t,n,r){e&&t&&t.type&&(e.removeEventListener?e.removeEventListener(t.type,n,r):e.detachEvent&&e.detachEvent("on"+t.type,n))}function T(e,t,n,r){for(var i=t.length;i--;){var o=t[i];o&&(n.ns&&n.ns!==o.evtName.ns||r&&!r(o)||(x(e,o.evtName,o.handler,o.capture),t.splice(i,1)))}}function I(e,t){return t?C("xx",(0,o.kJ)(t)?[e].concat(t):[e,t]).ns.split("."):e}function _(e,t,n,r,i){void 0===i&&(i=!1);var o=!1;if(e)try{var s=C(t,r);if((o=function(e,t,n,r){var i=!1;return e&&t&&t.type&&n&&(e.addEventListener?(e.addEventListener(t.type,n,r),i=!0):e.attachEvent&&(e.attachEvent("on"+t.type,n),i=!0)),i}(e,s,n,i))&&v.accept(e)){var a={guid:m++,evtName:s,handler:n,capture:i};w(e,s.type).push(a)}}catch(e){}return o}function k(e,t,n,r,i){if(void 0===i&&(i=!1),e)try{var a=C(t,r),c=!1;!function(e,t,n){if(t.type)T(e,w(e,t.type),t,n);else{var r=v.get(e,s,{});(0,o.rW)(r,(function(r,i){T(e,i,t,n)})),0===(0,o.FY)(r).length&&v.kill(e,s)}}(e,a,(function(e){return!((!a.ns||n)&&e.handler!==n||(c=!0,0))})),c||x(e,a,n,i)}catch(e){}}function P(e,t,n,r){return void 0===r&&(r=!1),_(e,t,n,null,r)}function E(e,t,n,r){void 0===r&&(r=!1),k(e,t,n,null,r)}function A(e,t,n){var r=!1,o=(0,i.Jj)();o&&(r=_(o,e,t,n),r=_(o.body,e,t,n)||r);var s=(0,i.Me)();return s&&(r=_(s,e,t,n)||r),r}function R(e,t,n){var r=(0,i.Jj)();r&&(k(r,e,t,n),k(r.body,e,t,n));var o=(0,i.Me)();o&&k(o,e,t,n)}function D(e,t,n,r){var i=!1;return t&&e&&e.length>0&&(0,o.tO)(e,(function(e){e&&(n&&-1!==(0,o.UA)(n,e)||(i=A(e,t,r)||i))})),i}function M(e,t,n,r){var i=!1;return t&&e&&(0,o.kJ)(e)&&!(i=D(e,t,n,r))&&n&&n.length>0&&(i=D(e,t,null,r)),i}function F(e,t,n){e&&(0,o.kJ)(e)&&(0,o.tO)(e,(function(e){e&&R(e,t,n)}))}function L(e,t,n){return M([d,u,c],e,t,n)}function O(e,t){F([d,u,c],e,t)}function N(e,t,n){var r=I(f,n),s=D([c],e,t,r);return t&&-1!==(0,o.UA)(t,a)||(s=D([a],(function(t){var n=(0,i.Me)();e&&n&&"hidden"===n.visibilityState&&e(t)}),t,r)||s),!s&&t&&(s=N(e,null,n)),s}function j(e,t){var n=I(f,t);F([c],e,n),F([a],null,n)}function V(e,t,n){var r=I(p,n),o=D([l],e,t,r);return!(o=D([a],(function(t){var n=(0,i.Me)();e&&n&&"visible"===n.visibilityState&&e(t)}),t,r)||o)&&t&&(o=V(e,null,n)),o}function q(e,t){var n=I(p,t);F([l],e,n),F([a],null,n)}},4869:(e,t,n)=>{"use strict";n.d(t,{Ym:()=>x,o8:()=>T,le:()=>I,BX:()=>_,nr:()=>k,Kn:()=>P,mf:()=>E,Gf:()=>A,rW:()=>R,Id:()=>D,xe:()=>M,_Q:()=>F,J_:()=>L,kJ:()=>O,VZ:()=>N,HD:()=>j,hj:()=>V,jn:()=>q,Y6:()=>U,tO:()=>B,UA:()=>z,Mr:()=>H,Xz:()=>W,nd:()=>J,FY:()=>X,l_:()=>Q,_A:()=>Z,FL:()=>ee,Xi:()=>te,m6:()=>ne,jj:()=>re,sO:()=>ie,qK:()=>oe,F:()=>se,fQ:()=>ae,_y:()=>ce,cf:()=>ue,Oi:()=>de,Vb:()=>fe,Ax:()=>pe,mm:()=>ge});var r=n(1550),i=n(175),o=n(6335),s=r.RJ,a=r.Pw.freeze,c=r.Pw.seal,l=r.Pw.keys,u=String[r.hB],d=u.trim,f=u.endsWith,p=u.startsWith,g=Date[r.hB].toISOString,h=Array.isArray,m=r.V4.toString,v=r.CY.toString,y=v.call(r.Pw),S=/-([a-z])/g,C=/([^\w\d_$])/g,b=/^(\d+[\w\d_$])/,w=Object.getPrototypeOf;function x(e,t){return typeof e===t}function T(e){return void 0===e||typeof e===r.jA}function I(e){return null===e||T(e)}function _(e){return!I(e)}function k(e,t){return!(!e||!r.CY.call(e,t))}function P(e){return!(!e||typeof e!==r.fK)}function E(e){return!(!e||typeof e!==r.cb)}function A(e){var t=e;return t&&j(t)&&(t=(t=(t=t.replace(S,(function(e,t){return t.toUpperCase()}))).replace(C,"_")).replace(b,(function(e,t){return"_"+t}))),t}function R(e,t){if(e)for(var n in e)r.CY.call(e,n)&&t.call(e,n,e[n])}function D(e,t){var n=!1;return e&&t&&!(n=e===t)&&(n=f?e.endsWith(t):function(e,t){var n=!1,r=t?t.length:0,i=e?e.length:0;if(r&&i&&i>=r&&!(n=e===t)){for(var o=i-1,s=r-1;s>=0;s--){if(e[o]!=t[s])return!1;o--}n=!0}return n}(e,t)),n}function M(e,t){var n=!1;return e&&t&&!(n=e===t)&&(n=p?e.startsWith(t):function(e,t){var n=!1,r=t?t.length:0;if(e&&r&&e.length>=r&&!(n=e===t)){for(var i=0;i<r;i++)if(e[i]!==t[i])return!1;n=!0}return n}(e,t)),n}function F(e,t){return!(!e||!t)&&-1!==e.indexOf(t)}function L(e){return!(!e||"[object Date]"!==m.call(e))}var O=h||function(e){return!(!e||"[object Array]"!==m.call(e))};function N(e){return!(!e||"[object Error]"!==m.call(e))}function j(e){return"string"==typeof e}function V(e){return"number"==typeof e}function q(e){return"boolean"==typeof e}function K(e){var t=!1;if(e&&"object"==typeof e){var n=w?w(e):function(e){if(e){if(w)return w(e);var t=e.__proto__||e[r.hB]||e.constructor;if(t)return t}return null}(e);n?(n.constructor&&r.CY.call(n,"constructor")&&(n=n.constructor),t=typeof n===r.cb&&v.call(n)===y):t=!0}return t}function U(e){if(e)return g?e.toISOString():function(e){if(e&&e.getUTCFullYear){var t=function(e){var t=String(e);return 1===t.length&&(t="0"+t),t};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}(e)}function B(e,t,n){var r=e.length;try{for(var i=0;i<r&&(!(i in e)||-1!==t.call(n||e,e[i],i,e));i++);}catch(e){}}function z(e,t,n){if(e){if(e.indexOf)return e.indexOf(t,n);var r=e.length,i=n||0;try{for(var o=Math.max(i>=0?i:r-Math.abs(i),0);o<r;o++)if(o in e&&e[o]===t)return o}catch(e){}}return-1}function H(e,t,n){var r;if(e){if(e.map)return e.map(t,n);var i=e.length,o=n||e;r=new Array(i);try{for(var s=0;s<i;s++)s in e&&(r[s]=t.call(o,e[s],e))}catch(e){}}return r}function W(e,t,n){var r;if(e){if(e.reduce)return e.reduce(t,n);var i=e.length,o=0;if(arguments.length>=3)r=arguments[2];else{for(;o<i&&!(o in e);)o++;r=e[o++]}for(;o<i;)o in e&&(r=t(r,e[o],o,e)),o++}return r}function J(e){return e&&(e=d&&e.trim?e.trim():e.replace?e.replace(/^\s+|\s+$/g,""):e),e}var $=!{toString:null}.propertyIsEnumerable("toString"),G=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function X(e){var t=typeof e;if(t===r.cb||t===r.fK&&null!==e||(0,i.ZU)("objKeys called on non-object"),!$&&l)return l(e);var n=[];for(var o in e)e&&r.CY.call(e,o)&&n.push(o);if($)for(var s=G.length,a=0;a<s;a++)e&&r.CY.call(e,G[a])&&n.push(G[a]);return n}function Q(e,t,n,r){if(s)try{var i={enumerable:!0,configurable:!0};return n&&(i.get=n),r&&(i.set=r),s(e,t,i),!0}catch(e){}return!1}function Y(e){return e}function Z(e){return a&&R(e,(function(e,t){(O(t)||P(t))&&a(t)})),ee(e)}var ee=a||Y,te=c||Y;function ne(){var e=Date;return e.now?e.now():(new e).getTime()}function re(e){return N(e)?e.name:o.SM}function ie(e,t,n,r,i){var o=n;return e&&((o=e[t])===n||i&&!i(o)||r&&!r(n)||(o=n,e[t]=o)),o}function oe(e,t,n){var r;return e?!(r=e[t])&&I(r)&&(r=T(n)?{}:n,e[t]=r):r=T(n)?{}:n,r}function se(e){return!e}function ae(e){return!!e}function ce(e){throw new Error(e)}function le(e,t){var n=null,r=null;return E(e)?n=e:r=e,function(){var e=arguments;if(n&&(r=n()),r)return r[t].apply(r,e)}}function ue(e,t,n){if(e&&t&&P(e)&&P(t)){var r=function(r){if(j(r)){var i=t[r];E(i)?n&&!n(r,!0,t,e)||(e[r]=le(t,r)):n&&!n(r,!1,t,e)||(k(e,r)&&delete e[r],Q(e,r,(function(){return t[r]}),(function(e){t[r]=e}))||(e[r]=i))}};for(var i in t)r(i)}return e}function de(e,t,n,r,i){e&&t&&n&&(!1!==i||T(e[t]))&&(e[t]=le(n,r))}function fe(e,t,n,r){return e&&t&&P(e)&&O(n)&&B(n,(function(n){j(n)&&de(e,n,t,n,r)})),e}function pe(e){return e&&r.rl&&(e=(0,r.Pw)((0,r.rl)({},e))),e}function ge(e,t,n,i,o,s){var a=arguments,c=a[0]||{},l=a.length,u=!1,d=1;for(l>0&&q(c)&&(u=c,c=a[d]||{},d++),P(c)||(c={});d<l;d++){var f=a[d],p=O(f),g=P(f);for(var h in f){var m=p&&h in f||g&&r.CY.call(f,h);if(m){var v=f[h],y=void 0;if(u&&v&&((y=O(v))||K(v))){var S=c[h];y?O(S)||(S=[]):K(S)||(S={}),v=ge(u,S,v)}void 0!==v&&(c[h]=v)}}}return c}},6335:(e,t,n)=>{"use strict";n.d(t,{SM:()=>r,i9:()=>i,Nz:()=>o,El:()=>s,Vr:()=>a,vE:()=>c,Gc:()=>l,Rw:()=>u,C0:()=>d,Ho:()=>f,Z_:()=>p,Mf:()=>g,nE:()=>h,dV:()=>m,XP:()=>v,eO:()=>y,H4:()=>S,rX:()=>C,SN:()=>b});var r="",i="processTelemetry",o="priority",s="setNextPlugin",a="isInitialized",c="teardown",l="core",u="update",d="disabled",f="_doTeardown",p="processNext",g="resume",h="pause",m="addNotificationListener",v="removeNotificationListener",y="eventsSent",S="eventsDiscarded",C="eventsSendRequest",b="perfEvent"},1782:(e,t,n)=>{"use strict";n.d(t,{zn:()=>o,Jk:()=>s,Lm:()=>c,j5:()=>l});var r=n(9141),i=n(4869),o=function(){function e(t,n,r){var o,s=this,a=!1;s.start=(0,i.m6)(),s.name=t,s.isAsync=r,s.isChildEvt=function(){return!1},(0,i.mf)(n)&&(a=(0,i.l_)(s,"payload",(function(){return!o&&(0,i.mf)(n)&&(o=n(),n=null),o}))),s.getCtx=function(t){return t?t===e.ParentContextKey||t===e.ChildrenContextKey?s[t]:(s.ctx||{})[t]:null},s.setCtx=function(t,n){t&&(t===e.ParentContextKey?(s[t]||(s.isChildEvt=function(){return!0}),s[t]=n):t===e.ChildrenContextKey?s[t]=n:(s.ctx=s.ctx||{})[t]=n)},s.complete=function(){var t=0,r=s.getCtx(e.ChildrenContextKey);if((0,i.kJ)(r))for(var o=0;o<r.length;o++){var c=r[o];c&&(t+=c.time)}s.time=(0,i.m6)()-s.start,s.exTime=s.time-t,s.complete=function(){},!a&&(0,i.mf)(n)&&(s.payload=n())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),s=function e(t){this.ctx={},(0,r.Z)(e,this,(function(e){e.create=function(e,t,n){return new o(e,t,n)},e.fire=function(e){e&&(e.complete(),t&&(0,i.mf)(t.perfEvent)&&t.perfEvent(e))},e.setCtx=function(t,n){t&&((e.ctx=e.ctx||{})[t]=n)},e.getCtx=function(t){return(e.ctx||{})[t]}}))},a="CoreUtils.doPerf";function c(e,t,n,r,s){if(e){var c=e;if((0,i.mf)(c.getPerfMgr)&&(c=c.getPerfMgr()),c){var l=void 0,u=c.getCtx(a);try{if(l=c.create(t(),r,s)){if(u&&l.setCtx&&(l.setCtx(o.ParentContextKey,u),u.getCtx&&u.setCtx)){var d=u.getCtx(o.ChildrenContextKey);d||(d=[],u.setCtx(o.ChildrenContextKey,d)),d.push(l)}return c.setCtx(a,l),n(l)}}catch(e){l&&l.setCtx&&l.setCtx("exception",e)}finally{l&&c.fire(l),c.setCtx(a,u)}}}return n()}function l(){return null}},1030:(e,t,n)=>{"use strict";n.d(t,{CD:()=>d,Bt:()=>f,xy:()=>p,jV:()=>g,Vi:()=>h});var r=n(9339),i=n(4869),o=n(1782),s=n(9251),a=n(6335),c=n(9031),l=0;function u(e,t,n,o){var a=null,c=[];null!==o&&(a=o?function(e,t,n){for(;e;){if(e.getPlugin()===n)return e;e=e.getNext()}return g([n],t.config||{},t)}(e,n,o):e);var l={_next:function(){var e=a;if(a=e?e.getNext():null,!e){var t=c;t&&t.length>0&&((0,i.tO)(t,(function(e){try{e.func.call(e.self,e.args)}catch(e){(0,r.kP)(n.logger,2,73,"Unexpected Exception during onComplete - "+(0,s.eU)(e))}})),c=[])}return e},ctx:{core:function(){return n},diagLog:function(){return(0,r.vH)(n,t)},getCfg:function(){return t},getExtCfg:u,getConfig:function(e,n,r){void 0===r&&(r=!1);var o,s=u(e,null);return s&&!(0,i.le)(s[n])?o=s[n]:t&&!(0,i.le)(t[n])&&(o=t[n]),(0,i.le)(o)?r:o},hasNext:function(){return!!a},getNext:function(){return a},setNext:function(e){a=e},iterate:function(e){for(var t;t=l._next();){var n=t.getPlugin();n&&e(n)}},onComplete:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];e&&c.push({func:e,self:(0,i.o8)(t)?l.ctx:t,args:n})}}};function u(e,n,r){var o;if(void 0===n&&(n={}),void 0===r&&(r=0),t){var s=t.extensionConfig;s&&e&&(o=s[e])}if(o){if((0,i.Kn)(n)&&0!==r){var a=(0,i.mm)(!0,n,o);t&&2===r&&(0,i.rW)(n,(function(e){if((0,i.le)(a[e])){var n=t[e];(0,i.le)(n)||(a[e]=n)}})),o=a}}else o=n;return o}return l}function d(e,t,n,r){var o=u(e,t,n,r),s=o.ctx;return s.processNext=function(e){var t=o._next();return t&&t.processTelemetry(e,s),!t},s.createNew=function(e,r){return void 0===e&&(e=null),(0,i.kJ)(e)&&(e=g(e,t,n,r)),d(e||s.getNext(),t,n,r)},s}function f(e,t,n){var r=t.config||{},o=u(e,r,t,n),s=o.ctx;return s.processNext=function(e){var t=o._next();return t&&t.unload(s,e),!t},s.createNew=function(e,n){return void 0===e&&(e=null),(0,i.kJ)(e)&&(e=g(e,r,t,n)),f(e||s.getNext(),t,n)},s}function p(e,t,n){var r=t.config||{},o=u(e,r,t,n).ctx;return o.processNext=function(e){return o.iterate((function(t){(0,i.mf)(t.update)&&t.update(o,e)}))},o.createNew=function(e,n){return void 0===e&&(e=null),(0,i.kJ)(e)&&(e=g(e,r,t,n)),p(e||o.getNext(),t,n)},o}function g(e,t,n,u){var f=null,p=!u;if((0,i.kJ)(e)&&e.length>0){var h=null;(0,i.tO)(e,(function(e){if(p||u!==e||(p=!0),p&&e&&(0,i.mf)(e.processTelemetry)){var g=function(e,t,n){var u,f=null,p=(0,i.mf)(e.processTelemetry),g=(0,i.mf)(e.setNextPlugin),h={getPlugin:function(){return e},getNext:function(){return f},processTelemetry:function(r,o){m(o=o||function(){var r;return e&&(0,i.mf)(e._getTelCtx)&&(r=e._getTelCtx()),r||(r=d(h,t,n)),r}(),(function(t){if(!e||!p)return!1;var n=(0,c.OY)(e);return!n.teardown&&!n[a.C0]&&(g&&e.setNextPlugin(f),e.processTelemetry(r,t),!0)}),"processTelemetry",(function(){return{item:r}}),!r.sync)||o.processNext(r)},unload:function(t,n){m(t,(function(){var r=!1;if(e){var i=(0,c.OY)(e),o=e[a.Gc]||i.core;!e||o&&o!==t[a.Gc]()||i[a.vE]||(i[a.Gc]=null,i[a.vE]=!0,i[a.Vr]=!1,e[a.vE]&&!0===e[a.vE](t,n)&&(r=!0))}return r}),"unload",(function(){}),n.isAsync)||t.processNext(n)},update:function(t,n){m(t,(function(){var r=!1;if(e){var i=(0,c.OY)(e),o=e[a.Gc]||i.core;!e||o&&o!==t[a.Gc]()||i[a.vE]||e[a.Rw]&&!0===e[a.Rw](t,n)&&(r=!0)}return r}),"update",(function(){}),!1)||t.processNext(n)},_id:u=e?e.identifier+"-"+e.priority+"-"+l++:"Unknown-0-"+l++,_setNext:function(e){f=e}};function m(t,n,i,c,l){var d=!1,p=e?e.identifier:"TelemetryPluginChain",g=t._hasRun;return g||(g=t._hasRun={}),t.setNext(f),e&&(0,o.Lm)(t[a.Gc](),(function(){return p+":"+i}),(function(){g[u]=!0;try{var e=f?f._id:a.SM;e&&(g[e]=!1),d=n(t)}catch(e){var o=!f||g[f._id];o&&(d=!0),f&&o||(0,r.kP)(t.diagLog(),1,73,"Plugin ["+p+"] failed during "+i+" - "+(0,s.eU)(e)+", run flags: "+(0,s.eU)(g))}}),c,l),d}return(0,i.FL)(h)}(e,t,n);f||(f=g),h&&h._setNext(g),h=g}}))}return u&&!f?g([u],t,n):f}var h=function(e,t,n,r){var o=d(e,t,n,r);(0,i.Vb)(this,o,(0,i.FY)(o))}},9406:(e,t,n)=>{"use strict";n.d(t,{az:()=>p,_l:()=>g,CN:()=>h,F6:()=>m,pZ:()=>v});var r=n(9251),i=n(4869),o=n(6335),s=4294967296,a=4294967295,c=!1,l=123456789,u=987654321;function d(e){e<0&&(e>>>=0),l=123456789+e&a,u=987654321-e&a,c=!0}function f(){try{var e=2147483647&(0,i.m6)();d((Math.random()*s^e)+e)}catch(e){}}function p(e){return e>0?Math.floor(g()/a*(e+1))>>>0:0}function g(e){var t=0,n=(0,r.MX)()||(0,r.gz)();return n&&n.getRandomValues&&(t=n.getRandomValues(new Uint32Array(1))[0]&a),0===t&&(0,r.w1)()&&(c||f(),t=m()&a),0===t&&(t=Math.floor(s*Math.random()|0)),e||(t>>>=0),t}function h(e){e?d(e):f()}function m(e){var t=((u=36969*(65535&u)+(u>>16)&a)<<16)+(65535&(l=18e3*(65535&l)+(l>>16)&a))>>>0&a|0;return e||(t>>>=0),t}function v(e){void 0===e&&(e=22);for(var t=g()>>>0,n=0,r=o.SM;r.length<e;)n++,r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&t),t>>>=6,5===n&&(t=(g()<<2&4294967295|3&t)>>>0,n=0);return r}},9031:(e,t,n)=>{"use strict";n.d(t,{OY:()=>c,bP:()=>l,AA:()=>u,Yn:()=>d});var r=n(4869),i=n(6335),o=n(7624),s=n(6207),a=(0,o.K)("plugin");function c(e){return a.get(e,"state",{},!0)}function l(e,t){for(var n,o=[],s=null,a=e.getNext();a;){var l=a.getPlugin();l&&(s&&(0,r.mf)(s[i.El])&&(0,r.mf)(l[i.i9])&&s[i.El](l),((0,r.mf)(l[i.Vr])?l[i.Vr]():(n=c(l))[i.Vr])||o.push(l),s=l,a=a.getNext())}(0,r.tO)(o,(function(r){var o=e.core();r.initialize(e.getCfg(),o,t,e.getNext()),n=c(r),r[i.Gc]||n[i.Gc]||(n[i.Gc]=o),n[i.Vr]=!0,delete n[i.vE]}))}function u(e){return e.sort((function(e,t){var n=0;if(t){var o=(0,r.mf)(t[i.i9]);(0,r.mf)(e[i.i9])?n=o?e[i.Nz]-t[i.Nz]:1:o&&(n=-1)}else n=e?1:-1;return n}))}function d(e){var t={};return{getName:function(){return t.name},setName:function(n){e&&e.setName(n),t.name=n},getTraceId:function(){return t.traceId},setTraceId:function(n){e&&e.setTraceId(n),(0,s.jN)(n)&&(t.traceId=n)},getSpanId:function(){return t.spanId},setSpanId:function(n){e&&e.setSpanId(n),(0,s.Lc)(n)&&(t.spanId=n)},getTraceFlags:function(){return t.traceFlags},setTraceFlags:function(n){e&&e.setTraceFlags(n),t.traceFlags=n}}}},8593:(e,t,n)=>{"use strict";n.d(t,{Y:()=>s});var r=n(9339),i=n(9251),o=n(4869);function s(){var e=[];return{add:function(t){t&&e.push(t)},run:function(t,n){(0,o.tO)(e,(function(e){try{e(t,n)}catch(e){(0,r.kP)(t.diagLog(),2,73,"Unexpected error calling unload handler - "+(0,i.eU)(e))}})),e=[]}}}},6207:(e,t,n)=>{"use strict";n.d(t,{SU:()=>g,j_:()=>h,jN:()=>m,Lc:()=>v,J6:()=>y,Pn:()=>S,aR:()=>C,lq:()=>b});var r=n(8956),i=n(9251),o=n(4869),s=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,a="00",c="ff",l="00000000000000000000000000000000",u="0000000000000000";function d(e,t,n){return!(!e||e.length!==t||e===n||!e.match(/^[\da-f]*$/))}function f(e,t,n){return d(e,t)?e:n}function p(e){(isNaN(e)||e<0||e>255)&&(e=1);for(var t=e.toString(16);t.length<2;)t="0"+t;return t}function g(e,t,n,i){return{version:d(i,2,c)?i:a,traceId:m(e)?e:(0,r.DO)(),spanId:v(t)?t:(0,r.DO)().substr(0,16),traceFlags:n>=0&&n<=255?n:1}}function h(e){if(!e)return null;if((0,o.kJ)(e)&&(e=e[0]||""),!e||!(0,o.HD)(e)||e.length>8192)return null;var t=s.exec((0,o.nd)(e));return t&&t[1]!==c&&t[2]!==l&&t[3]!==u?{version:t[1],traceId:t[2],spanId:t[3],traceFlags:parseInt(t[4],16)}:null}function m(e){return d(e,32,l)}function v(e){return d(e,16,u)}function y(e){return!!(e&&d(e.version,2,c)&&d(e.traceId,32,l)&&d(e.spanId,16,u)&&d(p(e.traceFlags),2))}function S(e){return!!y(e)&&1==(1&e.traceFlags)}function C(e){if(e){var t=p(e.traceFlags);d(t,2)||(t="01");var n=e.version||a;return"00"!==n&&"ff"!==n&&(n=a),"".concat(n,"-").concat(f(e.traceId,32,l),"-").concat(f(e.spanId,16,u),"-").concat(t)}return""}function b(){var e="traceparent",t=h((0,i.ed)(e));return t||(t=h((0,i.pI)(e))),t}},1550:(e,t,n)=>{"use strict";n.d(t,{cb:()=>r,fK:()=>i,jA:()=>o,hB:()=>s,bO:()=>a,Pw:()=>c,V4:()=>l,rl:()=>u,yu:()=>d,RJ:()=>f,CY:()=>p});var r="function",i="object",o="undefined",s="prototype",a="hasOwnProperty",c=Object,l=c[s],u=c.assign,d=c.create,f=c.defineProperty,p=l[a]},175:(e,t,n)=>{"use strict";n.d(t,{Rd:()=>o,ZU:()=>s,pu:()=>a});var r=n(1550),i=null;function o(e){return void 0===e&&(e=!0),i&&e||(typeof globalThis!==r.jA&&globalThis&&(i=globalThis),typeof self!==r.jA&&self&&(i=self),typeof window!==r.jA&&window&&(i=window),typeof n.g!==r.jA&&n.g&&(i=n.g)),i}function s(e){throw new TypeError(e)}function a(e){var t=r.yu;if(t)return t(e);if(null==e)return{};var n=typeof e;function i(){}return n!==r.fK&&n!==r.cb&&s("Object prototype may only be an Object:"+e),i[r.hB]=e,new i}},7421:(e,t,n)=>{"use strict";n.d(t,{uc:()=>o,ne:()=>a,$h:()=>c});var r=n(1550),i=n(175),o=(((0,i.Rd)()||{}).Symbol,((0,i.Rd)()||{}).Reflect,r.rl||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])r.V4[r.bO].call(t,o)&&(e[o]=t[o]);return e}),s=function(e,t){return(s=r.Pw.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[r.bO](n)&&(e[n]=t[n])})(e,t)};function a(e,t){function n(){this.constructor=e}typeof t!==r.cb&&null!==t&&(0,i.ZU)("Class extends value "+String(t)+" is not a constructor or null"),s(e,t),e[r.hB]=null===t?(0,i.pu)(t):(n[r.hB]=t[r.hB],new n)}function c(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e}},9141:(e,t,n)=>{"use strict";n.d(t,{Z:()=>w});var r="prototype",i="function",o="_dynClass",s="_unknown_",a=Object,c=a.getPrototypeOf,l=a.getOwnPropertyNames,u=0;function d(e,t){return e&&a.prototype.hasOwnProperty.call(e,t)}function f(e){return e&&(e===a.prototype||e===Array.prototype)}function p(e){return f(e)||e===Function.prototype}function g(e){var t;if(e){if(c)return c(e);var n=e.__proto__||e.prototype||(e.constructor?e.constructor.prototype:null);t=e._dyn__proto__||n,d(e,"_dyn__proto__")||(delete e._dynInstProto,t=e._dyn__proto__=e._dynInstProto||e._dyn__proto__,e._dynInstProto=n)}return t}function h(e,t){var n=[];if(l)n=l(e);else for(var r in e)"string"==typeof r&&d(e,r)&&n.push(r);if(n&&n.length>0)for(var i=0;i<n.length;i++)t(n[i])}function m(e,t,n){return"constructor"!==t&&typeof e[t]===i&&(n||d(e,t))}function v(e){throw new TypeError("DynamicProto: "+e)}function y(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return!0;return!1}function S(e,t,n,r){var s=null;if(e&&d(n,o)){var a=e._dynInstFuncs||{};if((s=(a[n._dynClass]||{})[t])||v("Missing ["+t+"] "+i),!s._dynInstChk&&!1!==a._dynInstChk){for(var c=!d(e,t),l=g(e),u=[];c&&l&&!p(l)&&!y(u,l);){var f=l[t];if(f){c=f===r;break}u.push(l),l=g(l)}try{c&&(e[t]=s),s._dynInstChk=1}catch(e){a._dynInstChk=!1}}}return s}function C(e,t,n){var r=t[e];return r===n&&(r=g(t)[e]),typeof r!==i&&v("["+e+"] is not a "+i),r}function b(e,t){return d(e,r)?e.name||t||s:((e||{}).constructor||{}).name||t||s}function w(e,t,n,i){d(e,r)||v("theClass is an invalid class definition.");var s=e.prototype;(function(e,t){if(c){for(var n=[],r=g(t);r&&!p(r)&&!y(n,r);){if(r===e)return!0;n.push(r),r=g(r)}return!1}return!0})(s,t)||v("["+b(e)+"] is not in class hierarchy of ["+b(t)+"]");var a=null;d(s,o)?a=s._dynClass:(a="_dynCls$"+b(e,"_")+"$"+u,u++,s._dynClass=a);var l=w._dfOpts,x=!!l.useBaseInst;x&&i&&void 0!==i.useBaseInst&&(x=!!i.useBaseInst);var T=function(e){var t={};return h(e,(function(n){!t[n]&&m(e,n,!1)&&(t[n]=e[n])})),t}(t);n(t,function(e,t,n,r){function i(e,t,n){var i=t[n];if(i._isDynProxy&&r){var o=e._dynInstFuncs||{};!1!==o._dynInstChk&&(i=(o[t._dynClass]||{})[n]||i)}return function(){return i.apply(e,arguments)}}var o={};h(n,(function(e){o[e]=i(t,n,e)}));for(var s=g(e),a=[];s&&!p(s)&&!y(a,s);)h(s,(function(e){!o[e]&&m(s,e,!c)&&(o[e]=i(t,s,e))})),a.push(s),s=g(s);return o}(s,t,T,x));var I=!!c&&!!l.setInstFuncs;I&&i&&(I=!!i.setInstFuncs),function(e,t,n,r,i){if(!f(e)){var o=n._dynInstFuncs=n._dynInstFuncs||{},s=o[t]=o[t]||{};!1!==o._dynInstChk&&(o._dynInstChk=!!i),h(n,(function(t){m(n,t,!1)&&n[t]!==r[t]&&(s[t]=n[t],delete n[t],(!d(e,t)||e[t]&&!e[t]._isDynProxy)&&(e[t]=function(e,t){var n=function(){return(S(this,t,e,n)||C(t,e,n)).apply(this,arguments)};return n._isDynProxy=1,n}(e,t)))}))}}(s,a,t,T,!1!==I)}w._dfOpts={setInstFuncs:!0,useBaseInst:!0}},8331:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Oc});var r,i,o,s,a,c,l,u,d,f,p,g,h=n(7549),m=Object.defineProperty,v=Object.getOwnPropertySymbols,y=Object.prototype.hasOwnProperty,S=Object.prototype.propertyIsEnumerable,C=(e,t,n)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b=(e,t)=>{for(var n in t||(t={}))y.call(t,n)&&C(e,n,t[n]);if(v)for(var n of v(t))S.call(t,n)&&C(e,n,t[n]);return e},w=(e,t)=>()=>(e&&(t=e(e=0)),t),x=(e,t,n)=>new Promise(((r,i)=>{var o=e=>{try{a(n.next(e))}catch(e){i(e)}},s=e=>{try{a(n.throw(e))}catch(e){i(e)}},a=e=>e.done?r(e.value):Promise.resolve(e.value).then(o,s);a((n=n.apply(e,t)).next())})),T=w((()=>{r={Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}})),I=w((()=>{i="function",o="object",s="undefined",a="prototype",c="hasOwnProperty",u=(l=Object)[a],d=l.assign,f=l.create,p=l.defineProperty,g=u[c]}));function _(){return typeof globalThis!==s&&globalThis?globalThis:typeof self!==s&&self?self:typeof window!==s&&window?window:typeof n.g!==s&&n.g?n.g:null}function k(e){throw new TypeError(e)}function P(e){if(f)return f(e);if(null==e)return{};var t=typeof e;function n(){}return t!==o&&t!==i&&k("Object prototype may only be an Object:"+e),n[a]=e,new n}var E=w((()=>{I()}));function A(e,t){function n(){this.constructor=e}typeof t!==i&&null!==t&&k("Class extends value "+String(t)+" is not a constructor or null"),M(e,t),e[a]=null===t?P(t):(n[a]=t[a],new n)}var R,D,M,F=w((()=>{I(),E(),(_()||{}).Symbol,(_()||{}).Reflect,R=function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])u[c].call(t,i)&&(e[i]=t[i]);return e},D=d||R,M=function(e,t){return(M=l.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[c](n)&&(e[n]=t[n])})(e,t)}})),L=w((()=>{})),O=w((()=>{I(),E(),F(),L()}));function N(e,t){return e&&de[X].hasOwnProperty.call(e,t)}function j(e){return e&&(e===de[X]||e===Array[X])}function V(e){return j(e)||e===Function[X]}function q(e){var t;if(e){if(fe)return fe(e);var n=e[se]||e[X]||(e[G]?e[G][X]:null);t=e[ae]||n,N(e,ae)||(delete e[ce],t=e[ae]=e[ce]||e[ae],e[ce]=n)}return t}function K(e,t){var n=[];if(pe)n=pe(e);else for(var r in e)"string"==typeof r&&N(e,r)&&n.push(r);if(n&&n.length>0)for(var i=0;i<n.length;i++)t(n[i])}function U(e,t,n){return t!==G&&typeof e[t]===Q&&(n||N(e,t))}function B(e){throw new TypeError("DynamicProto: "+e)}function z(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return!0;return!1}function H(e,t,n,r){var i=null;if(e&&N(n,ee)){var o=e[Y]||{};if((i=(o[n[ee]]||{})[t])||B("Missing ["+t+"] "+Q),!i[ne]&&!1!==o[re]){for(var s=!N(e,t),a=q(e),c=[];s&&a&&!V(a)&&!z(c,a);){var l=a[t];if(l){s=l===r;break}c.push(a),a=q(a)}try{s&&(e[t]=i),i[ne]=1}catch(e){o[re]=!1}}}return i}function W(e,t,n){var r=t[e];return r===n&&(r=q(t)[e]),typeof r!==Q&&B("["+e+"] is not a "+Q),r}function J(e,t){return N(e,X)?e.name||t||oe:((e||{})[G]||{}).name||t||oe}function $(e,t,n,r){N(e,X)||B("theClass is an invalid class definition.");var i=e[X];(function(e,t){if(fe){for(var n=[],r=q(t);r&&!V(r)&&!z(n,r);){if(r===e)return!0;n.push(r),r=q(r)}return!1}return!0})(i,t)||B("["+J(e)+"] is not in class hierarchy of ["+J(t)+"]");var o=null;N(i,ee)?o=i[ee]:(o=te+J(e,"_")+"$"+ge,ge++,i[ee]=o);var s=$[ie],a=!!s[le];a&&r&&void 0!==r[le]&&(a=!!r[le]);var c=function(e){var t={};return K(e,(function(n){!t[n]&&U(e,n,!1)&&(t[n]=e[n])})),t}(t);n(t,function(e,t,n,r){function i(e,t,n){var i=t[n];if(i[Z]&&r){var o=e[Y]||{};!1!==o[re]&&(i=(o[t[ee]]||{})[n]||i)}return function(){return i.apply(e,arguments)}}var o={};K(n,(function(e){o[e]=i(t,n,e)}));for(var s=q(e),a=[];s&&!V(s)&&!z(a,s);)K(s,(function(e){!o[e]&&U(s,e,!fe)&&(o[e]=i(t,s,e))})),a.push(s),s=q(s);return o}(i,t,c,a));var l=!!fe&&!!s[ue];l&&r&&(l=!!r[ue]),function(e,t,n,r,i){if(!j(e)){var o=n[Y]=n[Y]||{},s=o[t]=o[t]||{};!1!==o[re]&&(o[re]=!!i),K(n,(function(t){U(n,t,!1)&&n[t]!==r[t]&&(s[t]=n[t],delete n[t],(!N(e,t)||e[t]&&!e[t][Z])&&(e[t]=function(e,t){var n=function(){return(H(this,t,e,n)||W(t,e,n)).apply(this,arguments)};return n[Z]=1,n}(e,t)))}))}}(i,o,t,c,!1!==l)}var G,X,Q,Y,Z,ee,te,ne,re,ie,oe,se,ae,ce,le,ue,de,fe,pe,ge,he,me,ve,ye=w((()=>{G="constructor",X="prototype",Q="function",Y="_dynInstFuncs",Z="_isDynProxy",ee="_dynClass",te="_dynCls$",re=ne="_dynInstChk",ie="_dfOpts",oe="_unknown_",ae="_dyn"+(se="__proto__"),ce="_dynInstProto",le="useBaseInst",ue="setInstFuncs",fe=(de=Object).getPrototypeOf,pe=de.getOwnPropertyNames,ge=0,he={setInstFuncs:!0,useBaseInst:!0},$[ie]=he})),Se=w((()=>{var e;(e=me||(me={}))[e.CRITICAL=1]="CRITICAL",e[e.WARNING=2]="WARNING",ve={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103}}));function Ce(e){return u.toString.call(e)}function be(e,t){return typeof e===t}function we(e){return void 0===e||typeof e===s}function xe(e){return null===e||we(e)}function Te(e){return!xe(e)}function Ie(e,t){return e&&g.call(e,t)}function _e(e){return typeof e===o}function ke(e){return typeof e===i}function Pe(e,t,n,r){void 0===r&&(r=!1);var i=!1;if(!xe(e))try{xe(e[rt])?xe(e[nt])||(e[nt](tt+t,n),i=!0):(e[rt](t,n,r),i=!0)}catch(e){}return i}function Ee(e,t,n,r){if(void 0===r&&(r=!1),!xe(e))try{xe(e[ot])?xe(e[it])||e[it](tt+t,n):e[ot](t,n,r)}catch(e){}}function Ae(e,t){if(e)for(var n in e)g.call(e,n)&&t.call(e,n,e[n])}function Re(e,t){return!(!e||!t)&&-1!==e.indexOf(t)}function De(e){return"[object Date]"===Ce(e)}function Me(e){return"[object Array]"===Ce(e)}function Fe(e){return"[object Error]"===Ce(e)}function Le(e){return"string"==typeof e}function Oe(e){return"number"==typeof e}function Ne(e){return"boolean"==typeof e}function je(e){if(De(e)){var t=function(e){var t=String(e);return 1===t.length&&(t="0"+t),t};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function Ve(e,t,n){for(var r=e.length,i=0;i<r&&(!(i in e)||-1!==t.call(n||e,e[i],i,e));i++);}function qe(e,t,n){for(var r=e.length,i=n||0,o=Math.max(i>=0?i:r-Math.abs(i),0);o<r;o++)if(o in e&&e[o]===t)return o;return-1}function Ke(e,t,n){for(var r=e.length,i=n||e,o=new Array(r),s=0;s<r;s++)s in e&&(o[s]=t.call(i,e[s],e));return o}function Ue(e,t,n){var r,i=e.length,o=0;if(arguments.length>=3)r=arguments[2];else{for(;o<i&&!(o in e);)o++;r=e[o++]}for(;o<i;)o in e&&(r=t(r,e[o],o,e)),o++;return r}function Be(e){return"string"!=typeof e?e:e.replace(/^\s+|\s+$/g,"")}function ze(e){var t=typeof e;t!==i&&(t!==o||null===e)&&k("objKeys called on non-object");var n=[];for(var r in e)e&&g.call(e,r)&&n.push(r);if(at)for(var s=ct.length,a=0;a<s;a++)e&&g.call(e,ct[a])&&n.push(ct[a]);return n}function He(e,t,n,r){if(st)try{var i={enumerable:!0,configurable:!0};return n&&(i.get=n),r&&(i.set=r),st(e,t,i),!0}catch(e){}return!1}function We(){var e=Date;return e.now?e.now():(new e).getTime()}function Je(e){return Fe(e)?e.name:""}function $e(e,t,n,r,i){var o=n;return e&&(o=e[t])!==n&&(!i||i(o))&&(!r||r(n))&&(o=n,e[t]=o),o}function Ge(e,t,n){var r;return e?!(r=e[t])&&xe(r)&&(r=we(n)?{}:n,e[t]=r):r=we(n)?{}:n,r}function Xe(e){return!e}function Qe(e){return!!e}function Ye(e){throw new Error(e)}function Ze(e,t,n){if(e&&t&&e!==t&&_e(e)&&_e(t)){var r=function(r){if(Le(r)){var i=t[r];ke(i)?(!n||n(r,!0,t,e))&&(e[r]=(o=r,function(){var e=arguments;return t[o].apply(t,e)})):(!n||n(r,!1,t,e))&&(Ie(e,r)&&delete e[r],He(e,r,(function(){return t[r]}),(function(e){t[r]=e}))||(e[r]=i))}var o};for(var i in t)r(i)}return e}function et(e){return e&&(e=l(d?d({},e):e)),e}var tt,nt,rt,it,ot,st,at,ct,lt=w((()=>{O(),tt="on",nt="attachEvent",rt="addEventListener",it="detachEvent",ot="removeEventListener",st=p,l.freeze,l.seal,at=!{toString:null}.propertyIsEnumerable("toString"),ct=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]}));function ut(e){var t=_();return t&&t[e]?t[e]:e===xt&&dt()?window:null}function dt(){return Boolean(typeof window===o&&window)}function ft(){return dt()?window:ut(xt)}function pt(){return Boolean(typeof document===o&&document)}function gt(){return pt()?document:ut(Tt)}function ht(){return Boolean(typeof navigator===o&&navigator)?navigator:ut(It)}function mt(e){if(e&&jt){var t=ut("__mockLocation");if(t)return t}return typeof location===o&&location?location:ut(kt)}function vt(){return ut(Et)}function yt(){return Boolean(typeof JSON===o&&JSON||null!==ut(At))}function St(){return yt()?JSON||ut(At):null}function Ct(){var e=ht();if(e&&(e.userAgent!==Nt||null===Ot)){var t=((Nt=e.userAgent)||"").toLowerCase();Ot=Re(t,Ft)||Re(t,Lt)}return Ot}function bt(e){if(void 0===e&&(e=null),!e){var t=ht()||{};e=t?(t.userAgent||"").toLowerCase():""}var n=(e||"").toLowerCase();if(Re(n,Ft))return parseInt(n.split(Ft)[1]);if(Re(n,Lt)){var r=parseInt(n.split(Lt)[1]);if(r)return r+4}return null}function wt(e){var t=Object[a].toString.call(e),n="";return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":yt()&&(n=St().stringify(e)),t+n}var xt,Tt,It,_t,kt,Pt,Et,At,Rt,Dt,Mt,Ft,Lt,Ot,Nt,jt,Vt=w((()=>{O(),lt(),xt="window",Tt="document",It="navigator",_t="history",kt="location",Pt="console",Et="performance",At="JSON",Rt="crypto",Dt="msCrypto",Mt="ReactNative",Ft="msie",Lt="trident/",Ot=null,Nt=null,jt=!1}));function qt(e){return e?'"'+e.replace(/\"/g,"")+'"':""}function Kt(e,t){return(e||{}).logger||new Bt(t)}var Ut,Bt,zt=w((()=>{Se(),Vt(),ye(),lt(),Ut=function(){function e(e,t,n,r){void 0===n&&(n=!1);var i=this;i.messageId=e,i.message=(n?"AI: ":"AI (Internal): ")+e;var o="";yt()&&(o=St().stringify(r));var s=(t?" message:"+qt(t):"")+(r?" props:"+qt(o):"");i.message+=s}return e.dataType="MessageData",e}(),Bt=function e(t){this.identifier="DiagnosticLogger",this.queue=[];var n=0,r={};$(e,this,(function(e){function i(e,n){var r=t[e];return xe(r)?n:r}xe(t)&&(t={}),e.consoleLoggingLevel=function(){return i("loggingLevelConsole",0)},e.telemetryLoggingLevel=function(){return i("loggingLevelTelemetry",1)},e.maxInternalMessageLimit=function(){return i("maxMessageLimit",25)},e.enableDebugExceptions=function(){return i("enableDebugExceptions",!1)},e.throwInternal=function(t,n,i,o,s){void 0===s&&(s=!1);var a=new Ut(n,i,s,o);if(e.enableDebugExceptions())throw a;if(!we(a.message)){var c=e.consoleLoggingLevel();if(s){var l=+a.messageId;!r[l]&&c>=me.WARNING&&(e.warnToConsole(a.message),r[l]=!0)}else c>=me.WARNING&&e.warnToConsole(a.message);e.logInternalMessage(t,a)}},e.warnToConsole=function(e){var t=typeof console!==s?console:ut(Pt);if(t){var n="log";t.warn&&(n="warn"),ke(t[n])&&t[n](e)}},e.resetInternalMessageCount=function(){n=0,r={}},e.logInternalMessage=function(t,i){if(!(n>=e.maxInternalMessageLimit())){var o=!0,s="AITR_"+i.messageId;if(r[s]?o=!1:r[s]=!0,o&&(t<=e.telemetryLoggingLevel()&&(e.queue.push(i),n++),n===e.maxInternalMessageLimit())){var a="Internal events throttle limit per PageView reached for this app.",c=new Ut(ve.MessageLimitPerPVExceeded,a,!1);e.queue.push(c),e.warnToConsole(a)}}}}))}}));function Ht(e,t,n,r,i){if(e){var o=e;if(ke(o.getPerfMgr)&&(o=o.getPerfMgr()),o){var s=void 0,a=o.getCtx($t);try{if(s=o.create(t(),r,i)){if(a&&s.setCtx&&(s.setCtx(Wt.ParentContextKey,a),a.getCtx&&a.setCtx)){var c=a.getCtx(Wt.ChildrenContextKey);c||(c=[],a.setCtx(Wt.ChildrenContextKey,c)),c.push(s)}return o.setCtx($t,s),n(s)}}catch(e){s&&s.setCtx&&s.setCtx("exception",e)}finally{s&&o.fire(s),o.setCtx($t,a)}}}return n()}var Wt,Jt,$t,Gt,Xt=w((()=>{ye(),lt(),Wt=function(){function e(t,n,r){var i,o=this,s=!1;o.start=We(),o.name=t,o.isAsync=r,o.isChildEvt=function(){return!1},ke(n)&&(s=He(o,"payload",(function(){return!i&&ke(n)&&(i=n(),n=null),i}))),o.getCtx=function(t){return t?t===e.ParentContextKey||t===e.ChildrenContextKey?o[t]:(o.ctx||{})[t]:null},o.setCtx=function(t,n){t&&(t===e.ParentContextKey?(o[t]||(o.isChildEvt=function(){return!0}),o[t]=n):t===e.ChildrenContextKey?o[t]=n:(o.ctx=o.ctx||{})[t]=n)},o.complete=function(){var t=0,r=o.getCtx(e.ChildrenContextKey);if(Me(r))for(var i=0;i<r.length;i++){var a=r[i];a&&(t+=a.time)}o.time=We()-o.start,o.exTime=o.time-t,o.complete=function(){},!s&&ke(n)&&(o.payload=n())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),Jt=function e(t){this.ctx={},$(e,this,(function(e){e.create=function(e,t,n){return new Wt(e,t,n)},e.fire=function(e){e&&(e.complete(),t&&t.perfEvent(e))},e.setCtx=function(t,n){t&&((e.ctx=e.ctx||{})[t]=n)},e.getCtx=function(t){return(e.ctx||{})[t]}}))},$t="CoreUtils.doPerf"})),Qt=w((()=>{Xt(),Se(),lt(),Gt=function(e,t){var n=this,r=null,i=ke(e.processTelemetry),o=ke(e.setNextPlugin);n._hasRun=!1,n.getPlugin=function(){return e},n.getNext=function(){return r},n.setNext=function(e){r=e},n.processTelemetry=function(s,a){a||(a=t);var c=e?e.identifier:"TelemetryPluginChain";Ht(a?a.core():null,(function(){return c+":processTelemetry"}),(function(){if(e&&i){n._hasRun=!0;try{a.setNext(r),o&&e.setNextPlugin(r),r&&(r._hasRun=!1),e.processTelemetry(s,a)}catch(n){var t=r&&r._hasRun;(!r||!t)&&a.diagLog().throwInternal(me.CRITICAL,ve.PluginException,"Plugin ["+e.identifier+"] failed during processTelemetry - "+n),r&&!t&&r.processTelemetry(s,a)}}else r&&(n._hasRun=!0,r.processTelemetry(s,a))}),(function(){return{item:s}}),!s.sync)}}}));function Yt(e,t){var n=[];if(e&&e.length>0)for(var r=null,i=0;i<e.length;i++){var o=e[i];if(o&&ke(o.processTelemetry)){var s=new Gt(o,t);n.push(s),r&&r.setNext(s),r=s}}return n.length>0?n[0]:null}var Zt,en,tn,nn,rn,on=w((()=>{zt(),Qt(),lt(),Zt=function e(t,n,r,i){var o=this,s=null;null!==i&&(t&&ke(t.getPlugin)?s=function(e,t,n){var r=[],i=!n;if(e)for(;e;){var o=e.getPlugin();(i||o===n)&&(i=!0,r.push(o)),e=e.getNext()}return i||r.push(n),Yt(r,t)}(t,o,i||t.getPlugin()):i?s=function(e,t,n){var r=e,i=!1;return n&&e&&(r=[],Ve(e,(function(e){(i||e===n)&&(i=!0,r.push(e))}))),n&&!i&&(r||(r=[]),r.push(n)),Yt(r,t)}(t,o,i):we(i)&&(s=Yt(t,o))),o.core=function(){return r},o.diagLog=function(){return Kt(r,n)},o.getCfg=function(){return n},o.getExtCfg=function(e,t){var r;if(void 0===t&&(t={}),n){var i=n.extensionConfig;i&&e&&(r=i[e])}return r||t},o.getConfig=function(e,t,r){void 0===r&&(r=!1);var i,s=o.getExtCfg(e,null);return s&&!xe(s[t])?i=s[t]:n&&!xe(n[t])&&(i=n[t]),xe(i)?r:i},o.hasNext=function(){return null!=s},o.getNext=function(){return s},o.setNext=function(e){s=e},o.processNext=function(e){var t=s;t&&(s=t.getNext(),t.processTelemetry(e,o))},o.createNew=function(t,i){return void 0===t&&(t=null),new e(t||s,n,r,i)}}})),sn=w((()=>{en="iKey",tn="extensionConfig"})),an=w((()=>{on(),lt(),sn(),nn="getPlugin",rn=function(){function e(){var e=this,t=!1,n=null,r=null;e.core=null,e.diagLog=function(t){return e._getTelCtx(t).diagLog()},e.isInitialized=function(){return t},e.setInitialized=function(e){t=e},e.setNextPlugin=function(e){r=e},e.processNext=function(e,t){t?t.processNext(e):r&&ke(r.processTelemetry)&&r.processTelemetry(e,null)},e._getTelCtx=function(t){void 0===t&&(t=null);var i=t;if(!i){var o=n||new Zt(null,{},e.core);i=r&&r[nn]?o.createNew(null,r[nn]):o.createNew(null,r)}return i},e._baseTelInit=function(i,o,s,a){i&&$e(i,tn,[],null,xe),!a&&o&&(a=o.getProcessTelContext().getNext());var c=r;r&&r[nn]&&(c=r[nn]()),e.core=o,n=new Zt(a,i,o,c),t=!0}}return e.prototype.initialize=function(e,t,n,r){this._baseTelInit(e,t,n,r)},e}()}));function cn(e,t){for(var n=[],r=null,i=e.getNext();i;){var o=i.getPlugin();o&&(r&&ke(r[fn])&&ke(o[un])&&r[fn](o),(!ke(o[pn])||!o[pn]())&&n.push(o),r=o,i=i.getNext())}Ve(n,(function(n){n.initialize(e.getCfg(),e.core(),t,e.getNext())}))}function ln(e){return e.sort((function(e,t){var n=0,r=ke(t[un]);return ke(e[un])?n=r?e[dn]-t[dn]:1:r&&(n=-1),n}))}var un,dn,fn,pn,gn,hn=w((()=>{lt(),un="processTelemetry",dn="priority",fn="setNextPlugin",pn="isInitialized"})),mn=w((()=>{O(),ye(),an(),on(),hn(),lt(),500,gn=function(e){function t(){var n,r=e.call(this)||this;function i(e){e&&e.length>0&&(function(e){Ve(e,(function(e){e.priority<500&&Ye("Channel has invalid priority"+e.identifier)}))}(e=e.sort((function(e,t){return e.priority-t.priority}))),n.push(e))}return r.identifier="ChannelControllerPlugin",r.priority=500,$(t,r,(function(e,t){e.setNextPlugin=function(e){},e.processTelemetry=function(e,t){n&&Ve(n,(function(n){n.length>0&&r._getTelCtx(t).createNew(n).processNext(e)}))},e.getChannelControls=function(){return n},e.initialize=function(r,o,s){e.isInitialized()||(t.initialize(r,o,s),function(e,t){if(n=[],e&&Ve(e,(function(e){return i(e)})),t){var r=[];Ve(t,(function(e){e.priority>500&&r.push(e)})),i(r)}}((r||{}).channels,s),Ve(n,(function(e){return cn(new Zt(e,r,o),s)})))}})),r}return A(t,e),t._staticInit=(He(n=t.prototype,"ChannelControls",n.getChannelControls),void He(n,"channelQueue",n.getChannelControls)),t;var n}(rn)}));function vn(e,t){var n=Cn[Ln]||Un[Ln];return n||(n=Cn[Ln]=Cn(e,t),Un[Ln]=n),n}function yn(e){return!e||e.isEnabled()}function Sn(e,t){var n;if(e)n=e.getCookieMgr();else if(t){var r=t.cookieCfg;n=r[Ln]?r[Ln]:Cn(t)}return n||(n=vn(t,(e||{}).logger)),n}function Cn(e,t){var n=function(e){var t=e.cookieCfg=e.cookieCfg||{};if($e(t,"domain",e.cookieDomain,Te,xe),$e(t,"path",e.cookiePath||"/",null,xe),xe(t[Dn])){var n=void 0;we(e[Mn])||(n=!e[Mn]),we(e[Fn])||(n=!e[Fn]),t[Dn]=n}return t}(e||Un),r=n.path||"/",i=n.domain,o=!1!==n[Dn],s={isEnabled:function(){var e=o&&bn(t),n=Un[Ln];return e&&n&&s!==n&&(e=yn(n)),e},setEnabled:function(e){o=!1!==e},set:function(e,t,o,a,c){if(yn(s)){var l={},u=Be(t||On),d=u.indexOf(";");if(-1!==d&&(u=Be(t.substring(0,d)),l=wn(t.substring(d+1))),$e(l,"domain",a||i,Qe,we),!xe(o)){var f=Ct();if(we(l[Rn])){var p=We()+1e3*o;if(p>0){var g=new Date;g.setTime(p),$e(l,Rn,xn(g,f?Pn:En)||xn(g,f?Pn:En)||On,Qe)}}f||$e(l,"max-age",On+o,null,we)}var h=mt();h&&"https:"===h.protocol&&($e(l,"secure",null,null,we),null===jn&&(jn=!kn((ht()||{}).userAgent)),jn&&$e(l,"SameSite","None",null,we)),$e(l,"path",c||r,null,we),(n.setCookie||_n)(e,Tn(u,l))}},get:function(e){var t=On;return yn(s)&&(t=(n.getCookie||In)(e)),t},del:function(e,t){yn(s)&&s.purge(e,t)},purge:function(e,r){if(bn(t)){var i=((o={}).path=r||"/",o[Rn]="Thu, 01 Jan 1970 00:00:01 GMT",o);Ct()||(i["max-age"]="0"),(n.delCookie||_n)(e,Tn(On,i))}var o}};return s[Ln]=s,s}function bn(e){if(null===Nn){Nn=!1;try{Nn=void 0!==(qn||{})[An]}catch(t){e&&e.throwInternal(me.WARNING,ve.CannotAccessCookie,"Cannot access document.cookie - "+Je(t),{exception:wt(t)})}}return Nn}function wn(e){var t={};return e&&e.length&&Ve(Be(e).split(";"),(function(e){if(e=Be(e||On)){var n=e.indexOf("=");-1===n?t[e]=null:t[Be(e.substring(0,n))]=Be(e.substring(n+1))}})),t}function xn(e,t){return ke(e[t])?e[t]():null}function Tn(e,t){var n=e||On;return Ae(t,(function(e,t){n+="; "+e+(xe(t)?On:"="+t)})),n}function In(e){var t=On;if(qn){var n=qn[An]||On;Vn!==n&&(Kn=wn(n),Vn=n),t=Be(Kn[e]||On)}return t}function _n(e,t){qn&&(qn[An]=e+"="+t)}function kn(e){return!!Le(e)&&!!(Re(e,"CPU iPhone OS 12")||Re(e,"iPad; CPU OS 12")||Re(e,"Macintosh; Intel Mac OS X 10_14")&&Re(e,"Version/")&&Re(e,"Safari")||Re(e,"Macintosh; Intel Mac OS X 10_14")&&function(e,t){if(e){var n=t.length,r=e.length;if(e===t)return!0;if(r>=n){for(var i=r-1,o=n-1;o>=0;o--){if(e[i]!=t[o])return!1;i--}return!0}}return!1}(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Re(e,"Chrome/5")||Re(e,"Chrome/6")||Re(e,"UnrealEngine")&&!Re(e,"Chrome")||Re(e,"UCBrowser/12")||Re(e,"UCBrowser/11"))}var Pn,En,An,Rn,Dn,Mn,Fn,Ln,On,Nn,jn,Vn,qn,Kn,Un,Bn,zn,Hn,Wn,Jn=w((()=>{Se(),Vt(),lt(),Pn="toGMTString",En="toUTCString",An="cookie",Rn="expires",Dn="enabled",Mn="isCookieUseDisabled",Fn="disableCookiesUsage",Ln="_ckMgr",On="",Nn=null,jn=null,Vn=null,qn=gt(),Kn={},Un={}})),$n=w((()=>{O(),ye(),mn(),on(),hn(),Xt(),Jn(),lt(),sn(),Bn="_notificationManager",zn=function e(){var t,n,r,i,o,s=!1;$(e,this,(function(e){e._extensions=new Array,n=new gn,e.logger=P({throwInternal:function(e,t,n,r,i){void 0===i&&(i=!1)},warnToConsole:function(e){},resetInternalMessageCount:function(){}}),t=[],e.isInitialized=function(){return s},e.initialize=function(t,i,o,a){e.isInitialized()&&Ye("Core should not be initialized more than once"),(!t||xe(t.instrumentationKey))&&Ye("Please provide instrumentation key"),r=a,e[Bn]=a,e.config=t||{},t.extensions=xe(t.extensions)?[]:t.extensions,Ge(t,tn).NotificationManager=a,o&&(e.logger=o);var c=[];c.push.apply(c,i.concat(t.extensions)),c=ln(c);var l=[],u=[],d={};Ve(c,(function(e){(xe(e)||xe(e.initialize))&&Ye("Extensions must provide callback to initialize");var t=e.priority,r=e.identifier;e&&t&&(xe(d[t])?d[t]=r:o.warnToConsole("Two extensions have same priority #"+t+" - "+d[t]+", "+r)),!t||t<n.priority?l.push(e):u.push(e)})),c.push(n),l.push(n),c=ln(c),e._extensions=c,cn(new Zt([n],t,e),c),cn(new Zt(l,t,e),c),e._extensions=l,0===e.getTransmissionControls().length&&Ye("No channels available"),s=!0,e.releaseQueue()},e.getTransmissionControls=function(){return n.getChannelControls()},e.track=function(n){$e(n,en,e.config.instrumentationKey,null,Xe),$e(n,"time",je(new Date),null,Xe),$e(n,"ver","4.0",null,xe),e.isInitialized()?e.getProcessTelContext().processNext(n):t.push(n)},e.getProcessTelContext=function(){var t=e._extensions,r=t;return(!t||0===t.length)&&(r=[n]),new Zt(r,e.config,e)},e.getNotifyMgr=function(){return r||(r=P({addNotificationListener:function(e){},removeNotificationListener:function(e){},eventsSent:function(e){},eventsDiscarded:function(e,t){},eventsSendRequest:function(e,t){}}),e[Bn]=r),r},e.getCookieMgr=function(){return o||(o=Cn(e.config,e.logger)),o},e.setCookieMgr=function(e){o=e},e.getPerfMgr=function(){return i||e.config&&e.config.enablePerfMgr&&(i=new Jt(e.getNotifyMgr())),i},e.setPerfMgr=function(e){i=e},e.eventCnt=function(){return t.length},e.releaseQueue=function(){t.length>0&&(Ve(t,(function(t){e.getProcessTelContext().processNext(t)})),t=[])}}))}})),Gn=w((()=>{ye(),lt(),Hn=function e(t){this.listeners=[];var n=!!(t||{}).perfEvtsSendAll;$(e,this,(function(e){e.addNotificationListener=function(t){e.listeners.push(t)},e.removeNotificationListener=function(t){for(var n=qe(e.listeners,t);n>-1;)e.listeners.splice(n,1),n=qe(e.listeners,t)},e.eventsSent=function(t){Ve(e.listeners,(function(e){e&&e.eventsSent&&setTimeout((function(){return e.eventsSent(t)}),0)}))},e.eventsDiscarded=function(t,n){Ve(e.listeners,(function(e){e&&e.eventsDiscarded&&setTimeout((function(){return e.eventsDiscarded(t,n)}),0)}))},e.eventsSendRequest=function(t,n){Ve(e.listeners,(function(e){if(e&&e.eventsSendRequest)if(n)setTimeout((function(){return e.eventsSendRequest(t,n)}),0);else try{e.eventsSendRequest(t,n)}catch(e){}}))},e.perfEvent=function(t){t&&(n||!t.isChildEvt())&&Ve(e.listeners,(function(e){if(e&&e.perfEvent)if(t.isAsync)setTimeout((function(){return e.perfEvent(t)}),0);else try{e.perfEvent(t)}catch(e){}}))}}))}})),Xn=w((()=>{O(),$n(),T(),Gn(),Xt(),zt(),ye(),lt(),Wn=function(e){function t(){var n=e.call(this)||this;return $(t,n,(function(e,t){function n(t){var n=e.getNotifyMgr();n&&n.eventsDiscarded([t],r.InvalidEvent)}e.initialize=function(e,n,r,i){t.initialize(e,n,r||new Bt(e),i||new Hn(e))},e.track=function(r){Ht(e.getPerfMgr(),(function(){return"AppInsightsCore:track"}),(function(){null===r&&(n(r),Ye("Invalid telemetry item")),function(e){if(xe(e.name))throw n(e),Error("telemetry name required")}(r),t.track(r)}),(function(){return{item:r}}),!r.sync)},e.addNotificationListener=function(t){var n=e.getNotifyMgr();n&&n.addNotificationListener(t)},e.removeNotificationListener=function(t){var n=e.getNotifyMgr();n&&n.removeNotificationListener(t)},e.pollInternalLogs=function(t){var n=e.config.diagnosticLogInterval;return(!n||!(n>0))&&(n=1e4),setInterval((function(){var n=e.logger?e.logger.queue:[];Ve(n,(function(n){var r={name:t||"InternalMessageId: "+n.messageId,iKey:e.config.instrumentationKey,time:je(new Date),baseType:Ut.dataType,baseData:{message:n.message}};e.track(r)})),n.length=0}),n)}})),n}return A(t,e),t}(zn)}));function Qn(e){e<0&&(e>>>=0),sr=123456789+e&ir,ar=987654321-e&ir,or=!0}function Yn(){try{var e=2147483647&We();Qn((Math.random()*rr^e)+e)}catch(e){}}function Zn(e){return e>0?Math.floor(er()/ir*(e+1))>>>0:0}function er(e){var t,n=ut(Rt)||ut(Dt);return n&&n.getRandomValues?t=n.getRandomValues(new Uint32Array(1))[0]&ir:Ct()?(or||Yn(),t=nr()&ir):t=Math.floor(rr*Math.random()|0),e||(t>>>=0),t}function tr(e){e?Qn(e):Yn()}function nr(e){var t=((ar=36969*(65535&ar)+(ar>>16)&ir)<<16)+(65535&(sr=18e3*(65535&sr)+(sr>>16)&ir))>>>0&ir|0;return e||(t>>>=0),t}var rr,ir,or,sr,ar,cr=w((()=>{Vt(),lt(),rr=4294967296,ir=4294967295,or=!1,sr=123456789,ar=987654321}));function lr(e,t){var n=!1,r=ft();r&&(n=Pe(r,e,t),n=Pe(r.body,e,t)||n);var i=gt();return i&&(n=Tr.Attach(i,e,t)||n),n}function ur(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(xr,(function(e){var t=0|Zn(15);return("x"===e?t:3&t|8).toString(16)}))}function dr(){var e=vt();return e&&e.now?e.now():We()}function fr(e){void 0===e&&(e=22);for(var t=er()>>>0,n=0,r="";r.length<e;)n++,r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&t),t>>>=6,5===n&&(t=(er()<<2&4294967295|3&t)>>>0,n=0);return r}function pr(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",r=0;r<4;r++)n+=t[15&(e=er())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var i=t[8+(3&er())|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+i+n.substr(16,3)+n.substr(19,12)}function gr(e,t){var n=vn(e,t),r=wr._canUseCookies;return null===Cr&&(Cr=[],br=r,He(wr,"_canUseCookies",(function(){return br}),(function(e){br=e,Ve(Cr,(function(t){t.setEnabled(e)}))}))),-1===qe(Cr,n)&&Cr.push(n),Ne(r)&&n.setEnabled(r),Ne(br)&&n.setEnabled(br),n}function hr(){gr().setEnabled(!1)}function mr(e){return gr(null,e).isEnabled()}function vr(e,t){return gr(null,e).get(t)}function yr(e,t,n,r){gr(null,e).set(t,n,null,r)}function Sr(e,t){return gr(null,e).del(t)}var Cr,br,wr,xr,Tr,Ir=w((()=>{O(),Jn(),Vt(),lt(),cr(),Cr=null,wr={_canUseCookies:void 0,isTypeof:be,isUndefined:we,isNullOrUndefined:xe,hasOwnProperty:Ie,isFunction:ke,isObject:_e,isDate:De,isArray:Me,isError:Fe,isString:Le,isNumber:Oe,isBoolean:Ne,toISOString:je,arrForEach:Ve,arrIndexOf:qe,arrMap:Ke,arrReduce:Ue,strTrim:Be,objCreate:P,objKeys:ze,objDefineAccessors:He,addEventHandler:lr,dateNow:We,isIE:Ct,disableCookies:hr,newGuid:ur,perfNow:dr,newId:fr,randomValue:Zn,random32:er,mwcRandomSeed:tr,mwcRandom32:nr,generateW3CId:pr},xr=/[xy]/g,Tr={Attach:Pe,AttachEvent:Pe,Detach:Ee,DetachEvent:Ee}}));function _r(e,t){if(e)for(var n=0;n<e.length&&!t(e[n],n);n++);}function kr(e,t,n,r,i){i>=0&&i<=2&&_r(e,(function(e,o){var s=e.cbks,a=s[Rr[i]];if(a){t.ctx=function(){return r[o]=r[o]||{}};try{a.apply(t.inst,n)}catch(e){var c=t.err;try{var l=s[Rr[2]];l&&(t.err=e,l.apply(t.inst,n))}catch(e){}finally{t.err=c}}}}))}function Pr(e,t,n){var r=null;return e&&(Ie(e,t)?r=e:n&&(r=Pr(function(e){if(e){if(Fr)return Fr(e);var t=e[Dr]||e[a]||e[Mr];if(t)return t}return null}(e),t,!1))),r}function Er(e,t,n,r){if(void 0===r&&(r=!0),e&&t&&n){var o=Pr(e,t,r);if(o){var s=o[t];if(typeof s===i){var a=s[Ar];if(!a){var c=function(e){return function(){var t=this,n=arguments,r=e.h,i={name:e.n,inst:t,ctx:null,set:c},o=[],s=a([i],n);function a(e,t){return _r(t,(function(t){e.push(t)})),e}function c(e,t){(n=a([],n))[e]=t,s=a([i],n)}kr(r,i,s,o,0);var l=e.f;try{i.rslt=l.apply(t,n)}catch(e){throw i.err=e,kr(r,i,s,o,3),e}return kr(r,i,s,o,1),i.rslt}}(a={i:0,n:t,f:s,h:[]});c[Ar]=a,o[t]=c}var l={id:a.i,cbks:n,rm:function(){var e=this.id;_r(a.h,(function(t,n){if(t.id===e)return a.h.splice(n,1),1}))}};return a.i++,a.h.push(l),l}}}return null}var Ar,Rr,Dr,Mr,Fr,Lr,Or=w((()=>{O(),lt(),Ar="_aiHooks",Rr=["req","rsp","hkErr","fnErr"],Dr="__proto__",Mr="constructor",Fr=Object.getPrototypeOf})),Nr=w((()=>{Xn(),$n(),an(),cr(),Ir(),lt(),Vt(),O(),Gn(),Xt(),zt(),Se(),Or(),Jn()})),jr=w((()=>{Lr={requestContextHeader:"Request-Context",requestContextTargetKey:"appId",requestContextAppIdFormat:"appId=cid-v1:",requestIdHeader:"Request-Id",traceParentHeader:"traceparent",traceStateHeader:"tracestate",sdkContextHeader:"Sdk-Context",sdkContextHeaderAppIdRequest:"appId",requestContextHeaderLowerCase:"request-context"}}));function Vr(e,t,n){var r=t.length,i=qr(e,t);if(i.length!==r){for(var o=0,s=i;void 0!==n[s];)o++,s=i.substring(0,147)+Gr(o);i=s}return i}function qr(e,t){var n;return t&&(t=Be(t.toString())).length>150&&(n=t.substring(0,150),e.throwInternal(me.WARNING,ve.NameTooLong,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),n||t}function Kr(e,t,n){var r;return void 0===n&&(n=1024),t&&(n=n||1024,(t=Be(t)).toString().length>n&&(r=t.toString().substring(0,n),e.throwInternal(me.WARNING,ve.StringValueTooLong,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),r||t}function Ur(e,t){return $r(e,t,2048,ve.UrlTooLong)}function Br(e,t){var n;return t&&t.length>32768&&(n=t.substring(0,32768),e.throwInternal(me.WARNING,ve.MessageTruncated,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),n||t}function zr(e,t){var n;if(t){var r=""+t;r.length>32768&&(n=r.substring(0,32768),e.throwInternal(me.WARNING,ve.ExceptionTruncated,"exception is too long, it has been truncated to 32768 characters.",{exception:t},!0))}return n||t}function Hr(e,t){if(t){var n={};Ae(t,(function(t,r){if(_e(r)&&yt())try{r=St().stringify(r)}catch(t){e.throwInternal(me.WARNING,ve.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:t},!0)}r=Kr(e,r,8192),t=Vr(e,t,n),n[t]=r})),t=n}return t}function Wr(e,t){if(t){var n={};Ae(t,(function(t,r){t=Vr(e,t,n),n[t]=r})),t=n}return t}function Jr(e,t){return t&&$r(e,t,128,ve.IdTooLong).toString()}function $r(e,t,n,r){var i;return t&&(t=Be(t)).length>n&&(i=t.substring(0,n),e.throwInternal(me.WARNING,r,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0)),i||t}function Gr(e){var t="00"+e;return t.substr(t.length-3)}var Xr,Qr=w((()=>{Nr(),Xr={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768,sanitizeKeyAndAddUniqueness:Vr,sanitizeKey:qr,sanitizeString:Kr,sanitizeUrl:Ur,sanitizeMessage:Br,sanitizeException:zr,sanitizeProperties:Hr,sanitizeMeasurements:Wr,sanitizeId:Jr,sanitizeInput:$r,padNumber:Gr,trim:Be}}));function Yr(e){var t=null;if(ke(Event))t=new Event(e);else{var n=gt();n&&n.createEvent&&(t=n.createEvent("Event")).initEvent(e,!0,!0)}return t}var Zr=w((()=>{Nr()}));function ei(e,t){return void 0===t&&(t=!1),null==e?t:"true"===e.toString().toLowerCase()}function ti(e){(isNaN(e)||e<0)&&(e=0);var t=""+(e=Math.round(e))%1e3,n=""+Math.floor(e/1e3)%60,r=""+Math.floor(e/6e4)%60,i=""+Math.floor(e/36e5)%24,o=Math.floor(e/864e5);return t=1===t.length?"00"+t:2===t.length?"0"+t:t,n=n.length<2?"0"+n:n,r=r.length<2?"0"+r:r,(o>0?o+".":"")+(i=i.length<2?"0"+i:i)+":"+r+":"+n+"."+t}function ni(){var e=ht();return"sendBeacon"in e&&e.sendBeacon}function ri(e,t){var n=null;return Ve(e,(function(e){if(e.identifier===t)return n=e,-1})),n}function ii(e,t,n,r,i){return!i&&Le(e)&&("Script error."===e||"Script error"===e)}var oi,si,ai,ci,li,ui,di,fi,pi=w((()=>{Nr()})),gi=w((()=>{oi="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",si="sampleRate",ai="ProcessLegacy",ci="http.method",li="https://dc.services.visualstudio.com",ui="not_specified"})),hi=w((()=>{var e;(e=di||(di={}))[e.LocalStorage=0]="LocalStorage",e[e.SessionStorage=1]="SessionStorage",function(e){e[e.AI=0]="AI",e[e.AI_AND_W3C=1]="AI_AND_W3C",e[e.W3C=2]="W3C"}(fi||(fi={}))}));function mi(){return Ci()?vi(di.LocalStorage):null}function vi(e){try{if(xe(_()))return null;var t=new Date,n=ut(e===di.LocalStorage?"localStorage":"sessionStorage");n.setItem(t.toString(),t.toString());var r=n.getItem(t.toString())!==t.toString();if(n.removeItem(t.toString()),!r)return n}catch(e){}return null}function yi(){return Ti()?vi(di.SessionStorage):null}function Si(){Ei=!1,Ai=!1}function Ci(){return void 0===Ei&&(Ei=!!vi(di.LocalStorage)),Ei}function bi(e,t){var n=mi();if(null!==n)try{return n.getItem(t)}catch(t){Ei=!1,e.throwInternal(me.WARNING,ve.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+Je(t),{exception:wt(t)})}return null}function wi(e,t,n){var r=mi();if(null!==r)try{return r.setItem(t,n),!0}catch(t){Ei=!1,e.throwInternal(me.WARNING,ve.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+Je(t),{exception:wt(t)})}return!1}function xi(e,t){var n=mi();if(null!==n)try{return n.removeItem(t),!0}catch(t){Ei=!1,e.throwInternal(me.WARNING,ve.BrowserFailedRemovalFromLocalStorage,"Browser failed removal of local storage item. "+Je(t),{exception:wt(t)})}return!1}function Ti(){return void 0===Ai&&(Ai=!!vi(di.SessionStorage)),Ai}function Ii(){var e=[];return Ti()&&Ae(ut("sessionStorage"),(function(t){e.push(t)})),e}function _i(e,t){var n=yi();if(null!==n)try{return n.getItem(t)}catch(t){Ai=!1,e.throwInternal(me.WARNING,ve.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+Je(t),{exception:wt(t)})}return null}function ki(e,t,n){var r=yi();if(null!==r)try{return r.setItem(t,n),!0}catch(t){Ai=!1,e.throwInternal(me.WARNING,ve.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+Je(t),{exception:wt(t)})}return!1}function Pi(e,t){var n=yi();if(null!==n)try{return n.removeItem(t),!0}catch(t){Ai=!1,e.throwInternal(me.WARNING,ve.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+Je(t),{exception:wt(t)})}return!1}var Ei,Ai,Ri=w((()=>{Nr(),hi(),Ei=void 0,Ai=void 0}));function Di(e){var t=Vi,n=qi,r=n[t];return ji.createElement?n[t]||(r=n[t]=ji.createElement("a")):r={host:Oi(e,!0)},r.href=e,++t>=n.length&&(t=0),Vi=t,r}function Mi(e){var t,n=Di(e);return n&&(t=n.href),t}function Fi(e){var t,n=Di(e);return n&&(t=n.pathname),t}function Li(e,t){return e?e.toUpperCase()+" "+t:t}function Oi(e,t){var n=Ni(e,t)||"";if(n){var r=n.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(null!=r&&r.length>3&&Le(r[2])&&r[2].length>0)return r[2]+(r[3]||"")}return n}function Ni(e,t){var n=null;if(e){var r=e.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i);if(null!=r&&r.length>2&&Le(r[2])&&r[2].length>0&&(n=r[2]||"",t&&r.length>2)){var i=(r[1]||"").toLowerCase(),o=r[3]||"";("http"===i&&":80"===o||"https"===i&&":443"===o)&&(o=""),n+=o}}return n}var ji,Vi,qi,Ki=w((()=>{Nr(),ji=gt()||{},Vi=0,qi=[null,null,null,null,null]}));function Ui(e){return-1!==Hi.indexOf(e.toLowerCase())}function Bi(){var e=vt();if(e&&e.now&&e.timing){var t=e.now()+e.timing.navigationStart;if(t>0)return t}return We()}function zi(e,t){var n=null;return 0!==e&&0!==t&&!xe(e)&&!xe(t)&&(n=t-e),n}var Hi,Wi,Ji,$i,Gi,Xi=w((()=>{Nr(),jr(),Qr(),Zr(),pi(),gi(),Ri(),Ki(),Hi=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"],Wi={NotSpecified:ui,createDomEvent:Yr,disableStorage:Si,isInternalApplicationInsightsEndpoint:Ui,canUseLocalStorage:Ci,getStorage:bi,setStorage:wi,removeStorage:xi,canUseSessionStorage:Ti,getSessionStorageKeys:Ii,getSessionStorage:_i,setSessionStorage:ki,removeSessionStorage:Pi,disableCookies:hr,canUseCookies:mr,disallowsSameSiteNone:kn,setCookie:yr,stringToBoolOrDefault:ei,getCookie:vr,deleteCookie:Sr,trim:Be,newId:fr,random32:function(){return er(!0)},generateW3CId:pr,isArray:Me,isError:Fe,isDate:De,toISOStringForIE8:je,getIEVersion:bt,msToTimeSpan:ti,isCrossOriginError:ii,dump:wt,getExceptionName:Je,addEventHandler:Pe,IsBeaconApiSupported:ni,getExtension:ri},Ji={parseUrl:Di,getAbsoluteUrl:Mi,getPathName:Fi,getCompleteUrl:Li,parseHost:Oi,parseFullHost:Ni},$i={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(e,t,n){if(!t||e&&e.disableCorrelationHeaders)return!1;if(e&&e.correlationHeaderExcludePatterns)for(var r=0;r<e.correlationHeaderExcludePatterns.length;r++)if(e.correlationHeaderExcludePatterns[r].test(t))return!1;var i=Di(t).host.toLowerCase();if(i&&(-1!==i.indexOf(":443")||-1!==i.indexOf(":80"))&&(i=(Ni(t,!0)||"").toLowerCase()),(!e||!e.enableCorsCorrelation)&&i&&i!==n)return!1;var o,s=e&&e.correlationHeaderDomains;if(s&&(Ve(s,(function(e){var t=new RegExp(e.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));o=o||t.test(i)})),!o))return!1;var a=e&&e.correlationHeaderExcludedDomains;if(!a||0===a.length)return!0;for(r=0;r<a.length;r++)if(new RegExp(a[r].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")).test(i))return!1;return i&&i.length>0},getCorrelationContext:function(e){if(e){var t=$i.getCorrelationContextValue(e,Lr.requestContextTargetKey);if(t&&t!==$i.correlationIdPrefix)return t}},getCorrelationContextValue:function(e,t){if(e)for(var n=e.split(","),r=0;r<n.length;++r){var i=n[r].split("=");if(2===i.length&&i[0]===t)return i[1]}}},Gi={Now:Bi,GetDuration:zi}}));function Qi(e){if(!e)return{};var t=Ue(e.split(Yi),(function(e,t){var n=t.split(Zi);if(2===n.length){var r=n[0].toLowerCase(),i=n[1];e[r]=i}return e}),{});if(ze(t).length>0){if(t.endpointsuffix){var n=t.location?t.location+".":"";t.ingestionendpoint=t.ingestionendpoint||"https://"+n+"dc."+t.endpointsuffix}t.ingestionendpoint=t.ingestionendpoint||li}return t}var Yi,Zi,eo,to,no,ro,io,oo,so,ao,co,lo,uo=w((()=>{gi(),Nr(),Yi=";",Zi="=",eo={parse:Qi}})),fo=w((()=>{to=function(){}})),po=w((()=>{O(),fo(),no=function(e){function t(){return e.call(this)||this}return A(t,e),t}(to)})),go=w((()=>{ro=function(){this.ver=1,this.sampleRate=100,this.tags={}}})),ho=w((()=>{O(),go(),Qr(),Nr(),gi(),io=function(e){function t(t,n,r){var i=e.call(this)||this;return i.name=Kr(t,r)||ui,i.data=n,i.time=je(new Date),i.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return 100===i.sampleRate?4:1},tags:1,data:1},i}return A(t,e),t}(ro)})),mo=w((()=>{oo=function(){this.ver=2,this.properties={},this.measurements={}}})),vo=w((()=>{O(),mo(),Qr(),gi(),so=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.aiDataContract={ver:1,name:1,properties:0,measurements:0},o.name=Kr(t,n)||ui,o.properties=Hr(t,r),o.measurements=Wr(t,i),o}return A(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Event",t.dataType="EventData",t}(oo)})),yo=w((()=>{ao=function(){}})),So=w((()=>{co=function(){this.ver=2,this.exceptions=[],this.properties={},this.measurements={}}})),Co=w((()=>{lo=function(){this.hasFullStack=!0,this.parsedStack=[]}}));function bo(e,t){var n=e;return n&&!Le(n)&&(JSON&&JSON.stringify?(n=JSON.stringify(e),t&&(!n||"{}"===n)&&(n=ke(e.toString)?e.toString():""+e)):n=e+" - (Missing JSON.stringify)"),n||""}function wo(e,t){var n=e;return e&&((n=e[Do]||e[Mo]||"")&&!Le(n)&&(n=bo(n,!0)),e.filename&&(n=n+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),t&&"String"!==t&&"Object"!==t&&"Error"!==t&&-1===(n||"").indexOf(t)&&(n=t+": "+n),n||""}function xo(e){return e&&e.src&&Le(e.src)&&e.obj&&Me(e.obj)}function To(e){var t=e||"";Le(t)||(t=Le(t[Eo])?t[Eo]:""+t);var n=t.split("\n");return{src:t,obj:n}}function Io(e){var t=null;if(e)try{if(e[Eo])t=To(e[Eo]);else if(e[Po]&&e[Po][Eo])t=To(e[Po][Eo]);else if(e.exception&&e.exception[Eo])t=To(e.exception[Eo]);else if(xo(e))t=e;else if(xo(e[Ao]))t=e[Ao];else if(window.opera&&e[Do])t=function(e){for(var t=[],n=e.split("\n"),r=0;r<n.length;r++){var i=n[r];n[r+1]&&(i+="@"+n[r+1],r++),t.push(i)}return{src:e,obj:t}}(e.message);else if(Le(e))t=To(e);else{var n=e[Do]||e[Mo]||"";Le(e[Ro])&&(n&&(n+="\n"),n+=" from "+e[Ro]),n&&(t=To(n))}}catch(e){t=To(e)}return t||{src:"",obj:null}}function _o(e){var t="";if(e&&!(t=e.typeName||e.name||""))try{var n=/function (.{1,200})\(/.exec(e.constructor.toString());t=n&&n.length>1?n[1]:""}catch(e){}return t}function ko(e){if(e)try{if(!Le(e)){var t=_o(e),n=bo(e,!1);return(!n||"{}"===n)&&(e[Po]&&(t=_o(e=e[Po])),n=bo(e,!0)),0!==n.indexOf(t)&&"String"!==t?t+":"+n:n}}catch(e){}return""+(e||"")}var Po,Eo,Ao,Ro,Do,Mo,Fo,Lo,Oo,No,jo,Vo,qo,Ko,Uo,Bo,zo,Ho,Wo,Jo,$o,Go,Xo,Qo,Yo,Zo=w((()=>{O(),yo(),So(),Co(),Qr(),Nr(),gi(),Po="error",Eo="stack",Ao="stackDetails",Ro="errorSrc",Do="message",Mo="description",Fo=function(e){function t(t,n,r,i,o,s){var a=e.call(this)||this;return a.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0},function(e){return!!_e(e)&&"ver"in e&&"exceptions"in e&&"properties"in e}(n)?(a.exceptions=n.exceptions,a.properties=n.properties,a.measurements=n.measurements,n.severityLevel&&(a.severityLevel=n.severityLevel),n.id&&(a.id=n.id),n.problemGroup&&(a.problemGroup=n.problemGroup),a.ver=2,xe(n.isManual)||(a.isManual=n.isManual)):(r||(r={}),a.exceptions=[new Lo(t,n,r)],a.properties=Hr(t,r),a.measurements=Wr(t,i),o&&(a.severityLevel=o),s&&(a.id=s)),a}return A(t,e),t.CreateAutoException=function(e,t,n,r,i,o,s,a){var c=_o(i||o||e);return{message:wo(e,c),url:t,lineNumber:n,columnNumber:r,error:ko(i||o||e),evt:ko(o||e),typeName:c,stackDetails:Io(s||i||o),errorSrc:a}},t.CreateFromInterface=function(e,n,r,i){var o=n.exceptions&&Ke(n.exceptions,(function(t){return Lo.CreateFromInterface(e,t)}));return new t(e,D({},n,{exceptions:o}),r,i)},t.prototype.toInterface=function(){var e=this,t=e.exceptions,n=e.properties,r=e.measurements,i=e.severityLevel,o=(e.ver,e.problemGroup),s=e.id,a=e.isManual;return{ver:"4.0",exceptions:t instanceof Array&&Ke(t,(function(e){return e.toInterface()}))||void 0,severityLevel:i,properties:n,measurements:r,problemGroup:o,id:s,isManual:a}},t.CreateSimpleException=function(e,t,n,r,i,o){return{exceptions:[{hasFullStack:!0,message:e,stack:i,typeName:t}]}},t.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",t.dataType="ExceptionData",t.formatError=ko,t}(co),Lo=function(e){function t(t,n,r){var i=e.call(this)||this;if(i.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2},function(e){return!!_e(e)&&"hasFullStack"in e&&"typeName"in e}(n))i.typeName=n.typeName,i.message=n.message,i[Eo]=n[Eo],i.parsedStack=n.parsedStack,i.hasFullStack=n.hasFullStack;else{var o=n,s=o&&o.evt;Fe(o)||(o=o[Po]||s||o),i.typeName=Kr(t,_o(o))||ui,i.message=Br(t,wo(n||o,i.typeName))||ui;var a=n[Ao]||Io(n);i.parsedStack=function(e){var t,n=e.obj;if(n&&n.length>0){t=[];var r=0,i=0;if(Ve(n,(function(e){var n=e.toString();if(Oo.regex.test(n)){var o=new Oo(n,r++);i+=o.sizeInBytes,t.push(o)}})),i>32768)for(var o=0,s=t.length-1,a=0,c=o,l=s;o<s;){if((a+=t[o].sizeInBytes+t[s].sizeInBytes)>32768){var u=l-c+1;t.splice(c,u);break}c=o,l=s,o++,s--}}return t}(a),i[Eo]=zr(t,function(e){var t="";return e&&(e.obj?Ve(e.obj,(function(e){t+=e+"\n"})):t=e.src||""),t}(a)),i.hasFullStack=Me(i.parsedStack)&&i.parsedStack.length>0,r&&(r.typeName=r.typeName||i.typeName)}return i}return A(t,e),t.prototype.toInterface=function(){var e=this.parsedStack instanceof Array&&Ke(this.parsedStack,(function(e){return e.toInterface()}));return{id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this[Eo],parsedStack:e||void 0}},t.CreateFromInterface=function(e,n){var r=n.parsedStack instanceof Array&&Ke(n.parsedStack,(function(e){return Oo.CreateFromInterface(e)}))||n.parsedStack;return new t(e,D({},n,{parsedStack:r}))},t}(lo),Oo=function(e){function t(n,r){var i=e.call(this)||this;if(i.sizeInBytes=0,i.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0},"string"==typeof n){var o=n;i.level=r,i.method="<no_method>",i.assembly=Be(o),i.fileName="",i.line=0;var s=o.match(t.regex);s&&s.length>=5&&(i.method=Be(s[2])||i.method,i.fileName=Be(s[4]),i.line=parseInt(s[5])||0)}else i.level=n.level,i.method=n.method,i.assembly=n.assembly,i.fileName=n.fileName,i.line=n.line,i.sizeInBytes=0;return i.sizeInBytes+=i.method.length,i.sizeInBytes+=i.fileName.length,i.sizeInBytes+=i.assembly.length,i.sizeInBytes+=t.baseSize,i.sizeInBytes+=i.level.toString().length,i.sizeInBytes+=i.line.toString().length,i}return A(t,e),t.CreateFromInterface=function(e){return new t(e,null)},t.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},t.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,t.baseSize=58,t}(ao)})),es=w((()=>{No=function(){this.ver=2,this.metrics=[],this.properties={},this.measurements={}}})),ts=w((()=>{var e;(e=jo||(jo={}))[e.Measurement=0]="Measurement",e[e.Aggregation=1]="Aggregation"})),ns=w((()=>{ts(),Vo=function(){this.kind=jo.Measurement}})),rs=w((()=>{O(),ns(),qo=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},t}return A(t,e),t}(Vo)})),is=w((()=>{O(),es(),Qr(),rs(),gi(),Ko=function(e){function t(t,n,r,i,o,s,a,c){var l=e.call(this)||this;l.aiDataContract={ver:1,metrics:1,properties:0};var u=new qo;return u.count=i>0?i:void 0,u.max=isNaN(s)||null===s?void 0:s,u.min=isNaN(o)||null===o?void 0:o,u.name=Kr(t,n)||ui,u.value=r,l.metrics=[u],l.properties=Hr(t,a),l.measurements=Wr(t,c),l}return A(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",t.dataType="MetricData",t}(No)})),os=w((()=>{O(),mo(),Uo=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return A(t,e),t}(oo)})),ss=w((()=>{O(),os(),Qr(),pi(),gi(),Bo=function(e){function t(t,n,r,i,o,s,a){var c=e.call(this)||this;return c.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0},c.id=Jr(t,a),c.url=Ur(t,r),c.name=Kr(t,n)||ui,isNaN(i)||(c.duration=ti(i)),c.properties=Hr(t,o),c.measurements=Wr(t,s),c}return A(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",t.dataType="PageviewData",t}(Uo)})),as=w((()=>{zo=function(){this.ver=2,this.success=!0,this.properties={},this.measurements={}}})),cs=w((()=>{O(),Qr(),Xi(),as(),pi(),Ho=function(e){function t(t,n,r,i,o,s,a,c,l,u,d,f){void 0===l&&(l="Ajax");var p=e.call(this)||this;p.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0},p.id=n,p.duration=ti(o),p.success=s,p.resultCode=a+"",p.type=Kr(t,l);var g=function(e,t,n,r){var i,o=r,s=r;if(t&&t.length>0){var a=Di(t);if(i=a.host,!o)if(null!=a.pathname){var c=0===a.pathname.length?"/":a.pathname;"/"!==c.charAt(0)&&(c="/"+c),s=a.pathname,o=Kr(e,n?n+" "+c:c)}else o=Kr(e,t)}else i=r,o=r;return{target:i,name:o,data:s}}(t,r,c,i);return p.data=Ur(t,i)||g.data,p.target=Kr(t,g.target),u&&(p.target=p.target+" | "+u),p.name=Kr(t,g.name),p.properties=Hr(t,d),p.measurements=Wr(t,f),p}return A(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",t.dataType="RemoteDependencyData",t}(zo)})),ls=w((()=>{Wo=function(){this.ver=2,this.properties={},this.measurements={}}})),us=w((()=>{O(),ls(),Qr(),gi(),Jo=function(e){function t(t,n,r,i,o){var s=e.call(this)||this;return s.aiDataContract={ver:1,message:1,severityLevel:0,properties:0},n=n||ui,s.message=Br(t,n),s.properties=Hr(t,i),s.measurements=Wr(t,o),r&&(s.severityLevel=r),s}return A(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Message",t.dataType="MessageData",t}(Wo)})),ds=w((()=>{O(),os(),$o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return A(t,e),t}(Uo)})),fs=w((()=>{O(),ds(),Qr(),gi(),Go=function(e){function t(t,n,r,i,o,s,a){var c=e.call(this)||this;return c.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0},c.url=Ur(t,r),c.name=Kr(t,n)||ui,c.properties=Hr(t,o),c.measurements=Wr(t,s),a&&(c.domProcessing=a.domProcessing,c.duration=a.duration,c.networkConnect=a.networkConnect,c.perfTotal=a.perfTotal,c.receivedResponse=a.receivedResponse,c.sentRequest=a.sentRequest),c}return A(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",t.dataType="PageviewPerformanceData",t}($o)})),ps=w((()=>{O(),po(),Xo=function(e){function t(t,n){var r=e.call(this)||this;return r.aiDataContract={baseType:1,baseData:1},r.baseType=t,r.baseData=n,r}return A(t,e),t}(no)})),gs=w((()=>{var e;(e=Qo||(Qo={}))[e.Verbose=0]="Verbose",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical"})),hs=w((()=>{Nr(),Yo=function(){function e(){}return e.getConfig=function(e,t,n,r){var i;return void 0===r&&(r=!1),i=n&&e.extensionConfig&&e.extensionConfig[n]&&!xe(e.extensionConfig[n][t])?e.extensionConfig[n][t]:e[t],xe(i)?r:i},e}()}));function ms(e){var t="ai."+e+".";return function(e){return t+e}}var vs,ys,Ss,Cs,bs,ws,xs,Ts,Is,_s,ks,Ps,Es,As,Rs,Ds,Ms,Fs,Ls,Os=w((()=>{var e;O(),Nr(),vs=ms("application"),ys=ms("device"),Ss=ms("location"),Cs=ms("operation"),bs=ms("session"),ws=ms("user"),xs=ms("cloud"),Ts=ms("internal"),Is=function(e){function t(){return e.call(this)||this}return A(t,e),t}((e={applicationVersion:vs("ver"),applicationBuild:vs("build"),applicationTypeId:vs("typeId"),applicationId:vs("applicationId"),applicationLayer:vs("layer"),deviceId:ys("id"),deviceIp:ys("ip"),deviceLanguage:ys("language"),deviceLocale:ys("locale"),deviceModel:ys("model"),deviceFriendlyName:ys("friendlyName"),deviceNetwork:ys("network"),deviceNetworkName:ys("networkName"),deviceOEMName:ys("oemName"),deviceOS:ys("os"),deviceOSVersion:ys("osVersion"),deviceRoleInstance:ys("roleInstance"),deviceRoleName:ys("roleName"),deviceScreenResolution:ys("screenResolution"),deviceType:ys("type"),deviceMachineName:ys("machineName"),deviceVMName:ys("vmName"),deviceBrowser:ys("browser"),deviceBrowserVersion:ys("browserVersion"),locationIp:Ss("ip"),locationCountry:Ss("country"),locationProvince:Ss("province"),locationCity:Ss("city"),operationId:Cs("id"),operationName:Cs("name"),operationParentId:Cs("parentId"),operationRootId:Cs("rootId"),operationSyntheticSource:Cs("syntheticSource"),operationCorrelationVector:Cs("correlationVector"),sessionId:bs("id"),sessionIsFirst:bs("isFirst"),sessionIsNew:bs("isNew"),userAccountAcquisitionDate:ws("accountAcquisitionDate"),userAccountId:ws("accountId"),userAgent:ws("userAgent"),userId:ws("id"),userStoreRegion:ws("storeRegion"),userAuthUserId:ws("authUserId"),userAnonymousUserAcquisitionDate:ws("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:ws("authUserAcquisitionDate"),cloudName:xs("name"),cloudRole:xs("role"),cloudRoleVer:xs("roleVer"),cloudRoleInstance:xs("roleInstance"),cloudEnvironment:xs("environment"),cloudLocation:xs("location"),cloudDeploymentUnit:xs("deploymentUnit"),internalNodeName:Ts("nodeName"),internalSdkVersion:Ts("sdkVersion"),internalAgentVersion:Ts("agentVersion"),internalSnippet:Ts("snippet"),internalSdkSrc:Ts("sdkSrc")},function(){var t=this;e&&Ae(e,(function(e,n){t[e]=n}))}))})),Ns=w((()=>{Qr(),Nr(),gi(),_s=function(){function e(){}return e.create=function(e,t,n,r,i,o){if(n=Kr(r,n)||ui,xe(e)||xe(t)||xe(n))throw Error("Input doesn't contain all required fields");var s={name:n,time:je(new Date),iKey:"",ext:o||{},tags:[],data:{},baseType:t,baseData:e};return xe(i)||Ae(i,(function(e,t){s.data[e]=t})),s},e}()})),js=w((()=>{Os(),ks={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},Ps=new Is})),Vs=w((()=>{Xi(),uo(),jr(),gi(),po(),fo(),ho(),vo(),Zo(),is(),ss(),os(),cs(),us(),fs(),ps(),gs(),hs(),Os(),Qr(),Ns(),js(),hi(),pi(),Zr(),Ri(),Ki(),Es="AppInsightsPropertiesPlugin",As="AppInsightsChannelPlugin",Rs="ApplicationInsightsAnalytics"})),qs=w((()=>{Vs(),Nr(),ye(),Ds=function e(t,n,r,i){$(e,this,(function(e){var o,s=null,a=[],c=!1;function l(){r&&Ve(r.getTransmissionControls(),(function(e){Ve(e,(function(e){return e.flush(!0)}))}))}r&&(o=r.logger),e.trackPageView=function(e,r){var u=e.name;if(xe(u)||"string"!=typeof u){var d=gt();u=e.name=d&&d.title||""}var f=e.uri;if(xe(f)||"string"!=typeof f){var p=mt();f=e.uri=p&&p.href||""}if(!i.isPerformanceTimingSupported())return t.sendPageViewInternal(e,r),l(),void o.throwInternal(me.WARNING,ve.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");var g,h,m=!1,v=i.getPerformanceTiming().navigationStart;v>0&&(g=zi(v,+new Date),i.shouldCollectDuration(g)||(g=void 0)),!xe(r)&&!xe(r.duration)&&(h=r.duration),(n||!isNaN(h))&&(isNaN(h)&&(r||(r={}),r.duration=g),t.sendPageViewInternal(e,r),l(),m=!0),r||(r={}),function(e){a.push(e),s||(s=setInterval((function(){var e=a.slice(0),t=!1;a=[],Ve(e,(function(e){e()?t=!0:a.push(e)})),0===a.length&&(clearInterval(s),s=null),t&&l()}),100))}((function(){var n=!1;try{if(i.isPerformanceTimingDataReady()){n=!0;var s={name:u,uri:f};i.populatePageViewPerformanceEvent(s),s.isValid||m?(m||(r.duration=s.durationMs,t.sendPageViewInternal(e,r)),c||(t.sendPageViewPerformanceInternal(s,r),c=!0)):(r.duration=g,t.sendPageViewInternal(e,r))}else v>0&&zi(v,+new Date)>6e4&&(n=!0,m||(r.duration=6e4,t.sendPageViewInternal(e,r)))}catch(e){o.throwInternal(me.CRITICAL,ve.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+Je(e),{exception:wt(e)})}return n}))}}))}})),Ks=w((()=>{Vs(),Nr(),Ms=function(){function e(e,t){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=t,this._logger=e}return e.prototype.trackPreviousPageVisit=function(e,t){try{var n=this.restartPageVisitTimer(e,t);n&&this.pageVisitTimeTrackingHandler(n.pageName,n.pageUrl,n.pageVisitTime)}catch(e){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+wt(e))}},e.prototype.restartPageVisitTimer=function(e,t){try{var n=this.stopPageVisitTimer();return this.startPageVisitTimer(e,t),n}catch(e){return this._logger.warnToConsole("Call to restart failed: "+wt(e)),null}},e.prototype.startPageVisitTimer=function(e,t){try{if(Ti()){null!=_i(this._logger,this.prevPageVisitDataKeyName)&&Ye("Cannot call startPageVisit consecutively without first calling stopPageVisit");var n=new Fs(e,t),r=St().stringify(n);ki(this._logger,this.prevPageVisitDataKeyName,r)}}catch(e){this._logger.warnToConsole("Call to start failed: "+wt(e))}},e.prototype.stopPageVisitTimer=function(){try{if(Ti()){var e=We(),t=_i(this._logger,this.prevPageVisitDataKeyName);if(t&&yt()){var n=St().parse(t);return n.pageVisitTime=e-n.pageVisitStartTime,Pi(this._logger,this.prevPageVisitDataKeyName),n}return null}return null}catch(e){return this._logger.warnToConsole("Stop page visit timer failed: "+wt(e)),null}},e}(),Fs=function(e,t){this.pageVisitStartTime=We(),this.pageName=e,this.pageUrl=t}})),Us=w((()=>{Vs(),Nr(),Ls=function(){function e(e){this.MAX_DURATION_ALLOWED=36e5,e&&(this._logger=e.logger)}return e.prototype.populatePageViewPerformanceEvent=function(e){e.isValid=!1;var t=this.getPerformanceNavigationTiming(),n=this.getPerformanceTiming(),r=0,i=0,o=0,s=0,a=0;(t||n)&&(t?(r=t.duration,i=0===t.startTime?t.connectEnd:zi(t.startTime,t.connectEnd),o=zi(t.requestStart,t.responseStart),s=zi(t.responseStart,t.responseEnd),a=zi(t.responseEnd,t.loadEventEnd)):(r=zi(n.navigationStart,n.loadEventEnd),i=zi(n.navigationStart,n.connectEnd),o=zi(n.requestStart,n.responseStart),s=zi(n.responseStart,n.responseEnd),a=zi(n.responseEnd,n.loadEventEnd)),0===r?this._logger.throwInternal(me.WARNING,ve.ErrorPVCalc,"error calculating page view performance.",{total:r,network:i,request:o,response:s,dom:a}):this.shouldCollectDuration(r,i,o,s,a)?r<Math.floor(i)+Math.floor(o)+Math.floor(s)+Math.floor(a)?this._logger.throwInternal(me.WARNING,ve.ClientPerformanceMathError,"client performance math error.",{total:r,network:i,request:o,response:s,dom:a}):(e.durationMs=r,e.perfTotal=e.duration=ti(r),e.networkConnect=ti(i),e.sentRequest=ti(o),e.receivedResponse=ti(s),e.domProcessing=ti(a),e.isValid=!0):this._logger.throwInternal(me.WARNING,ve.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:r,network:i,request:o,response:s,dom:a}))},e.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?vt().timing:null},e.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?vt().getEntriesByType("navigation")[0]:null},e.prototype.isPerformanceNavigationTimingSupported=function(){var e=vt();return e&&e.getEntriesByType&&e.getEntriesByType("navigation").length>0},e.prototype.isPerformanceTimingSupported=function(){var e=vt();return e&&e.timing},e.prototype.isPerformanceTimingDataReady=function(){var e=vt(),t=e?e.timing:0;return t&&t.domainLookupStart>0&&t.navigationStart>0&&t.responseStart>0&&t.requestStart>0&&t.loadEventEnd>0&&t.responseEnd>0&&t.connectEnd>0&&t.domLoading>0},e.prototype.shouldCollectDuration=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=ht()||{},r=["googlebot","adsbot-google","apis-google","mediapartners-google"],i=n.userAgent,o=!1;if(i)for(var s=0;s<r.length;s++)o=o||-1!==i.toLowerCase().indexOf(r[s]);if(o)return!1;for(s=0;s<e.length;s++)if(e[s]<0||e[s]>=this.MAX_DURATION_ALLOWED)return!1;return!0},e}()}));function Bs(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}var zs,Hs,Ws,Js,$s,Gs,Xs=w((()=>{O(),Vs(),Nr(),qs(),Ks(),Us(),ye(),zs="duration",Hs="event",Ws=function(e){function t(){var n,r,i,s,a,c=e.call(this)||this;return c.identifier=Rs,c.priority=180,c.autoRoutePVDelay=500,$(t,c,(function(e,l){var u=mt(!0);s=u&&u.href||"",e.getCookieMgr=function(){return Sn(e.core)},e.processTelemetry=function(t,n){Ht(e.core,(function(){return e.identifier+":processTelemetry"}),(function(){var r=!1,i=e._telemetryInitializers.length;n=e._getTelCtx(n);for(var o=0;o<i;++o){var s=e._telemetryInitializers[o];if(s)try{if(!1===s.apply(null,[t])){r=!0;break}}catch(e){n.diagLog().throwInternal(me.CRITICAL,ve.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+Je(e),{exception:wt(e)},!0)}}r||e.processNext(t,n)}),(function(){return{item:t}}),!t.sync)},e.trackEvent=function(t,n){try{var r=_s.create(t,so.dataType,so.envelopeType,e.diagLog(),n);e.core.track(r)}catch(t){e.diagLog().throwInternal(me.WARNING,ve.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+Je(t),{exception:wt(t)})}},e.startTrackEvent=function(t){try{n.start(t)}catch(t){e.diagLog().throwInternal(me.CRITICAL,ve.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+Je(t),{exception:wt(t)})}},e.stopTrackEvent=function(t,r,i){try{n.stop(t,void 0,r)}catch(t){e.diagLog().throwInternal(me.CRITICAL,ve.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+Je(t),{exception:wt(t)})}},e.trackTrace=function(t,n){try{var r=_s.create(t,Jo.dataType,Jo.envelopeType,e.diagLog(),n);e.core.track(r)}catch(t){e.diagLog().throwInternal(me.WARNING,ve.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+Je(t),{exception:wt(t)})}},e.trackMetric=function(t,n){try{var r=_s.create(t,Ko.dataType,Ko.envelopeType,e.diagLog(),n);e.core.track(r)}catch(t){e.diagLog().throwInternal(me.CRITICAL,ve.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+Je(t),{exception:wt(t)})}},e.trackPageView=function(t,n){try{var r=t||{};e._pageViewManager.trackPageView(r,D({},r.properties,r.measurements,n)),e.config.autoTrackPageVisitTime&&e._pageVisitTimeManager.trackPreviousPageVisit(r.name,r.uri)}catch(t){e.diagLog().throwInternal(me.CRITICAL,ve.TrackPVFailed,"trackPageView failed, page view will not be collected: "+Je(t),{exception:wt(t)})}},e.sendPageViewInternal=function(t,n,r){var i=gt();i&&(t.refUri=void 0===t.refUri?i.referrer:t.refUri);var o=_s.create(t,Bo.dataType,Bo.envelopeType,e.diagLog(),n,r);e.core.track(o)},e.sendPageViewPerformanceInternal=function(t,n,r){var i=_s.create(t,Go.dataType,Go.envelopeType,e.diagLog(),n,r);e.core.track(i)},e.trackPageViewPerformance=function(t,n){try{e._pageViewPerformanceManager.populatePageViewPerformanceEvent(t),e.sendPageViewPerformanceInternal(t,n)}catch(t){e.diagLog().throwInternal(me.CRITICAL,ve.TrackPVFailed,"trackPageViewPerformance failed, page view will not be collected: "+Je(t),{exception:wt(t)})}},e.startTrackPage=function(t){try{if("string"!=typeof t){var n=gt();t=n&&n.title||""}r.start(t)}catch(t){e.diagLog().throwInternal(me.CRITICAL,ve.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+Je(t),{exception:wt(t)})}},e.stopTrackPage=function(t,n,i,o){try{if("string"!=typeof t){var s=gt();t=s&&s.title||""}if("string"!=typeof n){var a=mt();n=a&&a.href||""}r.stop(t,n,i,o),e.config.autoTrackPageVisitTime&&e._pageVisitTimeManager.trackPreviousPageVisit(t,n)}catch(t){e.diagLog().throwInternal(me.CRITICAL,ve.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+Je(t),{exception:wt(t)})}},e.sendExceptionInternal=function(t,n,r){var i=t.exception||t.error||new Error(ui),o=new Fo(e.diagLog(),i,t.properties||n,t.measurements,t.severityLevel,t.id).toInterface(),s=_s.create(o,Fo.dataType,Fo.envelopeType,e.diagLog(),n,r);e.core.track(s)},e.trackException=function(t,n){try{e.sendExceptionInternal(t,n)}catch(t){e.diagLog().throwInternal(me.CRITICAL,ve.TrackExceptionFailed,"trackException failed, exception will not be collected: "+Je(t),{exception:wt(t)})}},e._onerror=function(t){var n=t&&t.error,r=t&&t.evt;try{if(!r){var i=ft();i&&(r=i[Hs])}var o=t&&t.url||(gt()||{}).URL,s=t.errorSrc||"window.onerror@"+o+":"+(t.lineNumber||0)+":"+(t.columnNumber||0),a={errorSrc:s,url:o,lineNumber:t.lineNumber||0,columnNumber:t.columnNumber||0,message:t.message};ii(t.message,t.url,t.lineNumber,t.columnNumber,t.error)?function(t,n){var r=_s.create(t,Fo.dataType,Fo.envelopeType,e.diagLog(),n);e.core.track(r)}(Fo.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",o,t.lineNumber||0,t.columnNumber||0,n,r,null,s),a):(t.errorSrc||(t.errorSrc=s),e.trackException({exception:t,severityLevel:Qo.Error},a))}catch(t){var c=n?n.name+", "+n.message:"null";e.diagLog().throwInternal(me.CRITICAL,ve.ExceptionWhileLoggingError,"_onError threw exception while logging error, error will not be collected: "+Je(t),{exception:wt(t),errorString:c})}},e.addTelemetryInitializer=function(t){e._telemetryInitializers.push(t)},e.initialize=function(u,d,f,p){if(!e.isInitialized()){if(xe(d))throw Error("Error initializing");l.initialize(u,d,f,p),e.setInitialized(!1);var g=e._getTelCtx(),h=e.identifier;e.config=g.getExtCfg(h);var m=t.getDefaultConfig(u);void 0!==m&&Ae(m,(function(t,n){e.config[t]=g.getConfig(h,t,n),void 0===e.config[t]&&(e.config[t]=n)})),e.config.isStorageUseDisabled&&Si();var v={instrumentationKey:function(){return u.instrumentationKey},accountId:function(){return e.config.accountId||u.accountId},sessionRenewalMs:function(){return e.config.sessionRenewalMs||u.sessionRenewalMs},sessionExpirationMs:function(){return e.config.sessionExpirationMs||u.sessionExpirationMs},sampleRate:function(){return e.config.samplingPercentage||u.samplingPercentage},sdkExtension:function(){return e.config.sdkExtension||u.sdkExtension},isBrowserLinkTrackingEnabled:function(){return e.config.isBrowserLinkTrackingEnabled||u.isBrowserLinkTrackingEnabled},appId:function(){return e.config.appId||u.appId}};e._pageViewPerformanceManager=new Ls(e.core),e._pageViewManager=new Ds(c,e.config.overridePageViewDuration,e.core,e._pageViewPerformanceManager),e._pageVisitTimeManager=new Ms(e.diagLog(),(function(t,n,r){return function(t,n,r){var i={PageName:t,PageUrl:n};e.trackMetric({name:"PageVisitTime",average:r,max:r,min:r,sampleCount:1},i)}(t,n,r)})),e._telemetryInitializers=e._telemetryInitializers||[],function(t){if(!t.isBrowserLinkTrackingEnabled()){var n=["/browserLinkSignalR/","/__browserLink/"];e._telemetryInitializers.push((function(e){if(e.baseType===Ho.dataType){var t=e.baseData;if(t)for(var r=0;r<n.length;r++)if(t.target&&t.target.indexOf(n[r])>=0)return!1}return!0}))}}(v),(n=new Js(e.diagLog(),"trackEvent")).action=function(t,n,r,i){i||(i={}),i[zs]=r.toString(),e.trackEvent({name:t,properties:i})},(r=new Js(e.diagLog(),"trackPageView")).action=function(t,n,r,i,o){xe(i)&&(i={}),i[zs]=r.toString();var s={name:t,uri:n,properties:i,measurements:o};e.sendPageViewInternal(s,i)};var y=ft(),S=Boolean(typeof history===o&&history)?history:ut(_t),C=mt(!0),b=c;if(!1===e.config.disableExceptionTracking&&!e.config.autoExceptionInstrumented&&y){var w=y.onerror;y.onerror=function(e,t,n,r,i){var o=y[Hs],s=w&&w(e,t,n,r,i);return!0!==s&&b._onerror(Fo.CreateAutoException(e,t,n,r,i,o)),s},e.config.autoExceptionInstrumented=!0}if(!1===e.config.disableExceptionTracking&&!0===e.config.enableUnhandledPromiseRejectionTracking&&!e.config.autoUnhandledPromiseInstrumented&&y){var x="onunhandledrejection",T=y[x];y[x]=function(e){var t=y[Hs],n=T&&T.call(y,e);return!0!==n&&b._onerror(Fo.CreateAutoException(e.reason.toString(),C?C.href:"",0,0,e,t)),n},e.config.autoUnhandledPromiseInstrumented=!0}if(!0===e.config.enableAutoRouteTracking&&S&&ke(S.pushState)&&ke(S.replaceState)&&y&&"undefined"!=typeof Event){var I=c;Ve(f,(function(e){e.identifier===Es&&(i=e)})),S.pushState=(_=S.pushState,function(){var e=_.apply(this,arguments);return Bs(y,Yr(I.config.namePrefix+"pushState")),Bs(y,Yr(I.config.namePrefix+"locationchange")),e}),S.replaceState=function(e){return function(){var t=e.apply(this,arguments);return Bs(y,Yr(I.config.namePrefix+"replaceState")),Bs(y,Yr(I.config.namePrefix+"locationchange")),t}}(S.replaceState),y.addEventListener&&(y.addEventListener(I.config.namePrefix+"popstate",(function(){Bs(y,Yr(I.config.namePrefix+"locationchange"))})),y.addEventListener(I.config.namePrefix+"locationchange",(function(){if(i&&i.context&&i.context.telemetryTrace){i.context.telemetryTrace.traceID=pr();var e="_unknown_";C&&C.pathname&&(e=C.pathname+(C.hash||"")),i.context.telemetryTrace.name=e}a&&(s=a),a=C&&C.href||"",setTimeout(function(e){I.trackPageView({refUri:e,properties:{duration:0}})}.bind(c,s),I.autoRoutePVDelay)})))}e.setInitialized(!0)}var _}})),c}return A(t,e),t.getDefaultConfig=function(e){return e||(e={}),e.sessionRenewalMs=18e5,e.sessionExpirationMs=864e5,e.disableExceptionTracking=ei(e.disableExceptionTracking),e.autoTrackPageVisitTime=ei(e.autoTrackPageVisitTime),e.overridePageViewDuration=ei(e.overridePageViewDuration),e.enableUnhandledPromiseRejectionTracking=ei(e.enableUnhandledPromiseRejectionTracking),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||e.samplingPercentage>=100)&&(e.samplingPercentage=100),e.isStorageUseDisabled=ei(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=ei(e.isBrowserLinkTrackingEnabled),e.enableAutoRouteTracking=ei(e.enableAutoRouteTracking),e.namePrefix=e.namePrefix||"",e.enableDebug=ei(e.enableDebug),e.disableFlushOnBeforeUnload=ei(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=ei(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e},t.Version="2.6.4",t}(rn),Js=function(e,t){var n=this,r={};n.start=function(t){void 0!==r[t]&&e.throwInternal(me.WARNING,ve.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:t,key:t},!0),r[t]=+new Date},n.stop=function(t,i,o,s){var a=r[t];if(isNaN(a))e.throwInternal(me.WARNING,ve.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:t,key:t},!0);else{var c=zi(a,+new Date);n.action(t,i,c,o,s)}delete r[t],r[t]=void 0}}})),Qs=w((()=>{Xs()})),Ys=w((()=>{Vs(),Nr(),ye(),$s=function e(t){var n=[];$(e,this,(function(e){e.enqueue=function(e){n.push(e)},e.count=function(){return n.length},e.clear=function(){n.length=0},e.getItems=function(){return n.slice(0)},e.batchPayloads=function(e){return e&&e.length>0?t.emitLineDelimitedJson()?e.join("\n"):"["+e.join(",")+"]":null},e.markAsSent=function(t){e.clear()},e.clearSent=function(e){}}))},Gs=function(){function e(t,n){var r,i=!1;$(e,this,(function(o){var s=l(e.BUFFER_KEY),a=l(e.SENT_BUFFER_KEY);function c(e,t){var n=[];return Ve(t,(function(t){!ke(t)&&-1===qe(e,t)&&n.push(t)})),n}function l(e){var r=e;try{r=n.namePrefix&&n.namePrefix()?n.namePrefix()+"_"+r:r;var i=_i(t,r);if(i){var o=St().parse(i);if(Le(o)&&(o=St().parse(o)),o&&Me(o))return o}}catch(e){t.throwInternal(me.CRITICAL,ve.FailedToRestoreStorageBuffer," storage key: "+r+", "+Je(e),{exception:wt(e)})}return[]}function u(e,r){var i=e;try{i=n.namePrefix&&n.namePrefix()?n.namePrefix()+"_"+i:i;var o=JSON.stringify(r);ki(t,i,o)}catch(e){ki(t,i,JSON.stringify([])),t.throwInternal(me.WARNING,ve.FailedToSetStorageBuffer," storage key: "+i+", "+Je(e)+". Buffer cleared",{exception:wt(e)})}}(r=s.concat(a)).length>e.MAX_BUFFER_SIZE&&(r.length=e.MAX_BUFFER_SIZE),u(e.SENT_BUFFER_KEY,[]),u(e.BUFFER_KEY,r),o.enqueue=function(n){r.length>=e.MAX_BUFFER_SIZE?i||(t.throwInternal(me.WARNING,ve.SessionStorageBufferFull,"Maximum buffer size reached: "+r.length,!0),i=!0):(r.push(n),u(e.BUFFER_KEY,r))},o.count=function(){return r.length},o.clear=function(){r=[],u(e.BUFFER_KEY,[]),u(e.SENT_BUFFER_KEY,[]),i=!1},o.getItems=function(){return r.slice(0)},o.batchPayloads=function(e){return e&&e.length>0?n.emitLineDelimitedJson()?e.join("\n"):"["+e.join(",")+"]":null},o.markAsSent=function(n){r=c(n,r),u(e.BUFFER_KEY,r);var i=l(e.SENT_BUFFER_KEY);i instanceof Array&&n instanceof Array&&((i=i.concat(n)).length>e.MAX_BUFFER_SIZE&&(t.throwInternal(me.CRITICAL,ve.SessionStorageBufferFull,"Sent buffer reached its maximum size: "+i.length,!0),i.length=e.MAX_BUFFER_SIZE),u(e.SENT_BUFFER_KEY,i))},o.clearSent=function(t){var n=l(e.SENT_BUFFER_KEY);n=c(t,n),u(e.SENT_BUFFER_KEY,n)}}))}return e.BUFFER_KEY="AI_buffer",e.SENT_BUFFER_KEY="AI_sentBuffer",e.MAX_BUFFER_SIZE=2e3,e}()}));function Zs(e,t,n){return $e(e,t,n,Qe)}var ea,ta,na,ra,ia,oa,sa,aa,ca,la,ua,da,fa,pa,ga,ha,ma,va,ya=w((()=>{O(),Vs(),Nr(),ea="baseType",ta="baseData",na="properties",ra="true",ia=function(){function e(){}return e.extractPropsAndMeasurements=function(e,t,n){xe(e)||Ae(e,(function(e,r){Oe(r)?n[e]=r:Le(r)?t[e]=r:yt()&&(t[e]=St().stringify(r))}))},e.createEnvelope=function(t,n,r,i){var o=new io(t,i,n);Zs(o,"sampleRate",r[si]),(r[ta]||{}).startTime&&(o.time=je(r[ta].startTime)),o.iKey=r.iKey;var s=r.iKey.replace(/-/g,"");return o.name=o.name.replace("{0}",s),e.extractPartAExtensions(r,o),r.tags=r.tags||[],et(o)},e.extractPartAExtensions=function(t,n){var r=n.tags=n.tags||{},i=t.ext=t.ext||{},o=t.tags=t.tags||[],s=i.user;s&&(Zs(r,Ps.userAuthUserId,s.authId),Zs(r,Ps.userId,s.id||s.localId));var a=i.app;a&&Zs(r,Ps.sessionId,a.sesId);var c=i.device;c&&(Zs(r,Ps.deviceId,c.id||c.localId),Zs(r,Ps.deviceType,c.deviceClass),Zs(r,Ps.deviceIp,c.ip),Zs(r,Ps.deviceModel,c.model),Zs(r,Ps.deviceType,c.deviceType));var l=t.ext.web;if(l){Zs(r,Ps.deviceLanguage,l.browserLang),Zs(r,Ps.deviceBrowserVersion,l.browserVer),Zs(r,Ps.deviceBrowser,l.browser);var u=n.data=n.data||{},d=u[ta]=u[ta]||{},f=d[na]=d[na]||{};Zs(f,"domain",l.domain),Zs(f,"isManual",l.isManual?ra:null),Zs(f,"screenRes",l.screenRes),Zs(f,"userConsent",l.userConsent?ra:null)}var p=i.os;p&&Zs(r,Ps.deviceOS,p.name);var g=i.trace;g&&(Zs(r,Ps.operationParentId,g.parentID),Zs(r,Ps.operationName,g.name),Zs(r,Ps.operationId,g.traceID));for(var h={},m=o.length-1;m>=0;m--)Ae(o[m],(function(e,t){h[e]=t})),o.splice(m,1);Ae(o,(function(e,t){h[e]=t}));var v=D({},r,h);v[Ps.internalSdkVersion]||(v[Ps.internalSdkVersion]="javascript:"+e.Version),n.tags=et(v)},e.prototype.Init=function(e,t){this._logger=e,xe(t[ta])&&this._logger.throwInternal(me.CRITICAL,ve.TelemetryEnvelopeInvalid,"telemetryItem.baseData cannot be null.")},e.Version="2.6.4",e}(),oa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return A(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r=n[ta].measurements||{},i=n[ta][na]||{};ia.extractPropsAndMeasurements(n.data,i,r);var o=n[ta];if(xe(o))return t.warnToConsole("Invalid input for dependency data"),null;var s=o[na]&&o[na][ci]?o[na][ci]:"GET",a=new Ho(t,o.id,o.target,o.name,o.duration,o.success,o.responseCode,s,o.type,o.correlationContext,i,r),c=new Xo(Ho.dataType,a);return ia.createEnvelope(t,Ho.envelopeType,n,c)},t.DependencyEnvelopeCreator=new t,t}(ia),sa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return A(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r={},i={};n[ea]!==so.dataType&&(r.baseTypeSource=n[ea]),n[ea]===so.dataType?(r=n[ta][na]||{},i=n[ta].measurements||{}):n[ta]&&ia.extractPropsAndMeasurements(n[ta],r,i),ia.extractPropsAndMeasurements(n.data,r,i);var o=n[ta].name,s=new so(t,o,r,i),a=new Xo(so.dataType,s);return ia.createEnvelope(t,so.envelopeType,n,a)},t.EventEnvelopeCreator=new t,t}(ia),aa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return A(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r=n[ta].measurements||{},i=n[ta][na]||{};ia.extractPropsAndMeasurements(n.data,i,r);var o=n[ta],s=Fo.CreateFromInterface(t,o,i,r),a=new Xo(Fo.dataType,s);return ia.createEnvelope(t,Fo.envelopeType,n,a)},t.ExceptionEnvelopeCreator=new t,t}(ia),ca=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return A(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r=n[ta],i=r[na]||{},o=r.measurements||{};ia.extractPropsAndMeasurements(n.data,i,o);var s=new Ko(t,r.name,r.average,r.sampleCount,r.min,r.max,i,o),a=new Xo(Ko.dataType,s);return ia.createEnvelope(t,Ko.envelopeType,n,a)},t.MetricEnvelopeCreator=new t,t}(ia),la=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return A(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r,i="duration",o=n[ta];xe(o)||xe(o[na])||xe(o[na][i])?!xe(n.data)&&!xe(n.data[i])&&(r=n.data[i],delete n.data[i]):(r=o[na][i],delete o[na][i]);var s,a=n[ta];((n.ext||{}).trace||{}).traceID&&(s=n.ext.trace.traceID);var c=a.id||s,l=a.name,u=a.uri,d=a[na]||{},f=a.measurements||{};xe(a.refUri)||(d.refUri=a.refUri),xe(a.pageType)||(d.pageType=a.pageType),xe(a.isLoggedIn)||(d.isLoggedIn=a.isLoggedIn.toString()),xe(a[na])||Ae(a[na],(function(e,t){d[e]=t})),ia.extractPropsAndMeasurements(n.data,d,f);var p=new Bo(t,l,u,r,d,f,c),g=new Xo(Bo.dataType,p);return ia.createEnvelope(t,Bo.envelopeType,n,g)},t.PageViewEnvelopeCreator=new t,t}(ia),ua=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return A(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r=n[ta],i=r.name,o=r.uri||r.url,s=r[na]||{},a=r.measurements||{};ia.extractPropsAndMeasurements(n.data,s,a);var c=new Go(t,i,o,void 0,s,a,r),l=new Xo(Go.dataType,c);return ia.createEnvelope(t,Go.envelopeType,n,l)},t.PageViewPerformanceEnvelopeCreator=new t,t}(ia),da=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return A(t,e),t.prototype.Create=function(t,n){e.prototype.Init.call(this,t,n);var r=n[ta].message,i=n[ta].severityLevel,o=n[ta][na]||{},s=n[ta].measurements||{};ia.extractPropsAndMeasurements(n.data,o,s);var a=new Jo(t,r,i,o,s),c=new Xo(Jo.dataType,a);return ia.createEnvelope(t,Jo.envelopeType,n,c)},t.TraceEnvelopeCreator=new t,t}(ia)})),Sa=w((()=>{Nr(),ye(),fa=function e(t){$(e,this,(function(e){function n(e,o){var s="__aiCircularRefCheck",a={};if(!e)return t.throwInternal(me.CRITICAL,ve.CannotSerializeObject,"cannot serialize object because it is null or undefined",{name:o},!0),a;if(e[s])return t.throwInternal(me.WARNING,ve.CircularReferenceDetected,"Circular reference detected while serializing object",{name:o},!0),a;if(!e.aiDataContract){if("measurements"===o)a=i(e,"number",o);else if("properties"===o)a=i(e,"string",o);else if("tags"===o)a=i(e,"string",o);else if(Me(e))a=r(e,o);else{t.throwInternal(me.WARNING,ve.CannotSerializeObjectNonSerializable,"Attempting to serialize an object which does not implement ISerializable",{name:o},!0);try{St().stringify(e),a=e}catch(e){t.throwInternal(me.CRITICAL,ve.CannotSerializeObject,e&&ke(e.toString)?e.toString():"Error serializing object",null,!0)}}return a}return e[s]=!0,Ae(e.aiDataContract,(function(i,s){var c=ke(s)?1&s():1&s,l=ke(s)?4&s():4&s,u=2&s,d=void 0!==e[i],f=_e(e[i])&&null!==e[i];if(!c||d||u){if(!l){var p;void 0!==(p=f?u?r(e[i],i):n(e[i],i):e[i])&&(a[i]=p)}}else t.throwInternal(me.CRITICAL,ve.MissingRequiredFieldSpecification,"Missing required field specification. The field is required but not present on source",{field:i,name:o})})),delete e[s],a}function r(e,r){var i;if(e)if(Me(e)){i=[];for(var o=0;o<e.length;o++){var s=n(e[o],r+"["+o+"]");i.push(s)}}else t.throwInternal(me.CRITICAL,ve.ItemNotInArray,"This field was specified as an array in the contract but the item is not an array.\r\n",{name:r},!0);return i}function i(e,n,r){var i;return e&&(i={},Ae(e,(function(e,o){if("string"===n)void 0===o?i[e]="undefined":null===o?i[e]="null":o.toString?i[e]=o.toString():i[e]="invalid field: toString() is not defined.";else if("number"===n)if(void 0===o)i[e]="undefined";else if(null===o)i[e]="null";else{var s=parseFloat(o);isNaN(s)?i[e]="NaN":i[e]=s}else i[e]="invalid field: "+r+" is of unknown type.",t.throwInternal(me.CRITICAL,i[e],null,!0)}))),i}e.serialize=function(e){var r=n(e,"root");try{return St().stringify(r)}catch(e){t.throwInternal(me.CRITICAL,ve.CannotSerializeObject,e&&ke(e.toString)?e.toString():"Error serializing object",null,!0)}}}))}})),Ca=w((()=>{Nr(),ye(),pa=function(){function e(){var t=ft(),n=gt(),r=!1,i=!0;$(e,this,(function(e){try{if(t&&Tr.Attach(t,"online",a)&&(Tr.Attach(t,"offline",c),r=!0),n){var o=n.body||n;we(o.ononline)||(o.ononline=a,o.onoffline=c,r=!0)}if(r){var s=ht();s&&!xe(s.onLine)&&(i=s.onLine)}}catch(e){r=!1}function a(){i=!0}function c(){i=!1}e.isListening=r,e.isOnline=function(){var e=!0,t=ht();return r?e=i:t&&!xe(t.onLine)&&(e=t.onLine),e},e.isOffline=function(){return!e.isOnline()}}))}return e.Offline=new e,e}(),ga=pa.Offline})),ba=w((()=>{ha=function(){function e(){}return e.prototype.getHashCodeScore=function(t){return this.getHashCode(t)/e.INT_MAX_VALUE*100},e.prototype.getHashCode=function(t){if(""===t)return 0;for(;t.length<e.MIN_INPUT_LENGTH;)t=t.concat(t);for(var n=5381,r=0;r<t.length;++r)n=(n<<5)+n+t.charCodeAt(r),n&=n;return Math.abs(n)},e.INT_MAX_VALUE=2147483647,e.MIN_INPUT_LENGTH=8,e}()})),wa=w((()=>{ba(),Vs(),ma=function(){function e(){this.hashCodeGeneragor=new ha,this.keys=new Is}return e.prototype.getSamplingScore=function(e){return e.tags&&e.tags[this.keys.userId]?this.hashCodeGeneragor.getHashCodeScore(e.tags[this.keys.userId]):e.ext&&e.ext.user&&e.ext.user.id?this.hashCodeGeneragor.getHashCodeScore(e.ext.user.id):e.tags&&e.tags[this.keys.operationId]?this.hashCodeGeneragor.getHashCodeScore(e.tags[this.keys.operationId]):e.ext&&e.ext.telemetryTrace&&e.ext.telemetryTrace.traceID?this.hashCodeGeneragor.getHashCodeScore(e.ext.telemetryTrace.traceID):100*Math.random()},e}()})),xa=w((()=>{wa(),Vs(),Nr(),va=function(){function e(e,t){this.INT_MAX_VALUE=2147483647,this._logger=t||Kt(null),(e>100||e<0)&&(this._logger.throwInternal(me.WARNING,ve.SampleRateOutOfRange,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),e=100),this.sampleRate=e,this.samplingScoreGenerator=new ma}return e.prototype.isSampledIn=function(e){var t=this.sampleRate;return null==t||t>=100||e.baseType===Ko.dataType||this.samplingScoreGenerator.getSamplingScore(e)<t},e}()}));function Ta(e){try{return e.responseText}catch(e){}return null}var Ia,_a,ka,Pa,Ea,Aa,Ra=w((()=>{O(),Ys(),ya(),Sa(),Vs(),Nr(),Ca(),xa(),ye(),Ia=function(e){function t(){var n=e.call(this)||this;n.priority=1001,n.identifier=As,n._XMLHttpRequestSupported=!1;var r,i,o,a,c,l={};return $(t,n,(function(e,u){function d(){Ye("Method not implemented.")}function f(t,n,i,o,s,a){var c=null;if(e._appId||(c=v(a))&&c.appId&&(e._appId=c.appId),(t<200||t>=300)&&0!==t){if((301===t||307===t||308===t)&&!p(i))return void e._onError(n,s);!e._senderConfig.isRetryDisabled()&&C(t)?(y(n),e.diagLog().throwInternal(me.WARNING,ve.TransmissionFailed,". Response code "+t+". Will retry to send "+n.length+" items.")):e._onError(n,s)}else ga.isOffline()?e._senderConfig.isRetryDisabled()||(y(n,10),e.diagLog().throwInternal(me.WARNING,ve.TransmissionFailed,". Offline - Response Code: "+t+". Offline status: "+ga.isOffline()+". Will retry to send "+n.length+" items.")):(p(i),206===t?(c||(c=v(a)),c&&!e._senderConfig.isRetryDisabled()?e._onPartialSuccess(n,c):e._onError(n,s)):(r=0,e._onSuccess(n,o)))}function p(t){return!(c>=10||xe(t)||""===t||t===e._senderConfig.endpointUrl()||(e._senderConfig.endpointUrl=function(){return t},++c,0))}function g(t,n){var r=e._senderConfig.endpointUrl(),i=e._buffer.batchPayloads(t),o=new Blob([i],{type:"text/plain;charset=UTF-8"});ht().sendBeacon(r,o)?(e._buffer.markAsSent(t),e._onSuccess(t,t.length)):(h(t,!0),e.diagLog().throwInternal(me.WARNING,ve.TransmissionFailed,". Failed to send telemetry with Beacon API, retried with xhrSender."))}function h(t,n){var r=new XMLHttpRequest,i=e._senderConfig.endpointUrl();try{r[oi]=!0}catch(e){}r.open("POST",i,n),r.setRequestHeader("Content-type","application/json"),Ui(i)&&r.setRequestHeader(Lr.sdkContextHeader,Lr.sdkContextHeaderAppIdRequest),Ve(ze(l),(function(e){r.setRequestHeader(e,l[e])})),r.onreadystatechange=function(){return e._xhrReadyStateChange(r,t,t.length)},r.onerror=function(n){return e._onError(t,b(r),n)};var o=e._buffer.batchPayloads(t);r.send(o),e._buffer.markAsSent(t)}function m(t,n){var r=e._senderConfig.endpointUrl(),i=e._buffer.batchPayloads(t),o=new Blob([i],{type:"text/plain;charset=UTF-8"}),s=new Headers;Ui(r)&&s.append(Lr.sdkContextHeader,Lr.sdkContextHeaderAppIdRequest),Ve(ze(l),(function(e){s.append(e,l[e])}));var a=new Request(r,{method:"POST",headers:s,body:o});fetch(a).then((function(n){if(!n.ok)throw Error(n.statusText);n.text().then((function(e){f(n.status,t,n.url,t.length,n.statusText,e)})),e._buffer.markAsSent(t)})).catch((function(n){e._onError(t,n.message)}))}function v(t){try{if(t&&""!==t){var n=St().parse(t);if(n&&n.itemsReceived&&n.itemsReceived>=n.itemsAccepted&&n.itemsReceived-n.itemsAccepted===n.errors.length)return n}}catch(n){e.diagLog().throwInternal(me.CRITICAL,ve.InvalidBackendResponse,"Cannot parse the response. "+Je(n),{response:t})}return null}function y(t,n){if(void 0===n&&(n=1),t&&0!==t.length){e._buffer.clearSent(t),r++;for(var o=0,s=t;o<s.length;o++){var a=s[o];e._buffer.enqueue(a)}(function(e){var t;if(r<=1)t=10;else{var n=(Math.pow(2,r)-1)/2,o=Math.floor(Math.random()*n*10)+1;o*=e,t=Math.max(Math.min(o,3600),10)}var s=We()+1e3*t;i=s})(n),S()}}function S(){if(!o){var t=i?Math.max(0,i-We()):0,n=Math.max(e._senderConfig.maxBatchInterval(),t);o=setTimeout((function(){e.triggerSend(!0,null,1)}),n)}}function C(e){return 408===e||429===e||500===e||503===e}function b(e,t){return e?"XMLHttpRequest,Status:"+e.status+",Response:"+Ta(e)||0:t}function w(t,n){var r=ft(),i=new XDomainRequest;i.onload=function(){return e._xdrOnLoad(i,t)},i.onerror=function(n){return e._onError(t,x(i),n)};var o=r&&r.location&&r.location.protocol||"";if(0!==e._senderConfig.endpointUrl().lastIndexOf(o,0))return e.diagLog().throwInternal(me.WARNING,ve.TransmissionFailed,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),void e._buffer.clear();var s=e._senderConfig.endpointUrl().replace(/^(https?:)/,"");i.open("POST",s);var a=e._buffer.batchPayloads(t);i.send(a),e._buffer.markAsSent(t)}function x(e,t){return e?"XDomainRequest,Response:"+Ta(e)||0:t}e.pause=d,e.resume=d,e.flush=function(){try{e.triggerSend(!0,null,1)}catch(t){e.diagLog().throwInternal(me.CRITICAL,ve.FlushFailed,"flush failed, telemetry will not be collected: "+Je(t),{exception:wt(t)})}},e.onunloadFlush=function(){if(!1!==e._senderConfig.onunloadDisableBeacon()&&!1!==e._senderConfig.isBeaconApiDisabled()||!ni())e.flush();else try{e.triggerSend(!0,g,2)}catch(t){e.diagLog().throwInternal(me.CRITICAL,ve.FailedToSendQueuedTelemetry,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+Je(t),{exception:wt(t)})}},e.teardown=d,e.addHeader=function(e,t){l[e]=t},e.initialize=function(o,l,d,f){u.initialize(o,l,d,f);var p=e._getTelCtx(),v=e.identifier;a=new fa(l.logger),r=0,i=null,e._sender=null,c=0;var y=t._getDefaultAppInsightsChannelConfig();if(e._senderConfig=t._getEmptyAppInsightsChannelConfig(),Ae(y,(function(t,n){e._senderConfig[t]=function(){return p.getConfig(v,t,n())}})),e._buffer=e._senderConfig.enableSessionStorageBuffer()&&Ti()?new Gs(e.diagLog(),e._senderConfig):new $s(e._senderConfig),e._sample=new va(e._senderConfig.samplingPercentage(),e.diagLog()),function(e){return!(xe(e.disableInstrumentationKeyValidation)||!e.disableInstrumentationKeyValidation)||new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$").test(e.instrumentationKey)}(o)||e.diagLog().throwInternal(me.CRITICAL,ve.InvalidInstrumentationKey,"Invalid Instrumentation key "+o.instrumentationKey),!Ui(e._senderConfig.endpointUrl())&&e._senderConfig.customHeaders()&&e._senderConfig.customHeaders().length>0&&Ve(e._senderConfig.customHeaders(),(function(e){n.addHeader(e.header,e.value)})),!e._senderConfig.isBeaconApiDisabled()&&ni())e._sender=g;else{var S=ut("XMLHttpRequest");S?"withCredentials"in new S?(e._sender=h,e._XMLHttpRequestSupported=!0):typeof XDomainRequest!==s&&(e._sender=w):ut("fetch")&&(e._sender=m)}},e.processTelemetry=function(n,r){r=e._getTelCtx(r);try{if(e._senderConfig.disableTelemetry())return;if(!n)return void r.diagLog().throwInternal(me.CRITICAL,ve.CannotSendEmptyTelemetry,"Cannot send empty telemetry");if(n.baseData&&!n.baseType)return void r.diagLog().throwInternal(me.CRITICAL,ve.InvalidEvent,"Cannot send telemetry without baseData and baseType");if(n.baseType||(n.baseType="EventData"),!e._sender)return void r.diagLog().throwInternal(me.CRITICAL,ve.SenderNotInitialized,"Sender was not initialized");if(!function(t){return e._sample.isSampledIn(t)}(n))return void r.diagLog().throwInternal(me.WARNING,ve.TelemetrySampledAndNotSent,"Telemetry item was sampled out and not sent",{SampleRate:e._sample.sampleRate});n[si]=e._sample.sampleRate;var i=t.constructEnvelope(n,e._senderConfig.instrumentationKey(),r.diagLog());if(!i)return void r.diagLog().throwInternal(me.CRITICAL,ve.CreateEnvelopeError,"Unable to create an AppInsights envelope");var o=!1;if(n.tags&&n.tags[ai]&&(Ve(n.tags[ai],(function(e){try{e&&!1===e(i)&&(o=!0,r.diagLog().warnToConsole("Telemetry processor check returns false"))}catch(e){r.diagLog().throwInternal(me.CRITICAL,ve.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+Je(e),{exception:wt(e)},!0)}})),delete n.tags[ai]),o)return;var s=a.serialize(i),c=e._buffer.getItems(),l=e._buffer.batchPayloads(c);l&&l.length+s.length>e._senderConfig.maxBatchSizeInBytes()&&e.triggerSend(!0,null,10),e._buffer.enqueue(s),S()}catch(e){r.diagLog().throwInternal(me.WARNING,ve.FailedAddingTelemetryToBuffer,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+Je(e),{exception:wt(e)})}e.processNext(n,r)},e._xhrReadyStateChange=function(e,t,n){4===e.readyState&&f(e.status,t,e.responseURL,n,b(e),Ta(e)||e.response)},e.triggerSend=function(t,r,s){void 0===t&&(t=!0);try{if(e._senderConfig.disableTelemetry())e._buffer.clear();else{if(e._buffer.count()>0){var a=e._buffer.getItems();(function(t,n){var r=function(){var t="getNotifyMgr";return e.core[t]?e.core[t]():e.core._notificationManager}();if(r&&r.eventsSendRequest)try{r.eventsSendRequest(t,n)}catch(t){e.diagLog().throwInternal(me.CRITICAL,ve.NotificationException,"send request notification failed: "+Je(t),{exception:wt(t)})}})(s||0,t),r?r.call(n,a,t):e._sender(a,t)}new Date}clearTimeout(o),o=null,i=null}catch(t){var c=bt();(!c||c>9)&&e.diagLog().throwInternal(me.CRITICAL,ve.TransmissionFailed,"Telemetry transmission failed, some telemetry will be lost: "+Je(t),{exception:wt(t)})}},e._onError=function(t,n,r){e.diagLog().throwInternal(me.WARNING,ve.OnError,"Failed to send telemetry.",{message:n}),e._buffer.clearSent(t)},e._onPartialSuccess=function(t,n){for(var r=[],i=[],o=0,s=n.errors.reverse();o<s.length;o++){var a=s[o],c=t.splice(a.index,1)[0];C(a.statusCode)?i.push(c):r.push(c)}t.length>0&&e._onSuccess(t,n.itemsAccepted),r.length>0&&e._onError(r,b(null,["partial success",n.itemsAccepted,"of",n.itemsReceived].join(" "))),i.length>0&&(y(i),e.diagLog().throwInternal(me.WARNING,ve.TransmissionFailed,"Partial success. Delivered: "+t.length+", Failed: "+r.length+". Will retry to send "+i.length+" our of "+n.itemsReceived+" items"))},e._onSuccess=function(t,n){e._buffer.clearSent(t)},e._xdrOnLoad=function(t,n){var i=Ta(t);if(!t||i+""!="200"&&""!==i){var o=v(i);o&&o.itemsReceived&&o.itemsReceived>o.itemsAccepted&&!e._senderConfig.isRetryDisabled()?e._onPartialSuccess(n,o):e._onError(n,x(t))}else r=0,e._onSuccess(n,0)}})),n}return A(t,e),t.constructEnvelope=function(e,t,n){var r;switch((r=t===e.iKey||xe(t)?e:D({},e,{iKey:t})).baseType){case so.dataType:return sa.EventEnvelopeCreator.Create(n,r);case Jo.dataType:return da.TraceEnvelopeCreator.Create(n,r);case Bo.dataType:return la.PageViewEnvelopeCreator.Create(n,r);case Go.dataType:return ua.PageViewPerformanceEnvelopeCreator.Create(n,r);case Fo.dataType:return aa.ExceptionEnvelopeCreator.Create(n,r);case Ko.dataType:return ca.MetricEnvelopeCreator.Create(n,r);case Ho.dataType:return oa.DependencyEnvelopeCreator.Create(n,r);default:return sa.EventEnvelopeCreator.Create(n,r)}},t._getDefaultAppInsightsChannelConfig=function(){return{endpointUrl:function(){return"https://dc.services.visualstudio.com/v2/track"},emitLineDelimitedJson:function(){return!1},maxBatchInterval:function(){return 15e3},maxBatchSizeInBytes:function(){return 102400},disableTelemetry:function(){return!1},enableSessionStorageBuffer:function(){return!0},isRetryDisabled:function(){return!1},isBeaconApiDisabled:function(){return!0},onunloadDisableBeacon:function(){return!1},instrumentationKey:function(){},namePrefix:function(){},samplingPercentage:function(){return 100},customHeaders:function(){}}},t._getEmptyAppInsightsChannelConfig=function(){return{endpointUrl:void 0,emitLineDelimitedJson:void 0,maxBatchInterval:void 0,maxBatchSizeInBytes:void 0,disableTelemetry:void 0,enableSessionStorageBuffer:void 0,isRetryDisabled:void 0,isBeaconApiDisabled:void 0,onunloadDisableBeacon:void 0,instrumentationKey:void 0,namePrefix:void 0,samplingPercentage:void 0,customHeaders:void 0}},t}(rn)})),Da=w((()=>{Ra()})),Ma=w((()=>{ye(),Vs(),Nr(),_a=function(){},ka=function(){function e(t,n){var r,i,o=Kt(n),s=Sn(n);$(e,this,(function(n){t||(t={}),ke(t.sessionExpirationMs)||(t.sessionExpirationMs=function(){return e.acquisitionSpan}),ke(t.sessionRenewalMs)||(t.sessionRenewalMs=function(){return e.renewalSpan}),n.config=t;var a=n.config.sessionCookiePostfix&&n.config.sessionCookiePostfix()?n.config.sessionCookiePostfix():n.config.namePrefix&&n.config.namePrefix()?n.config.namePrefix():"";function c(e,t){var n=!1,r=", session will be reset",i=t.split("|");if(i.length>=2)try{var s=+i[1]||0,a=+i[2]||0;isNaN(s)||s<=0?o.throwInternal(me.WARNING,ve.SessionRenewalDateIsZero,"AI session acquisition date is 0"+r):isNaN(a)||a<=0?o.throwInternal(me.WARNING,ve.SessionRenewalDateIsZero,"AI session renewal date is 0"+r):i[0]&&(e.id=i[0],e.acquisitionDate=s,e.renewalDate=a,n=!0)}catch(e){o.throwInternal(me.CRITICAL,ve.ErrorParsingAISessionCookie,"Error parsing ai_session value ["+(t||"")+"]"+r+" - "+Je(e),{exception:wt(e)})}return n}function l(e,t){var o=e.acquisitionDate;e.renewalDate=t;var a,c=n.config,l=c.sessionRenewalMs(),u=o+c.sessionExpirationMs()-t,d=[e.id,o,t];a=u<l?u/1e3:l/1e3;var f=c.cookieDomain?c.cookieDomain():null;s.set(r(),d.join("|"),c.sessionExpirationMs()>0?a:null,f),i=t}r=function(){return"ai_session"+a},n.automaticSession=new _a,n.update=function(){var t=We(),a=!1,u=n.automaticSession;u.id||(a=!function(e,t){var n=!1,i=s.get(r());if(i&&ke(i.split))n=c(e,i);else{var a=bi(o,r());a&&(n=c(e,a))}return n||!!e.id}(u));var d=n.config.sessionExpirationMs();if(!a&&d>0){var f=n.config.sessionRenewalMs(),p=t-u.acquisitionDate,g=t-u.renewalDate;a=(a=(a=p<0||g<0)||p>d)||g>f}a?function(e){var t=n.config||{},r=(t.getNewId?t.getNewId():null)||fr;n.automaticSession.id=r(t.idLength?t.idLength():22),n.automaticSession.acquisitionDate=e,l(n.automaticSession,e),Ci()||o.throwInternal(me.WARNING,ve.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")}(t):(!i||t-i>e.cookieUpdateInterval)&&l(u,t)},n.backup=function(){var e=n.automaticSession;!function(e,t,n){wi(o,r(),[e,t,n].join("|"))}(e.id,e.acquisitionDate,e.renewalDate)}}))}return e.acquisitionSpan=864e5,e.renewalSpan=18e5,e.cookieUpdateInterval=6e4,e}()})),Fa=w((()=>{Pa=function(){}})),La=w((()=>{Ea=function(){this.id="browser",this.deviceClass="Browser"}})),Oa=w((()=>{Aa=function(e){this.sdkVersion=(e.sdkExtension&&e.sdkExtension()?e.sdkExtension()+"_":"")+"javascript:2.6.4"}}));function Na(e){return!("string"!=typeof e||!e||e.match(/,|;|=| |\|/))}var ja,Va,qa,Ka=w((()=>{ye(),Vs(),Nr(),ja=function(){function e(t,n){this.isNewUser=!1;var r,i=Kt(n),o=Sn(n);$(e,this,(function(n){n.config=t;var s=n.config.userCookiePostfix&&n.config.userCookiePostfix()?n.config.userCookiePostfix():"";r=function(){return e.userCookieName+s};var a=o.get(r());if(a){n.isNewUser=!1;var c=a.split(e.cookieSeparator);c.length>0&&(n.id=c[0])}if(!n.id){var l=t||{},u=(l.getNewId?l.getNewId():null)||fr;n.id=u(l.idLength?t.idLength():22);var d=je(new Date);n.accountAcquisitionDate=d,n.isNewUser=!0;var f=[n.id,d];o.set(r(),f.join(e.cookieSeparator),31536e3);var p=t.namePrefix&&t.namePrefix()?t.namePrefix()+"ai_session":"ai_session";xi(i,p)}n.accountId=t.accountId?t.accountId():void 0;var g=o.get(e.authUserCookieName);if(g){var h=(g=decodeURI(g)).split(e.cookieSeparator);h[0]&&(n.authenticatedId=h[0]),h.length>1&&h[1]&&(n.accountId=h[1])}n.setAuthenticatedUserContext=function(t,r,s){if(void 0===s&&(s=!1),!Na(t)||r&&!Na(r))i.throwInternal(me.WARNING,ve.SetAuthContextFailedAccountName,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);else{n.authenticatedId=t;var a=n.authenticatedId;r&&(n.accountId=r,a=[n.authenticatedId,n.accountId].join(e.cookieSeparator)),s&&o.set(e.authUserCookieName,encodeURI(a))}},n.clearAuthenticatedUserContext=function(){n.authenticatedId=null,n.accountId=null,o.del(e.authUserCookieName)}}))}return e.cookieSeparator="|",e.userCookieName="ai_user",e.authUserCookieName="ai_authUser",e}()})),Ua=w((()=>{Va=function(){}})),Ba=w((()=>{Vs(),Nr(),qa=function(e,t,n,r){var i=this;i.traceID=e||pr(),i.parentID=t,i.name=n;var o=mt();!n&&o&&o.pathname&&(i.name=o.pathname),i.name=Kr(r,i.name)}}));function za(e,t){e&&e[t]&&0===ze(e[t]).length&&delete e[t]}var Ha,Wa,Ja,$a,Ga,Xa=w((()=>{ye(),Nr(),Ma(),Vs(),Fa(),La(),Oa(),Ka(),Ua(),Ba(),Ha="ext",Wa="tags",Ja=function e(t,n){var r=this,i=t.logger;this.appId=function(){return null},$(e,this,(function(e){e.application=new Pa,e.internal=new Aa(n),dt()&&(e.sessionManager=new ka(n,t),e.device=new Ea,e.location=new Va,e.user=new ja(n,t),e.telemetryTrace=new qa(void 0,void 0,void 0,i),e.session=new _a),e.applySessionContext=function(t,n){var r=e.session,i=e.sessionManager;r&&Le(r.id)?$e(Ge(t.ext,ks.AppExt),"sesId",r.id):i&&i.automaticSession&&$e(Ge(t.ext,ks.AppExt),"sesId",i.automaticSession.id,Le)},e.applyOperatingSystemContxt=function(t,n){$e(t.ext,ks.OSExt,e.os)},e.applyApplicationContext=function(t,n){var r=e.application;if(r){var i=Ge(t,Wa);$e(i,Ps.applicationVersion,r.ver,Le),$e(i,Ps.applicationBuild,r.build,Le)}},e.applyDeviceContext=function(t,n){var r=e.device;if(r){var i=Ge(Ge(t,Ha),ks.DeviceExt);$e(i,"localId",r.id,Le),$e(i,"ip",r.ip,Le),$e(i,"model",r.model,Le),$e(i,"deviceClass",r.deviceClass,Le)}},e.applyInternalContext=function(t,n){var r=e.internal;if(r){var i=Ge(t,Wa);$e(i,Ps.internalAgentVersion,r.agentVersion,Le),$e(i,Ps.internalSdkVersion,r.sdkVersion,Le),(t.baseType===Ut.dataType||t.baseType===Bo.dataType)&&($e(i,Ps.internalSnippet,r.snippetVer,Le),$e(i,Ps.internalSdkSrc,r.sdkSrc,Le))}},e.applyLocationContext=function(e,t){var n=r.location;n&&$e(Ge(e,Wa,[]),Ps.locationIp,n.ip,Le)},e.applyOperationContext=function(t,n){var r=e.telemetryTrace;if(r){var i=Ge(Ge(t,Ha),ks.TraceExt,{traceID:void 0,parentID:void 0});$e(i,"traceID",r.traceID,Le),$e(i,"name",r.name,Le),$e(i,"parentID",r.parentID,Le)}},e.applyWebContext=function(e,t){var n=r.web;n&&$e(Ge(e,Ha),ks.WebExt,n)},e.applyUserContext=function(t,n){var r=e.user;if(r){$e(Ge(t,Wa,[]),Ps.userAccountId,r.accountId,Le);var i=Ge(Ge(t,Ha),ks.UserExt);$e(i,"id",r.id,Le),$e(i,"authId",r.authenticatedId,Le)}},e.cleanUp=function(e,t){var n=e.ext;n&&(za(n,ks.DeviceExt),za(n,ks.UserExt),za(n,ks.WebExt),za(n,ks.OSExt),za(n,ks.AppExt),za(n,ks.TraceExt))}}))}})),Qa=w((()=>{O(),ye(),Nr(),Xa(),Vs(),$a=function(e){function t(){var n,r,i=e.call(this)||this;return i.priority=110,i.identifier=Es,$(t,i,(function(e,i){e.initialize=function(o,s,a,c){i.initialize(o,s,a,c);var l=e._getTelCtx(),u=e.identifier,d=t.getDefaultConfig();r=r||{},Ae(d,(function(e,t){r[e]=function(){return l.getConfig(u,e,t())}})),e.context=new Ja(s,r),n=ri(a,As),e.context.appId=function(){return n?n._appId:null},e._extConfig=r},e.processTelemetry=function(t,n){if(!xe(t)){n=e._getTelCtx(n),t.name===Bo.envelopeType&&n.diagLog().resetInternalMessageCount();var r=e.context||{};if(r.session&&"string"!=typeof e.context.session.id&&r.sessionManager&&r.sessionManager.update(),function(t,n){Ge(t,"tags",[]),Ge(t,"ext",{});var r=e.context;r.applySessionContext(t,n),r.applyApplicationContext(t,n),r.applyDeviceContext(t,n),r.applyOperationContext(t,n),r.applyUserContext(t,n),r.applyOperatingSystemContxt(t,n),r.applyWebContext(t,n),r.applyLocationContext(t,n),r.applyInternalContext(t,n),r.cleanUp(t,n)}(t,n),r.user&&r.user.isNewUser){r.user.isNewUser=!1;var i=new Ut(ve.SendBrowserInfoOnUserInit,(ht()||{}).userAgent||"");n.diagLog().logInternalMessage(me.CRITICAL,i)}e.processNext(t,n)}}})),i}return A(t,e),t.getDefaultConfig=function(){return{instrumentationKey:function(){},accountId:function(){return null},sessionRenewalMs:function(){return 18e5},samplingPercentage:function(){return 100},sessionExpirationMs:function(){return 864e5},cookieDomain:function(){return null},sdkExtension:function(){return null},isBrowserLinkTrackingEnabled:function(){return!1},appId:function(){return null},namePrefix:function(){},sessionCookiePostfix:function(){},userCookiePostfix:function(){},idLength:function(){return 22},getNewId:function(){return null}}},t}(rn),Ga=$a})),Ya=w((()=>{Qa()}));function Za(e,t,n){var r=0,i=e[t],o=e[n];return i&&o&&(r=zi(i,o)),r}function ec(e,t,n,r,i){var o=0,s=Za(n,r,i);return s&&(o=tc(e,t,ti(s))),o}function tc(e,t,n){var r="ajaxPerf",i=0;return e&&t&&n&&((e[r]=e[r]||{})[t]=n,i=1),i}var nc,rc,ic,oc,sc=w((()=>{Vs(),Nr(),ye(),nc="properties",rc=function(){var e=this;e.openDone=!1,e.setRequestHeaderDone=!1,e.sendDone=!1,e.abortDone=!1,e.stateChangeAttached=!1},ic=function e(t,n,r){var i=this,o=r,s="responseText";i.perfMark=null,i.completed=!1,i.requestHeadersSize=null,i.requestHeaders=null,i.responseReceivingDuration=null,i.callbackDuration=null,i.ajaxTotalDuration=null,i.aborted=0,i.pageUrl=null,i.requestUrl=null,i.requestSize=0,i.method=null,i.status=null,i.requestSentTime=null,i.responseStartedTime=null,i.responseFinishedTime=null,i.callbackFinishedTime=null,i.endTime=null,i.xhrMonitoringState=new rc,i.clientFailure=0,i.traceID=t,i.spanID=n,$(e,i,(function(e){e.getAbsoluteUrl=function(){return e.requestUrl?Mi(e.requestUrl):null},e.getPathName=function(){return e.requestUrl?Ur(o,Li(e.method,e.requestUrl)):null},e.CreateTrackItem=function(t,n,r){if(e.ajaxTotalDuration=Math.round(1e3*zi(e.requestSentTime,e.responseFinishedTime))/1e3,e.ajaxTotalDuration<0)return null;var i,o=((i={id:"|"+e.traceID+"."+e.spanID,target:e.getAbsoluteUrl(),name:e.getPathName(),type:t,startTime:null,duration:e.ajaxTotalDuration,success:+e.status>=200&&+e.status<400,responseCode:+e.status,method:e.method})[nc]={HttpMethod:e.method},i);if(e.requestSentTime&&(o.startTime=new Date,o.startTime.setTime(e.requestSentTime)),function(e,t){var n=e.perfTiming,r=t[nc]||{},i=0,o="name",s="Start",a="End",c="connect",l="redirect",u="request",d="response",f="duration",p="startTime",g=c+a,h=u+s,m=d+a,v=l+s,y=l=a,S="transferSize",C="encodedBodySize",b="decodedBodySize",w="serverTiming";if(n){i|=ec(r,l,n,v,y),i|=ec(r,"domainLookup",n,"domainLookupStart","domainLookupEnd"),i|=ec(r,c,n,"connectStart",g),i|=ec(r,u,n,h,"requestEnd"),i|=ec(r,d,n,"responseStart",m),i|=ec(r,"networkConnect",n,p,g),i|=ec(r,"sentRequest",n,h,m);var x=n[f];x||(x=Za(n,p,m)||0),i|=tc(r,f,x),i|=tc(r,"perfTotal",x);var T=n[w];if(T){var I={};Ve(T,(function(e,t){var n=function(e){var t=e,n=/([^\w\d_$])/g;return n.test(e)&&(t=e.replace(n,"_")),t}(e[o]||""+t),r=I[n]||{};Ae(e,(function(e,t){(e!==o&&Le(t)||Oe(t))&&(r[e]&&(t=r[e]+";"+t),(t||!Le(t))&&(r[e]=t))})),I[n]=r})),i|=tc(r,w,I)}i|=tc(r,S,n[S]),i|=tc(r,C,n[C]),i|=tc(r,b,n[b])}else e.perfMark&&(i|=tc(r,"missing",e.perfAttempts));i&&(t[nc]=r)}(e,o),n&&ze(e.requestHeaders).length>0&&(o[nc]=o[nc]||{},o[nc].requestHeaders=e.requestHeaders),r){var a=r();if(a){var c=a.correlationContext;if(c&&(o.correlationContext=c),a.headerMap&&ze(a.headerMap).length>0&&(o[nc]=o[nc]||{},o[nc].responseHeaders=a.headerMap),e.status>=400){var l=a.type;o[nc]=o[nc]||{},(""===l||"text"===l)&&(o[nc][s]=a[s]?a.statusText+" - "+a[s]:a.statusText),"json"===l&&(o[nc][s]=a.response?a.statusText+" - "+JSON.stringify(a.response):a.statusText)}}}return o}}))}})),ac=w((()=>{Nr(),Nr(),function(){function e(){}e.GetLength=function(e){var t=0;if(!xe(e)){var n="";try{n=e.toString()}catch(e){}t=n.length,t=isNaN(t)?0:t}return t}}()})),cc=w((()=>{Nr(),oc=function(){function e(t,n){var r=this;r.traceFlag=e.DEFAULT_TRACE_FLAG,r.version=e.DEFAULT_VERSION,t&&e.isValidTraceId(t)?r.traceId=t:r.traceId=pr(),n&&e.isValidSpanId(n)?r.spanId=n:r.spanId=pr().substr(0,16)}return e.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&"00000000000000000000000000000000"!==e},e.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&"0000000000000000"!==e},e.prototype.toString=function(){var e=this;return e.version+"-"+e.traceId+"-"+e.spanId+"-"+e.traceFlag},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}()}));function lc(e){var t="";try{!xe(e)&&!xe(e[mc])&&!xe(e[mc].requestUrl)&&(t+="(url: '"+e[mc].requestUrl+"')")}catch(e){}return t}function uc(e,t,n,r,i){e[hc]()[vc](me.CRITICAL,t,n,r,i)}function dc(e,t,n,r,i){e[hc]()[vc](me.WARNING,t,n,r,i)}function fc(e,t,n){return function(r){uc(e,t,n,{ajaxDiagnosticsMessage:lc(r.inst),exception:wt(r.err)})}}function pc(e,t){return e&&t?e.indexOf(t):-1}var gc,hc,mc,vc,yc,Sc,Cc,bc,wc,xc,Tc,Ic,_c,kc,Pc=w((()=>{O(),Vs(),Nr(),sc(),ac(),cc(),ye(),gc="ai.ajxmn.",hc="diagLog",mc="ajaxData",vc="throwInternal",yc="fetch",Sc=0,Cc=function(e){function t(){var n=e.call(this)||this;n.identifier=t.identifier,n.priority=120;var r,i,o,c,l,u="trackDependencyDataInternal",d=mt(),f=!1,p=!1,g=d&&d.host&&d.host.toLowerCase(),h=t.getEmptyConfig(),m=!1,v=0,y=!1,S=0,C=!1,b=[],w={};return $(t,n,(function(e,n){function d(e){var t=!0;return(e||h.ignoreHeaders)&&Ve(h.ignoreHeaders,(function(n){if(n.toLowerCase()===e.toLowerCase())return t=!1,-1})),t}function x(e,t,n){b.push(function(e,t,n){return e?Er(e[a],t,n,!1):null}(e,t,n))}function T(e,t,n){var r=!1,i=((Le(t)?t:(t||{}).url||"")||"").toLowerCase();if(Ve(l,(function(e){var t=e;Le(e)&&(t=new RegExp(e)),r||(r=t.test(i))})),r)return r;var o=pc(i,"?"),s=pc(i,"#");return(-1===o||-1!==s&&s<o)&&(o=s),-1!==o&&(i=i.substring(0,o)),xe(e)?xe(t)||(r="object"==typeof t&&!0===t[oi]||!!n&&!0===n[oi]):r=!0===e[oi]||!0===i[oi],r?w[i]||(w[i]=1):w[i]&&(r=!0),r}function I(e,t){var n=!0,r=p;return xe(e)||(n=!0===t||!xe(e[mc])),r&&n}function k(e){try{var t=e.responseType;if(""===t||"text"===t)return e.responseText}catch(e){}return null}function P(t){try{var n=t.getAllResponseHeaders();if(null!==n&&-1!==pc(n.toLowerCase(),Lr.requestContextHeaderLowerCase)){var r=t.getResponseHeader(Lr.requestContextHeader);return $i.getCorrelationContext(r)}}catch(n){dc(e,ve.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{ajaxDiagnosticsMessage:lc(t),exception:wt(n)})}}function E(e,t){if(t.requestUrl&&c&&y){var n=vt();if(n&&ke(n.mark)){Sc++;var r=c+e+"#"+Sc;n.mark(r);var i=n.getEntriesByName(r);i&&1===i.length&&(t.perfMark=i[0])}}}function A(e,t,n,r){var i=t.perfMark,o=vt(),s=h.maxAjaxPerfLookupAttempts,a=h.ajaxPerfLookupDelay,c=t.requestUrl,l=0;!function u(){try{if(o&&i){l++;for(var d=null,f=o.getEntries(),p=f.length-1;p>=0;p--){var g=f[p];if(g){if("resource"===g.entryType)g.initiatorType===e&&(-1!==pc(g.name,c)||-1!==pc(c,g.name))&&(d=g);else if("mark"===g.entryType&&g.name===i.name){t.perfTiming=d;break}if(g.startTime<i.startTime-1e3)break}}}!i||t.perfTiming||l>=s||!1===t.async?(i&&ke(o.clearMarks)&&o.clearMarks(i.name),t.perfAttempts=l,n()):setTimeout(u,a)}catch(e){r(e)}}()}function R(t){var n="";try{xe(t)||(n+="string"==typeof t?"(url: '"+t+"')":"(url: '"+t.url+"')")}catch(t){uc(e,ve.FailedMonitorAjaxOpen,"Failed to grab failed fetch diagnostics message",{exception:wt(t)})}return n}function D(t,n,r,i,o,s){function a(t,n,i){var o=i||{};o.fetchDiagnosticsMessage=R(r),n&&(o.exception=wt(n)),dc(e,t,"Failed to calculate the duration of the fetch call, monitoring data for this fetch call won't be sent.",o)}i&&(i.responseFinishedTime=Bi(),i.status=n,A("fetch",i,(function(){var t=i.CreateTrackItem("Fetch",m,o);t?e[u](t):a(ve.FailedMonitorAjaxDur,null,{requestSentTime:i.requestSentTime,responseFinishedTime:i.responseFinishedTime})}),(function(e){a(ve.FailedMonitorAjaxGetCorrelationHeader,e,null)})))}function M(t){if(t&&t.headers)try{var n=t.headers.get(Lr.requestContextHeader);return $i.getCorrelationContext(n)}catch(n){dc(e,ve.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{fetchDiagnosticsMessage:R(t),exception:wt(n)})}}e.initialize=function(g,v,w,R){if(!e.isInitialized()){n.initialize(g,v,w,R);var F=e._getTelCtx();Ae(t.getDefaultConfig(),(function(e,n){h[e]=F.getConfig(t.identifier,e,n)}));var L=h.distributedTracingMode;if(m=h.enableRequestHeaderTracking,y=h.enableAjaxPerfTracking,S=h.maxAjaxCallsPerView,C=h.enableResponseHeaderTracking,l=h.excludeRequestFromAutoTrackingPatterns,o=L===fi.AI||L===fi.AI_AND_W3C,i=L===fi.AI_AND_W3C||L===fi.W3C,y){var O=g.instrumentationKey||"unkwn";c=O.length>5?gc+O.substring(O.length-5)+".":gc+O+"."}if(!1===h.disableAjaxTracking&&function(e){var t=!1;if(typeof XMLHttpRequest!==s&&!xe(XMLHttpRequest)){var n=XMLHttpRequest[a];t=!(xe(n)||xe(n.open)||xe(n.send)||xe(n.abort))}var r=bt();if(r&&r<9&&(t=!1),t)try{(new XMLHttpRequest)[mc]={};var i=XMLHttpRequest[a].open;XMLHttpRequest[a].open=i}catch(n){t=!1,uc(e,ve.FailedMonitorAjaxOpen,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:wt(n)})}return t}(e)&&!p&&(x(XMLHttpRequest,"open",{req:function(t,n,i,o){var s=t.inst,a=s[mc];!T(s,i)&&I(s,!0)&&(!a||!a.xhrMonitoringState.openDone)&&function(t,n,i,o){var s=r&&r.telemetryTrace&&r.telemetryTrace.traceID||pr(),a=pr().substr(0,16),c=new ic(s,a,e[hc]());c.method=n,c.requestUrl=i,c.xhrMonitoringState.openDone=!0,c.requestHeaders={},c.async=o,t[mc]=c,function(t){t[mc].xhrMonitoringState.stateChangeAttached=Tr.Attach(t,"readystatechange",(function(){try{t&&4===t.readyState&&I(t)&&function(t){var n=t[mc];function r(n,r){var i=r||{};i.ajaxDiagnosticsMessage=lc(t),n&&(i.exception=wt(n)),dc(e,ve.FailedMonitorAjaxDur,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",i)}n.responseFinishedTime=Bi(),n.status=t.status,A("xmlhttprequest",n,(function(){try{var i=n.CreateTrackItem("Ajax",m,(function(){var e={statusText:t.statusText,headerMap:null,correlationContext:P(t),type:t.responseType,responseText:k(t),response:t.response};if(C){var n=t.getAllResponseHeaders();if(n){var r=Be(n).split(/[\r\n]+/),i={};Ve(r,(function(e){var t=e.split(": "),n=t.shift(),r=t.join(": ");d(n)&&(i[n]=r)})),e.headerMap=i}}return e}));i?e[u](i):r(null,{requestSentTime:n.requestSentTime,responseFinishedTime:n.responseFinishedTime})}finally{try{t[mc]=null}catch(e){}}}),(function(e){r(e,null)}))}(t)}catch(r){var n=wt(r);(!n||-1===pc(n.toLowerCase(),"c00c023f"))&&uc(e,ve.FailedMonitorAjaxRSC,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:lc(t),exception:n})}}))}(t)}(s,n,i,o)},hkErr:fc(e,ve.FailedMonitorAjaxOpen,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.")}),x(XMLHttpRequest,"send",{req:function(t,n){var r=t.inst,i=r[mc];I(r)&&!i.xhrMonitoringState.sendDone&&(E("xhr",i),i.requestSentTime=Bi(),e.includeCorrelationHeaders(i,void 0,void 0,r),i.xhrMonitoringState.sendDone=!0)},hkErr:fc(e,ve.FailedMonitorAjaxSend,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.")}),x(XMLHttpRequest,"abort",{req:function(e){var t=e.inst,n=t[mc];I(t)&&!n.xhrMonitoringState.abortDone&&(n.aborted=1,n.xhrMonitoringState.abortDone=!0)},hkErr:fc(e,ve.FailedMonitorAjaxAbort,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.")}),m&&x(XMLHttpRequest,"setRequestHeader",{req:function(e,t,n){var r=e.inst;I(r)&&d(t)&&(r[mc].requestHeaders[t]=n)},hkErr:fc(e,ve.FailedMonitorAjaxSetRequestHeader,"Failed to monitor XMLHttpRequest.setRequestHeader, monitoring data for this ajax call may be incorrect.")}),p=!0),function(){var t=function(){var e=_();return!e||xe(e.Request)||xe(e.Request[a])||xe(e[yc])?null:e[yc]}();if(t){var n=_(),i=t.polyfill;!1===h.disableFetchTracking?(b.push(Er(n,yc,{req:function(t,n,o){var s;if(f&&!T(null,n,o)&&(!i||!p)){var a=t.ctx();s=function(t,n){var i=r&&r.telemetryTrace&&r.telemetryTrace.traceID||pr(),o=pr().substr(0,16),s=new ic(i,o,e[hc]());s.requestSentTime=Bi(),t instanceof Request?s.requestUrl=t?t.url:"":s.requestUrl=t;var a="GET";n&&n.method?a=n.method:t&&t instanceof Request&&(a=t.method),s.method=a;var c={};return m&&new Headers((n?n.headers:0)||t instanceof Request&&t.headers||{}).forEach((function(e,t){d(t)&&(c[t]=e)})),s.requestHeaders=c,E("fetch",s),s}(n,o);var c=e.includeCorrelationHeaders(s,n,o);c!==o&&t.set(1,c),a.data=s}},rsp:function(e,t){var n=e.ctx().data;n&&(e.rslt=e.rslt.then((function(e){return D(0,(e||{}).status,e,n,(function(){var t={statusText:e.statusText,headerMap:null,correlationContext:M(e)};if(C){var n={};e.headers.forEach((function(e,t){d(t)&&(n[t]=e)})),t.headerMap=n}return t})),e})).catch((function(e){throw D(0,0,t,n,null,e.message),e})))},hkErr:fc(e,ve.FailedMonitorAjaxOpen,"Failed to monitor Window.fetch, monitoring data for this fetch call may be incorrect.")})),f=!0):i&&b.push(Er(n,yc,{req:function(e,t,n){T(null,t,n)}})),i&&(n[yc].polyfill=i)}}(),w.length>0&&w){for(var N=void 0,j=0;!N&&j<w.length;)w[j]&&w[j].identifier===Es&&(N=w[j]),j++;N&&(r=N.context)}}},e.teardown=function(){Ve(b,(function(e){e.rm()})),b=[],f=!1,p=!1,e.setInitialized(!1)},e.trackDependencyData=function(t,n){e[u](t,n)},e.includeCorrelationHeaders=function(t,n,s,a){var c=e._currentWindowHost||g;if(n){if($i.canIncludeCorrelationHeader(h,t.getAbsoluteUrl(),c)){if(s||(s={}),s.headers=new Headers(s.headers||n instanceof Request&&n.headers||{}),o){var l="|"+t.traceID+"."+t.spanID;s.headers.set(Lr.requestIdHeader,l),m&&(t.requestHeaders[Lr.requestIdHeader]=l)}if((d=h.appId||r&&r.appId())&&(s.headers.set(Lr.requestContextHeader,Lr.requestContextAppIdFormat+d),m&&(t.requestHeaders[Lr.requestContextHeader]=Lr.requestContextAppIdFormat+d)),i){var u=new oc(t.traceID,t.spanID);s.headers.set(Lr.traceParentHeader,u.toString()),m&&(t.requestHeaders[Lr.traceParentHeader]=u.toString())}}return s}if(a){var d;if($i.canIncludeCorrelationHeader(h,t.getAbsoluteUrl(),c))o&&(l="|"+t.traceID+"."+t.spanID,a.setRequestHeader(Lr.requestIdHeader,l),m&&(t.requestHeaders[Lr.requestIdHeader]=l)),(d=h.appId||r&&r.appId())&&(a.setRequestHeader(Lr.requestContextHeader,Lr.requestContextAppIdFormat+d),m&&(t.requestHeaders[Lr.requestContextHeader]=Lr.requestContextAppIdFormat+d)),i&&(u=new oc(t.traceID,t.spanID),a.setRequestHeader(Lr.traceParentHeader,u.toString()),m&&(t.requestHeaders[Lr.traceParentHeader]=u.toString()));return a}},e[u]=function(t,n,r){if(-1===S||v<S){(h.distributedTracingMode===fi.W3C||h.distributedTracingMode===fi.AI_AND_W3C)&&"string"==typeof t.id&&"."!==t.id[t.id.length-1]&&(t.id+="."),xe(t.startTime)&&(t.startTime=new Date);var i=_s.create(t,Ho.dataType,Ho.envelopeType,e[hc](),n,r);e.core.track(i)}else v===S&&uc(e,ve.MaxAjaxPerPVExceeded,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++v}})),n}return A(t,e),t.getDefaultConfig=function(){return{maxAjaxCallsPerView:500,disableAjaxTracking:!1,disableFetchTracking:!0,excludeRequestFromAutoTrackingPatterns:void 0,disableCorrelationHeaders:!1,distributedTracingMode:fi.AI_AND_W3C,correlationHeaderExcludedDomains:["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],correlationHeaderDomains:void 0,correlationHeaderExcludePatterns:void 0,appId:void 0,enableCorsCorrelation:!1,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1,enableAjaxErrorStatusText:!1,enableAjaxPerfTracking:!1,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25,ignoreHeaders:["Authorization","X-API-Key","WWW-Authenticate"]}},t.getEmptyConfig=function(){var e=this.getDefaultConfig();return Ae(e,(function(t){e[t]=void 0})),e},t.prototype.processTelemetry=function(e,t){this.processNext(e,t)},t.identifier="AjaxDependencyPlugin",t}(rn)})),Ec=w((()=>{Pc()})),Ac=w((()=>{Nr(),Qs(),Da(),Ya(),Ec(),Vs(),wc=["snippet","dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"],xc={__proto__:null,PropertiesPluginIdentifier:Es,BreezeChannelIdentifier:As,AnalyticsPluginIdentifier:Rs,Util:Wi,CorrelationIdHelper:$i,UrlHelper:Ji,DateTimeUtils:Gi,ConnectionStringParser:eo,FieldType:{Default:0,Required:1,Array:2,Hidden:4},RequestHeaders:Lr,DisabledPropertyName:oi,ProcessLegacy:ai,SampleRate:si,HttpMethod:ci,DEFAULT_BREEZE_ENDPOINT:li,AIData:no,AIBase:to,Envelope:io,Event:so,Exception:Fo,Metric:Ko,PageView:Bo,PageViewData:Uo,RemoteDependencyData:Ho,Trace:Jo,PageViewPerformance:Go,Data:Xo,SeverityLevel:Qo,ConfigurationManager:Yo,ContextTagKeys:Is,DataSanitizer:Xr,TelemetryItemCreator:_s,CtxTagKeys:Ps,Extensions:ks,DistributedTracingModes:fi},Tc=function(){function e(e){var t=this;t._snippetVersion=""+(e.sv||e.version||""),e.queue=e.queue||[],e.version=e.version||2;var n=e.config||{};if(n.connectionString){var r=Qi(n.connectionString),i=r.ingestionendpoint;n.endpointUrl=i?i+"/v2/track":n.endpointUrl,n.instrumentationKey=r.instrumentationkey||n.instrumentationKey}t.appInsights=new Ws,t.properties=new Ga,t.dependencies=new Cc,t.core=new Wn,t._sender=new Ia,t.snippet=e,t.config=n,t.getSKUDefaults()}return e.prototype.getCookieMgr=function(){return this.appInsights.getCookieMgr()},e.prototype.trackEvent=function(e,t){this.appInsights.trackEvent(e,t)},e.prototype.trackPageView=function(e){var t=e||{};this.appInsights.trackPageView(t)},e.prototype.trackPageViewPerformance=function(e){var t=e||{};this.appInsights.trackPageViewPerformance(t)},e.prototype.trackException=function(e){e&&!e.exception&&e.error&&(e.exception=e.error),this.appInsights.trackException(e)},e.prototype._onerror=function(e){this.appInsights._onerror(e)},e.prototype.trackTrace=function(e,t){this.appInsights.trackTrace(e,t)},e.prototype.trackMetric=function(e,t){this.appInsights.trackMetric(e,t)},e.prototype.startTrackPage=function(e){this.appInsights.startTrackPage(e)},e.prototype.stopTrackPage=function(e,t,n,r){this.appInsights.stopTrackPage(e,t,n,r)},e.prototype.startTrackEvent=function(e){this.appInsights.startTrackEvent(e)},e.prototype.stopTrackEvent=function(e,t,n){this.appInsights.stopTrackEvent(e,t,n)},e.prototype.addTelemetryInitializer=function(e){return this.appInsights.addTelemetryInitializer(e)},e.prototype.setAuthenticatedUserContext=function(e,t,n){void 0===n&&(n=!1),this.properties.context.user.setAuthenticatedUserContext(e,t,n)},e.prototype.clearAuthenticatedUserContext=function(){this.properties.context.user.clearAuthenticatedUserContext()},e.prototype.trackDependencyData=function(e){this.dependencies.trackDependencyData(e)},e.prototype.flush=function(e){var t=this;void 0===e&&(e=!0),Ht(this.core,(function(){return"AISKU.flush"}),(function(){Ve(t.core.getTransmissionControls(),(function(t){Ve(t,(function(t){t.flush(e)}))}))}),null,e)},e.prototype.onunloadFlush=function(e){void 0===e&&(e=!0),Ve(this.core.getTransmissionControls(),(function(t){Ve(t,(function(t){t.onunloadFlush?t.onunloadFlush():t.flush(e)}))}))},e.prototype.loadAppInsights=function(e,t,n){var r=this;void 0===e&&(e=!1);var i=this;return e&&i.config.extensions&&i.config.extensions.length>0&&Ye("Extensions not allowed in legacy mode"),Ht(i.core,(function(){return"AISKU.loadAppInsights"}),(function(){var o=[];o.push(i._sender),o.push(i.properties),o.push(i.dependencies),o.push(i.appInsights),i.core.initialize(i.config,o,t,n),i.context=i.properties.context,bc&&i.context&&(i.context.internal.sdkSrc=bc),function(t){if(t){var n="";xe(i._snippetVersion)||(n+=i._snippetVersion),e&&(n+=".lg"),i.context&&i.context.internal&&(i.context.internal.snippetVer=n||"-"),Ae(i,(function(e,n){Le(e)&&!ke(n)&&e&&"_"!==e[0]&&-1===wc.indexOf(e)&&(t[e]=n)}))}}(i.snippet),i.emptyQueue(),i.pollInternalLogs(),i.addHousekeepingBeforeUnload(r)})),i},e.prototype.updateSnippetDefinitions=function(e){Ze(e,this,(function(e){return e&&-1===wc.indexOf(e)}))},e.prototype.emptyQueue=function(){var e=this;try{if(Me(e.snippet.queue)){for(var t=e.snippet.queue.length,n=0;n<t;n++)(0,e.snippet.queue[n])();e.snippet.queue=void 0,delete e.snippet.queue}}catch(e){e&&ke(e.toString)&&e.toString()}},e.prototype.pollInternalLogs=function(){this.core.pollInternalLogs()},e.prototype.addHousekeepingBeforeUnload=function(e){if(dt()||pt()){var t=function(){e.onunloadFlush(!1),Ve(e.appInsights.core._extensions,(function(e){if(e.identifier===Es)return e&&e.context&&e.context._sessionManager&&e.context._sessionManager.backup(),-1}))};if(!e.appInsights.config.disableFlushOnBeforeUnload){var n=lr("beforeunload",t);n=lr("unload",t)||n,n=lr("pagehide",t)||n,!(n=lr("visibilitychange",t)||n)&&!function(){var e=ht();return!(!e||!e.product)&&e.product===Mt}()&&e.appInsights.core.logger.throwInternal(me.CRITICAL,ve.FailedToAddHandlerForOnBeforeUnload,"Could not add handler for beforeunload and pagehide")}e.appInsights.config.disableFlushOnUnload||(lr("pagehide",t),lr("visibilitychange",t))}},e.prototype.getSender=function(){return this._sender},e.prototype.getSKUDefaults=function(){var e=this;e.config.diagnosticLogInterval=e.config.diagnosticLogInterval&&e.config.diagnosticLogInterval>0?e.config.diagnosticLogInterval:1e4},e}(),function(){var e=null,t=["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"];try{var n=(document||{}).currentScript;n&&(e=n.src)}catch(e){}if(e)try{var r=e.toLowerCase();if(r)for(var i="",o=0;o<t.length;o++)if(-1!==r.indexOf(t[o])){i="cdn"+(o+1),-1===r.indexOf("/scripts/")&&(-1!==r.indexOf("/next/")?i+="-next":-1!==r.indexOf("/beta/")&&(i+="-beta")),bc=i+"";break}}catch(e){}}()})),Rc=w((()=>{Vs(),Nr(),Ic=["snippet","getDefaultConfig","_hasLegacyInitializers","_queue","_processLegacyInitializers"],_c=function(){function e(t,n){this._hasLegacyInitializers=!1,this._queue=[],this.config=e.getDefaultConfig(t.config),this.appInsightsNew=n,this.context={addTelemetryInitializer:this.addTelemetryInitializers.bind(this)}}return e.getDefaultConfig=function(e){return e||(e={}),e.endpointUrl=e.endpointUrl||"https://dc.services.visualstudio.com/v2/track",e.sessionRenewalMs=18e5,e.sessionExpirationMs=864e5,e.maxBatchSizeInBytes=e.maxBatchSizeInBytes>0?e.maxBatchSizeInBytes:102400,e.maxBatchInterval=isNaN(e.maxBatchInterval)?15e3:e.maxBatchInterval,e.enableDebug=ei(e.enableDebug),e.disableExceptionTracking=ei(e.disableExceptionTracking),e.disableTelemetry=ei(e.disableTelemetry),e.verboseLogging=ei(e.verboseLogging),e.emitLineDelimitedJson=ei(e.emitLineDelimitedJson),e.diagnosticLogInterval=e.diagnosticLogInterval||1e4,e.autoTrackPageVisitTime=ei(e.autoTrackPageVisitTime),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||e.samplingPercentage>=100)&&(e.samplingPercentage=100),e.disableAjaxTracking=ei(e.disableAjaxTracking),e.maxAjaxCallsPerView=isNaN(e.maxAjaxCallsPerView)?500:e.maxAjaxCallsPerView,e.isBeaconApiDisabled=ei(e.isBeaconApiDisabled,!0),e.disableCorrelationHeaders=ei(e.disableCorrelationHeaders),e.correlationHeaderExcludedDomains=e.correlationHeaderExcludedDomains||["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],e.disableFlushOnBeforeUnload=ei(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=ei(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e.enableSessionStorageBuffer=ei(e.enableSessionStorageBuffer,!0),e.isRetryDisabled=ei(e.isRetryDisabled),e.isCookieUseDisabled=ei(e.isCookieUseDisabled),e.isStorageUseDisabled=ei(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=ei(e.isBrowserLinkTrackingEnabled),e.enableCorsCorrelation=ei(e.enableCorsCorrelation),e},e.prototype.addTelemetryInitializers=function(e){var t=this;this._hasLegacyInitializers||(this.appInsightsNew.addTelemetryInitializer((function(e){t._processLegacyInitializers(e)})),this._hasLegacyInitializers=!0),this._queue.push(e)},e.prototype.getCookieMgr=function(){return this.appInsightsNew.getCookieMgr()},e.prototype.startTrackPage=function(e){this.appInsightsNew.startTrackPage(e)},e.prototype.stopTrackPage=function(e,t,n,r){this.appInsightsNew.stopTrackPage(e,t,n)},e.prototype.trackPageView=function(e,t,n,r,i){var o={name:e,uri:t,properties:n,measurements:r};this.appInsightsNew.trackPageView(o)},e.prototype.trackEvent=function(e,t,n){this.appInsightsNew.trackEvent({name:e})},e.prototype.trackDependency=function(e,t,n,r,i,o,s){this.appInsightsNew.trackDependencyData({id:e,target:n,type:r,duration:i,properties:{HttpMethod:t},success:o,responseCode:s})},e.prototype.trackException=function(e,t,n,r,i){this.appInsightsNew.trackException({exception:e})},e.prototype.trackMetric=function(e,t,n,r,i,o){this.appInsightsNew.trackMetric({name:e,average:t,sampleCount:n,min:r,max:i})},e.prototype.trackTrace=function(e,t,n){this.appInsightsNew.trackTrace({message:e,severityLevel:n})},e.prototype.flush=function(e){this.appInsightsNew.flush(e)},e.prototype.setAuthenticatedUserContext=function(e,t,n){this.appInsightsNew.context.user.setAuthenticatedUserContext(e,t,n)},e.prototype.clearAuthenticatedUserContext=function(){this.appInsightsNew.context.user.clearAuthenticatedUserContext()},e.prototype._onerror=function(e,t,n,r,i){this.appInsightsNew._onerror({message:e,url:t,lineNumber:n,columnNumber:r,error:i})},e.prototype.startTrackEvent=function(e){this.appInsightsNew.startTrackEvent(e)},e.prototype.stopTrackEvent=function(e,t,n){this.appInsightsNew.stopTrackEvent(e,t,n)},e.prototype.downloadAndSetup=function(e){Ye("downloadAndSetup not implemented in web SKU")},e.prototype.updateSnippetDefinitions=function(e){Ze(e,this,(function(e){return e&&-1===Ic.indexOf(e)}))},e.prototype.loadAppInsights=function(){var e=this;if(this.config.iKey){var t=this.trackPageView;this.trackPageView=function(n,r,i){t.apply(e,[null,n,r,i])}}var n="logPageView";"function"==typeof this.snippet[n]&&(this[n]=function(t,n,r){e.trackPageView(null,t,n,r)});var r="logEvent";return"function"==typeof this.snippet[r]&&(this[r]=function(t,n,r){e.trackEvent(t,n,r)}),this},e.prototype._processLegacyInitializers=function(e){return e.tags[ai]=this._queue,e},e}()})),Dc=w((()=>{Rc(),Ac(),Nr(),kc=function(){function e(){}return e.getAppInsights=function(e,t){var n=new Tc(e),r=2!==t;if(gr(),2===t)return n.updateSnippetDefinitions(e),n.loadAppInsights(r),n;var i=new _c(e,n);return i.updateSnippetDefinitions(e),n.loadAppInsights(r),i},e}()})),Mc={};((e,t)=>{for(var n in t)m(e,n,{get:t[n],enumerable:!0})})(Mc,{AppInsightsCore:()=>Wn,ApplicationAnalytics:()=>Ws,ApplicationInsights:()=>Tc,ApplicationInsightsContainer:()=>kc,BaseCore:()=>zn,BaseTelemetryPlugin:()=>rn,CoreUtils:()=>wr,DependenciesPlugin:()=>Cc,DistributedTracingModes:()=>fi,Event:()=>so,Exception:()=>Fo,LoggingSeverity:()=>me,Metric:()=>Ko,NotificationManager:()=>Hn,PageView:()=>Bo,PageViewPerformance:()=>Go,PerfEvent:()=>Wt,PerfManager:()=>Jt,PropertiesPlugin:()=>Ga,RemoteDependencyData:()=>Ho,Sender:()=>Ia,SeverityLevel:()=>Qo,Telemetry:()=>xc,Trace:()=>Jo,Util:()=>Wi,_InternalMessageId:()=>ve,doPerf:()=>Ht});var Fc=w((()=>{Ac(),Dc(),Nr(),Vs(),Da(),Qs(),Ya(),Ec()})),Lc=class{constructor(e){this.vscodeAPI=e}getTelemetryLevel(){try{let e=this.vscodeAPI.env.telemetryConfiguration;return e.isUsageEnabled&&e.isErrorsEnabled&&e.isCrashEnabled?"on":e.isErrorsEnabled&&e.isCrashEnabled?"error":"off"}catch(e){return void 0!==this.vscodeAPI.env.isTelemetryEnabled?this.vscodeAPI.env.isTelemetryEnabled?"on":"off":this.vscodeAPI.workspace.getConfiguration("telemetry").get("enableTelemetry")?"on":"off"}}static applyReplacements(e,t){for(let n of Object.keys(e))for(let r of t)r.lookup.test(n)&&(void 0!==r.replacementString?e[n]=r.replacementString:delete e[n])}static shouldUseOneDataSystemSDK(e){return 74===e.length&&"-"===e[32]&&"-"===e[41]&&"-"===e[46]&&"-"===e[51]&&"-"===e[56]&&"-"===e[69]}static getInstance(e){return Lc._instance||(Lc._instance=new Lc(e)),Lc._instance}},Oc=class extends class{constructor(e,t,n,r,i,o){this.extensionId=e,this.extensionVersion=t,this.telemetryAppender=n,this.osShim=r,this.vscodeAPI=i,this.firstParty=!1,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this.firstParty=!!o,this.updateUserOptStatus(),void 0!==i.env.onDidChangeTelemetryEnabled?(this.disposables.push(i.env.onDidChangeTelemetryEnabled((()=>this.updateUserOptStatus()))),this.disposables.push(i.workspace.onDidChangeConfiguration((()=>this.updateUserOptStatus())))):this.disposables.push(i.workspace.onDidChangeConfiguration((()=>this.updateUserOptStatus())))}updateUserOptStatus(){let e=Lc.getInstance(this.vscodeAPI).getTelemetryLevel();this.userOptIn="on"===e,this.errorOptIn="error"===e||this.userOptIn,(this.userOptIn||this.errorOptIn)&&this.telemetryAppender.instantiateAppender()}cleanRemoteName(e){if(!e)return"none";let t="other";return["ssh-remote","dev-container","attached-container","wsl","codespaces"].forEach((n=>{0===e.indexOf(`${n}`)&&(t=n)})),t}get extension(){return void 0===this._extension&&(this._extension=this.vscodeAPI.extensions.getExtension(this.extensionId)),this._extension}cloneAndChange(e,t){if(null===e||"object"!=typeof e||"function"!=typeof t)return e;let n={};for(let r in e)n[r]=t(r,e[r]);return n}shouldSendErrorTelemetry(){return!(!1===this.errorOptIn||this.firstParty&&this.vscodeAPI.env.remoteName&&"other"===this.cleanRemoteName(this.vscodeAPI.env.remoteName))}getCommonProperties(){let e={};if(e["common.os"]=this.osShim.platform,e["common.nodeArch"]=this.osShim.architecture,e["common.platformversion"]=(this.osShim.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),e["common.extname"]=this.extensionId,e["common.extversion"]=this.extensionVersion,this.vscodeAPI&&this.vscodeAPI.env){switch(e["common.vscodemachineid"]=this.vscodeAPI.env.machineId,e["common.vscodesessionid"]=this.vscodeAPI.env.sessionId,e["common.vscodeversion"]=this.vscodeAPI.version,e["common.isnewappinstall"]=this.vscodeAPI.env.isNewAppInstall?this.vscodeAPI.env.isNewAppInstall.toString():"false",e["common.product"]=this.vscodeAPI.env.appHost,this.vscodeAPI.env.uiKind){case this.vscodeAPI.UIKind.Web:e["common.uikind"]="web";break;case this.vscodeAPI.UIKind.Desktop:e["common.uikind"]="desktop";break;default:e["common.uikind"]="unknown"}e["common.remotename"]=this.cleanRemoteName(this.vscodeAPI.env.remoteName)}return e}anonymizeFilePaths(e,t){let n;if(null==e)return"";let r=[];""!==this.vscodeAPI.env.appRoot&&r.push(new RegExp(this.vscodeAPI.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")),this.extension&&r.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));let i=e;if(t){let t=[];for(let i of r)for(;(n=i.exec(e))&&n;)t.push([n.index,i.lastIndex]);let o=/^[\\/]?(node_modules|node_modules\.asar)[\\/]/,s=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-._]+(\\\\|\\|\/))+[\w-._]*/g,a=0;for(i="";(n=s.exec(e))&&n;)n[0]&&!o.test(n[0])&&t.every((([e,t])=>n.index<e||n.index>=t))&&(i+=e.substring(a,n.index)+"<REDACTED: user-file-path>",a=s.lastIndex);a<e.length&&(i+=e.substr(a))}for(let e of r)i=i.replace(e,"");return i}removePropertiesWithPossibleUserInfo(e){if("object"!=typeof e)return;let t={};for(let n of Object.keys(e)){let r=e[n];if(!r)continue;let i=/@[a-zA-Z0-9-.]+/,o=/xox[pbaors]-[a-zA-Z0-9]+-[a-zA-Z0-9-]+?/;/(key|token|sig|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/.test(r.toLowerCase())?t[n]="<REDACTED: secret>":i.test(r)?t[n]="<REDACTED: email>":o.test(r)?t[n]="<REDACTED: token>":t[n]=r}return t}get telemetryLevel(){switch(Lc.getInstance(this.vscodeAPI).getTelemetryLevel()){case"on":return"all";case"error":return"error";case"off":return"off"}}internalSendTelemetryEvent(e,t,n,r,i){if((this.userOptIn||i)&&""!==e){if(t=b(b({},t),this.getCommonProperties()),r){let e=this.cloneAndChange(t,((e,t)=>this.anonymizeFilePaths(t,this.firstParty)));t=this.removePropertiesWithPossibleUserInfo(e)}t=null!=t?t:{},n=null!=n?n:{},e=`${this.extensionId}/${e}`,this.telemetryAppender.logEvent(e,{properties:t,measurements:n})}}sendTelemetryEvent(e,t,n){this.internalSendTelemetryEvent(e,t,n,!0,!1)}sendRawTelemetryEvent(e,t,n){this.internalSendTelemetryEvent(e,t,n,!1,!1)}sendDangerousTelemetryEvent(e,t,n,r=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryEvent(e,t,n,r,!0)}internalSendTelemetryErrorEvent(e,t,n,r,i){if((this.shouldSendErrorTelemetry()||i)&&""!==e){if(t=b(b({},t),this.getCommonProperties()),r){let e=this.cloneAndChange(t,((e,t)=>this.anonymizeFilePaths(t,this.firstParty)));t=this.removePropertiesWithPossibleUserInfo(e)}t=null!=t?t:{},n=null!=n?n:{},e=`${this.extensionId}/${e}`,this.telemetryAppender.logEvent(e,{properties:t,measurements:n})}}sendTelemetryErrorEvent(e,t,n){this.internalSendTelemetryErrorEvent(e,t,n,!0,!1)}sendDangerousTelemetryErrorEvent(e,t,n,r=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryErrorEvent(e,t,n,r,!0)}internalSendTelemetryException(e,t,n,r,i){if((this.shouldSendErrorTelemetry()||i)&&e){if(t=b(b({},t),this.getCommonProperties()),r){let n=this.cloneAndChange(t,((e,t)=>this.anonymizeFilePaths(t,this.firstParty)));e.stack&&(e.stack=this.anonymizeFilePaths(e.stack,this.firstParty)),t=this.removePropertiesWithPossibleUserInfo(n)}t=null!=t?t:{},n=null!=n?n:{},this.telemetryAppender.logException(e,{properties:t,measurements:n})}}sendTelemetryException(e,t,n){this.internalSendTelemetryException(e,t,n,!0,!1)}sendDangerousTelemetryException(e,t,n,r=!0){this.telemetryAppender.instantiateAppender(),this.internalSendTelemetryException(e,t,n,r,!0)}dispose(){return this.telemetryAppender.flush(),Promise.all(this.disposables.map((e=>e.dispose())))}}{constructor(e,t,r,i,o){let s=e=>((e,t)=>x(void 0,null,(function*(){let n;try{let t,r=yield Promise.resolve().then((()=>(Fc(),Mc)));e&&0===e.indexOf("AIF-")&&(t="https://vscode.vortex.data.microsoft.com/collect/v1"),n=new r.ApplicationInsights({config:{instrumentationKey:e,endpointUrl:t,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!0,disableInstrumentationKeyValidation:!0}}),n.loadAppInsights(),t&&fetch(t).catch((()=>n=void 0))}catch(e){return Promise.reject(e)}return{logEvent:(e,r)=>{let i=b(b({},null==r?void 0:r.properties),null==r?void 0:r.measurements);null!=t&&t.length&&Lc.applyReplacements(i,t),null==n||n.trackEvent({name:e},i)},logException:(e,r)=>{let i=b(b({},null==r?void 0:r.properties),null==r?void 0:r.measurements);null!=t&&t.length&&Lc.applyReplacements(i,t),null==n||n.trackException({exception:e,properties:i})},flush:()=>x(void 0,null,(function*(){null==n||n.flush()}))}})))(e,o);Lc.shouldUseOneDataSystemSDK(r)&&(s=e=>((e,t,r)=>x(void 0,null,(function*(){let i=yield((e,t,r)=>x(void 0,null,(function*(){let i=yield Promise.resolve().then(n.bind(n,7164)),o=yield Promise.resolve().then(n.bind(n,3391)),s=new i.AppInsightsCore,a=new o.PostChannel,c={instrumentationKey:e,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[a]]};if(r){c.extensionConfig={};let e={alwaysUseXhrOverride:!0,httpXHROverride:r};c.extensionConfig[a.identifier]=e}let l=t.workspace.getConfiguration("telemetry").get("internalTesting");return s.initialize(c,[]),s.addTelemetryInitializer((e=>{var t,n;!l||(e.ext=null!=(t=e.ext)?t:{},e.ext.utc=null!=(n=e.ext.utc)?n:{},e.ext.utc.flags=8462029)})),s})))(e,t,r);return{logEvent:(e,t)=>{try{null==i||i.track({name:e,baseData:{name:e,properties:null==t?void 0:t.properties,measurements:null==t?void 0:t.measurements}})}catch(e){throw new Error("Failed to log event to app insights!\n"+e.message)}},logException:(e,t)=>{throw new Error("1DS SDK does not support logging exceptions, please use logEvent for exception tracking")},flush:()=>x(void 0,null,(function*(){try{null==i||i.unload()}catch(e){throw new Error("Failed to flush app insights!\n"+e.message)}}))}})))(e,h));let a=new class{constructor(e,t){this._instantiationStatus=0,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=t,this._key=e}logEvent(e,t){this._telemetryClient?this._telemetryClient.logEvent(e,t):2!==this._instantiationStatus&&this._eventQueue.push({eventName:e,data:t})}logException(e,t){this._telemetryClient?this._telemetryClient.logException(e,t):2!==this._instantiationStatus&&this._exceptionQueue.push({exception:e,data:t})}flush(){return x(this,null,(function*(){this._telemetryClient&&(yield this._telemetryClient.flush(),this._telemetryClient=void 0)}))}_flushQueues(){this._eventQueue.forEach((({eventName:e,data:t})=>this.logEvent(e,t))),this._eventQueue=[],this._exceptionQueue.forEach((({exception:e,data:t})=>this.logException(e,t))),this._exceptionQueue=[]}instantiateAppender(){0===this._instantiationStatus&&(this._instantiationStatus=1,this._clientFactory(this._key).then((e=>{this._telemetryClient=e,this._instantiationStatus=2,this._flushQueues()})).catch((e=>{console.error(e),this._instantiationStatus=2})))}}(r,s);r&&(0===r.indexOf("AIF-")||Lc.shouldUseOneDataSystemSDK(r))&&(i=!0),super(e,t,a,{release:navigator.appVersion,platform:"web",architecture:"web"},h,i)}}},516:(e,t,n)=>{"use strict";function r(e,t){void 0===t&&(t=!1);var n=e.length,r=0,a="",c=0,l=16,u=0,d=0,f=0,p=0,g=0;function h(t,n){for(var i=0,o=0;i<t||!n;){var s=e.charCodeAt(r);if(s>=48&&s<=57)o=16*o+s-48;else if(s>=65&&s<=70)o=16*o+s-65+10;else{if(!(s>=97&&s<=102))break;o=16*o+s-97+10}r++,i++}return i<t&&(o=-1),o}function m(){if(a="",g=0,c=r,d=u,p=f,r>=n)return c=n,l=17;var t=e.charCodeAt(r);if(i(t)){do{r++,a+=String.fromCharCode(t),t=e.charCodeAt(r)}while(i(t));return l=15}if(o(t))return r++,a+=String.fromCharCode(t),13===t&&10===e.charCodeAt(r)&&(r++,a+="\n"),u++,f=r,l=14;switch(t){case 123:return r++,l=1;case 125:return r++,l=2;case 91:return r++,l=3;case 93:return r++,l=4;case 58:return r++,l=6;case 44:return r++,l=5;case 34:return r++,a=function(){for(var t="",i=r;;){if(r>=n){t+=e.substring(i,r),g=2;break}var s=e.charCodeAt(r);if(34===s){t+=e.substring(i,r),r++;break}if(92!==s){if(s>=0&&s<=31){if(o(s)){t+=e.substring(i,r),g=2;break}g=6}r++}else{if(t+=e.substring(i,r),++r>=n){g=2;break}switch(e.charCodeAt(r++)){case 34:t+='"';break;case 92:t+="\\";break;case 47:t+="/";break;case 98:t+="\b";break;case 102:t+="\f";break;case 110:t+="\n";break;case 114:t+="\r";break;case 116:t+="\t";break;case 117:var a=h(4,!0);a>=0?t+=String.fromCharCode(a):g=4;break;default:g=5}i=r}}return t}(),l=10;case 47:var m=r-1;if(47===e.charCodeAt(r+1)){for(r+=2;r<n&&!o(e.charCodeAt(r));)r++;return a=e.substring(m,r),l=12}if(42===e.charCodeAt(r+1)){r+=2;for(var y=n-1,S=!1;r<y;){var C=e.charCodeAt(r);if(42===C&&47===e.charCodeAt(r+1)){r+=2,S=!0;break}r++,o(C)&&(13===C&&10===e.charCodeAt(r)&&r++,u++,f=r)}return S||(r++,g=1),a=e.substring(m,r),l=13}return a+=String.fromCharCode(t),r++,l=16;case 45:if(a+=String.fromCharCode(t),++r===n||!s(e.charCodeAt(r)))return l=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return a+=function(){var t=r;if(48===e.charCodeAt(r))r++;else for(r++;r<e.length&&s(e.charCodeAt(r));)r++;if(r<e.length&&46===e.charCodeAt(r)){if(!(++r<e.length&&s(e.charCodeAt(r))))return g=3,e.substring(t,r);for(r++;r<e.length&&s(e.charCodeAt(r));)r++}var n=r;if(r<e.length&&(69===e.charCodeAt(r)||101===e.charCodeAt(r)))if((++r<e.length&&43===e.charCodeAt(r)||45===e.charCodeAt(r))&&r++,r<e.length&&s(e.charCodeAt(r))){for(r++;r<e.length&&s(e.charCodeAt(r));)r++;n=r}else g=3;return e.substring(t,n)}(),l=11;default:for(;r<n&&v(t);)r++,t=e.charCodeAt(r);if(c!==r){switch(a=e.substring(c,r)){case"true":return l=8;case"false":return l=9;case"null":return l=7}return l=16}return a+=String.fromCharCode(t),r++,l=16}}function v(e){if(i(e)||o(e))return!1;switch(e){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}return{setPosition:function(e){r=e,a="",c=0,l=16,g=0},getPosition:function(){return r},scan:t?function(){var e;do{e=m()}while(e>=12&&e<=15);return e}:m,getToken:function(){return l},getTokenValue:function(){return a},getTokenOffset:function(){return c},getTokenLength:function(){return r-c},getTokenStartLine:function(){return d},getTokenStartCharacter:function(){return c-p},getTokenError:function(){return g}}}function i(e){return 32===e||9===e||11===e||12===e||160===e||5760===e||e>=8192&&e<=8203||8239===e||8287===e||12288===e||65279===e}function o(e){return 10===e||13===e||8232===e||8233===e}function s(e){return e>=48&&e<=57}function a(e,t,n){var i,o,s,a,u;if(t){for(a=t.offset,u=a+t.length,s=a;s>0&&!l(e,s-1);)s--;for(var d=u;d<e.length&&!l(e,d);)d++;o=e.substring(s,d),i=function(e,t){for(var n=0,r=0,i=t.tabSize||4;n<e.length;){var o=e.charAt(n);if(" "===o)r++;else{if("\t"!==o)break;r+=i}n++}return Math.floor(r/i)}(o,n)}else o=e,i=0,s=0,a=0,u=e.length;var f,p=function(e,t){for(var n=0;n<t.length;n++){var r=t.charAt(n);if("\r"===r)return n+1<t.length&&"\n"===t.charAt(n+1)?"\r\n":"\r";if("\n"===r)return"\n"}return e&&e.eol||"\n"}(n,e),g=!1,h=0;f=n.insertSpaces?c(" ",n.tabSize||4):"\t";var m=r(o,!1),v=!1;function y(){return p+c(f,i+h)}function S(){var e=m.scan();for(g=!1;15===e||14===e;)g=g||14===e,e=m.scan();return v=16===e||0!==m.getTokenError(),e}var C=[];function b(t,n,r){!v&&n<u&&r>a&&e.substring(n,r)!==t&&C.push({offset:n,length:r-n,content:t})}var w=S();if(17!==w){var x=m.getTokenOffset()+s;b(c(f,i),s,x)}for(;17!==w;){for(var T=m.getTokenOffset()+m.getTokenLength()+s,I=S(),_="";!g&&(12===I||13===I);)b(" ",T,m.getTokenOffset()+s),T=m.getTokenOffset()+m.getTokenLength()+s,_=12===I?y():"",I=S();if(2===I)1!==w&&(h--,_=y());else if(4===I)3!==w&&(h--,_=y());else{switch(w){case 3:case 1:h++,_=y();break;case 5:case 12:_=y();break;case 13:_=g?y():" ";break;case 6:_=" ";break;case 10:if(6===I){_="";break}case 7:case 8:case 9:case 11:case 2:case 4:12===I||13===I?_=" ":5!==I&&17!==I&&(v=!0);break;case 16:v=!0}!g||12!==I&&13!==I||(_=y())}b(_,T,m.getTokenOffset()+s),w=I}return C}function c(e,t){for(var n="",r=0;r<t;r++)n+=e;return n}function l(e,t){return-1!=="\r\n".indexOf(e.charAt(t))}var u;function d(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=u.DEFAULT);var r={type:"array",offset:-1,length:-1,children:[],parent:void 0};function i(e){"property"===r.type&&(r.length=e-r.offset,r=r.parent)}function o(e){return r.children.push(e),e}p(e,{onObjectBegin:function(e){r=o({type:"object",offset:e,length:-1,parent:r,children:[]})},onObjectProperty:function(e,t,n){(r=o({type:"property",offset:t,length:-1,parent:r,children:[]})).children.push({type:"string",value:e,offset:t,length:n,parent:r})},onObjectEnd:function(e,t){i(e+t),r.length=e+t-r.offset,r=r.parent,i(e+t)},onArrayBegin:function(e,t){r=o({type:"array",offset:e,length:-1,parent:r,children:[]})},onArrayEnd:function(e,t){r.length=e+t-r.offset,r=r.parent,i(e+t)},onLiteralValue:function(e,t,n){o({type:g(e),offset:t,length:n,parent:r,value:e}),i(t+n)},onSeparator:function(e,t,n){"property"===r.type&&(":"===e?r.colonOffset=t:","===e&&i(t))},onError:function(e,n,r){t.push({error:e,offset:n,length:r})}},n);var s=r.children[0];return s&&delete s.parent,s}function f(e,t){if(e){for(var n=e,r=0,i=t;r<i.length;r++){var o=i[r];if("string"==typeof o){if("object"!==n.type||!Array.isArray(n.children))return;for(var s=!1,a=0,c=n.children;a<c.length;a++){var l=c[a];if(Array.isArray(l.children)&&l.children[0].value===o){n=l.children[1],s=!0;break}}if(!s)return}else{var u=o;if("array"!==n.type||u<0||!Array.isArray(n.children)||u>=n.children.length)return;n=n.children[u]}}return n}}function p(e,t,n){void 0===n&&(n=u.DEFAULT);var i=r(e,!1);function o(e){return e?function(){return e(i.getTokenOffset(),i.getTokenLength(),i.getTokenStartLine(),i.getTokenStartCharacter())}:function(){return!0}}function s(e){return e?function(t){return e(t,i.getTokenOffset(),i.getTokenLength(),i.getTokenStartLine(),i.getTokenStartCharacter())}:function(){return!0}}var a=o(t.onObjectBegin),c=s(t.onObjectProperty),l=o(t.onObjectEnd),d=o(t.onArrayBegin),f=o(t.onArrayEnd),p=s(t.onLiteralValue),g=s(t.onSeparator),h=o(t.onComment),m=s(t.onError),v=n&&n.disallowComments,y=n&&n.allowTrailingComma;function S(){for(;;){var e=i.scan();switch(i.getTokenError()){case 4:C(14);break;case 5:C(15);break;case 3:C(13);break;case 1:v||C(11);break;case 2:C(12);break;case 6:C(16)}switch(e){case 12:case 13:v?C(10):h();break;case 16:C(1);break;case 15:case 14:break;default:return e}}}function C(e,t,n){if(void 0===t&&(t=[]),void 0===n&&(n=[]),m(e),t.length+n.length>0)for(var r=i.getToken();17!==r;){if(-1!==t.indexOf(r)){S();break}if(-1!==n.indexOf(r))break;r=S()}}function b(e){var t=i.getTokenValue();return e?p(t):c(t),S(),!0}return S(),17===i.getToken()?!!n.allowEmptyContent||(C(4,[],[]),!1):function e(){switch(i.getToken()){case 3:return function(){d(),S();for(var t=!1;4!==i.getToken()&&17!==i.getToken();){if(5===i.getToken()){if(t||C(4,[],[]),g(","),S(),4===i.getToken()&&y)break}else t&&C(6,[],[]);e()||C(4,[],[4,5]),t=!0}return f(),4!==i.getToken()?C(8,[4],[]):S(),!0}();case 1:return function(){a(),S();for(var t=!1;2!==i.getToken()&&17!==i.getToken();){if(5===i.getToken()){if(t||C(4,[],[]),g(","),S(),2===i.getToken()&&y)break}else t&&C(6,[],[]);(10!==i.getToken()?(C(3,[],[2,5]),0):(b(!1),6===i.getToken()?(g(":"),S(),e()||C(4,[],[2,5])):C(5,[],[2,5]),1))||C(4,[],[2,5]),t=!0}return l(),2!==i.getToken()?C(7,[2],[]):S(),!0}();case 10:return b(!0);default:return function(){switch(i.getToken()){case 11:var e=i.getTokenValue(),t=Number(e);isNaN(t)&&(C(2),t=0),p(t);break;case 7:p(null);break;case 8:p(!0);break;case 9:p(!1);break;default:return!1}return S(),!0}()}}()?(17!==i.getToken()&&C(9,[],[]),!0):(C(4,[],[]),!1)}function g(e){switch(typeof e){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":return e?Array.isArray(e)?"array":"object":"null";default:return"null"}}function h(e,t,n){if(!n.formattingOptions)return[t];var r=m(e,t),i=t.offset,o=t.offset+t.content.length;if(0===t.length||0===t.content.length){for(;i>0&&!l(r,i-1);)i--;for(;o<r.length&&!l(r,o);)o++}for(var s=a(r,{offset:i,length:o-i},n.formattingOptions),c=s.length-1;c>=0;c--){var u=s[c];r=m(r,u),i=Math.min(i,u.offset),o=Math.max(o,u.offset+u.length),o+=u.content.length-u.length}return[{offset:i,length:e.length-(r.length-o)-i,content:r.substring(i,o)}]}function m(e,t){return e.substring(0,t.offset)+t.content+e.substring(t.offset+t.length)}n.r(t),n.d(t,{applyEdits:()=>A,createScanner:()=>v,findNodeAtLocation:()=>b,findNodeAtOffset:()=>w,format:()=>P,getLocation:()=>y,getNodePath:()=>x,getNodeValue:()=>T,modify:()=>E,parse:()=>S,parseTree:()=>C,printParseErrorCode:()=>k,stripComments:()=>_,visit:()=>I}),function(e){e.DEFAULT={allowTrailingComma:!1}}(u||(u={}));var v=r,y=function(e,t){var n=[],r=new Object,i=void 0,o={value:{},offset:0,length:0,type:"object",parent:void 0},s=!1;function a(e,t,n,r){o.value=e,o.offset=t,o.length=n,o.type=r,o.colonOffset=void 0,i=o}try{p(e,{onObjectBegin:function(e,o){if(t<=e)throw r;i=void 0,s=t>e,n.push("")},onObjectProperty:function(e,i,o){if(t<i)throw r;if(a(e,i,o,"property"),n[n.length-1]=e,t<=i+o)throw r},onObjectEnd:function(e,o){if(t<=e)throw r;i=void 0,n.pop()},onArrayBegin:function(e,o){if(t<=e)throw r;i=void 0,n.push(0)},onArrayEnd:function(e,o){if(t<=e)throw r;i=void 0,n.pop()},onLiteralValue:function(e,n,i){if(t<n)throw r;if(a(e,n,i,g(e)),t<=n+i)throw r},onSeparator:function(e,o,a){if(t<=o)throw r;if(":"===e&&i&&"property"===i.type)i.colonOffset=o,s=!1,i=void 0;else if(","===e){var c=n[n.length-1];"number"==typeof c?n[n.length-1]=c+1:(s=!0,n[n.length-1]=""),i=void 0}}})}catch(e){if(e!==r)throw e}return{path:n,previousNode:i,isAtPropertyKey:s,matches:function(e){for(var t=0,r=0;t<e.length&&r<n.length;r++)if(e[t]===n[r]||"*"===e[t])t++;else if("**"!==e[t])return!1;return t===e.length}}},S=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=u.DEFAULT);var r=null,i=[],o=[];function s(e){Array.isArray(i)?i.push(e):null!==r&&(i[r]=e)}return p(e,{onObjectBegin:function(){var e={};s(e),o.push(i),i=e,r=null},onObjectProperty:function(e){r=e},onObjectEnd:function(){i=o.pop()},onArrayBegin:function(){var e=[];s(e),o.push(i),i=e,r=null},onArrayEnd:function(){i=o.pop()},onLiteralValue:s,onError:function(e,n,r){t.push({error:e,offset:n,length:r})}},n),i[0]},C=d,b=f,w=function e(t,n,r){if(void 0===r&&(r=!1),function(e,t,n){return void 0===n&&(n=!1),t>=e.offset&&t<e.offset+e.length||n&&t===e.offset+e.length}(t,n,r)){var i=t.children;if(Array.isArray(i))for(var o=0;o<i.length&&i[o].offset<=n;o++){var s=e(i[o],n,r);if(s)return s}return t}},x=function e(t){if(!t.parent||!t.parent.children)return[];var n=e(t.parent);if("property"===t.parent.type){var r=t.parent.children[0].value;n.push(r)}else if("array"===t.parent.type){var i=t.parent.children.indexOf(t);-1!==i&&n.push(i)}return n},T=function e(t){switch(t.type){case"array":return t.children.map(e);case"object":for(var n=Object.create(null),r=0,i=t.children;r<i.length;r++){var o=i[r],s=o.children[1];s&&(n[o.children[0].value]=e(s))}return n;case"null":case"string":case"number":case"boolean":return t.value;default:return}},I=p,_=function(e,t){var n,i,o=r(e),s=[],a=0;do{switch(i=o.getPosition(),n=o.scan()){case 12:case 13:case 17:a!==i&&s.push(e.substring(a,i)),void 0!==t&&s.push(o.getTokenValue().replace(/[^\r\n]/g,t)),a=o.getPosition()}}while(17!==n);return s.join("")};function k(e){switch(e){case 1:return"InvalidSymbol";case 2:return"InvalidNumberFormat";case 3:return"PropertyNameExpected";case 4:return"ValueExpected";case 5:return"ColonExpected";case 6:return"CommaExpected";case 7:return"CloseBraceExpected";case 8:return"CloseBracketExpected";case 9:return"EndOfFileExpected";case 10:return"InvalidCommentToken";case 11:return"UnexpectedEndOfComment";case 12:return"UnexpectedEndOfString";case 13:return"UnexpectedEndOfNumber";case 14:return"InvalidUnicode";case 15:return"InvalidEscapeCharacter";case 16:return"InvalidCharacter"}return"<unknown ParseErrorCode>"}function P(e,t,n){return a(e,t,n)}function E(e,t,n,r){return function(e,t,n,r){for(var i,o=t.slice(),s=d(e,[]),a=void 0,c=void 0;o.length>0&&(c=o.pop(),void 0===(a=f(s,o))&&void 0!==n);)"string"==typeof c?((i={})[c]=n,n=i):n=[n];if(a){if("object"===a.type&&"string"==typeof c&&Array.isArray(a.children)){var l=f(a,[c]);if(void 0!==l){if(void 0===n){if(!l.parent)throw new Error("Malformed AST");var u=a.children.indexOf(l.parent),p=void 0,g=l.parent.offset+l.parent.length;return u>0?p=(x=a.children[u-1]).offset+x.length:(p=a.offset+1,a.children.length>1&&(g=a.children[1].offset)),h(e,{offset:p,length:g-p,content:""},r)}return h(e,{offset:l.offset,length:l.length,content:JSON.stringify(n)},r)}if(void 0===n)return[];var m=JSON.stringify(c)+": "+JSON.stringify(n),v=void 0;return h(e,v=(T=r.getInsertionIndex?r.getInsertionIndex(a.children.map((function(e){return e.children[0].value}))):a.children.length)>0?{offset:(x=a.children[T-1]).offset+x.length,length:0,content:","+m}:0===a.children.length?{offset:a.offset+1,length:0,content:m}:{offset:a.offset+1,length:0,content:m+","},r)}if("array"===a.type&&"number"==typeof c&&Array.isArray(a.children)){var y=c;if(-1===y)return m=""+JSON.stringify(n),v=void 0,h(e,v=0===a.children.length?{offset:a.offset+1,length:0,content:m}:{offset:(x=a.children[a.children.length-1]).offset+x.length,length:0,content:","+m},r);if(void 0===n&&a.children.length>=0){var S=c,C=a.children[S];if(v=void 0,1===a.children.length)v={offset:a.offset+1,length:a.length-2,content:""};else if(a.children.length-1===S){var b=(x=a.children[S-1]).offset+x.length;v={offset:b,length:a.offset+a.length-2-b,content:""}}else v={offset:C.offset,length:a.children[S+1].offset-C.offset,content:""};return h(e,v,r)}if(void 0!==n){if(v=void 0,m=""+JSON.stringify(n),!r.isArrayInsertion&&a.children.length>c){var w=a.children[c];v={offset:w.offset,length:w.length,content:m}}else if(0===a.children.length||0===c)v={offset:a.offset+1,length:0,content:0===a.children.length?m:m+","};else{var x,T=c>a.children.length?a.children.length:c;v={offset:(x=a.children[T-1]).offset+x.length,length:0,content:","+m}}return h(e,v,r)}throw new Error("Can not "+(void 0===n?"remove":r.isArrayInsertion?"insert":"modify")+" Array index "+y+" as length is not sufficient")}throw new Error("Can not add "+("number"!=typeof c?"index":"property")+" to parent of type "+a.type)}if(void 0===n)throw new Error("Can not delete in empty document");return h(e,{offset:s?s.offset:0,length:s?s.length:0,content:JSON.stringify(n)},r)}(e,t,n,r)}function A(e,t){for(var n=t.length-1;n>=0;n--)e=m(e,t[n]);return e}},6625:(e,t)=>{var n;t=e.exports=W,n="object"==typeof process&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var r=Number.MAX_SAFE_INTEGER||9007199254740991,i=t.re=[],o=t.src=[],s=0,a=s++;o[a]="0|[1-9]\\d*";var c=s++;o[c]="[0-9]+";var l=s++;o[l]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var u=s++;o[u]="("+o[a]+")\\.("+o[a]+")\\.("+o[a]+")";var d=s++;o[d]="("+o[c]+")\\.("+o[c]+")\\.("+o[c]+")";var f=s++;o[f]="(?:"+o[a]+"|"+o[l]+")";var p=s++;o[p]="(?:"+o[c]+"|"+o[l]+")";var g=s++;o[g]="(?:-("+o[f]+"(?:\\."+o[f]+")*))";var h=s++;o[h]="(?:-?("+o[p]+"(?:\\."+o[p]+")*))";var m=s++;o[m]="[0-9A-Za-z-]+";var v=s++;o[v]="(?:\\+("+o[m]+"(?:\\."+o[m]+")*))";var y=s++,S="v?"+o[u]+o[g]+"?"+o[v]+"?";o[y]="^"+S+"$";var C="[v=\\s]*"+o[d]+o[h]+"?"+o[v]+"?",b=s++;o[b]="^"+C+"$";var w=s++;o[w]="((?:<|>)?=?)";var x=s++;o[x]=o[c]+"|x|X|\\*";var T=s++;o[T]=o[a]+"|x|X|\\*";var I=s++;o[I]="[v=\\s]*("+o[T]+")(?:\\.("+o[T]+")(?:\\.("+o[T]+")(?:"+o[g]+")?"+o[v]+"?)?)?";var _=s++;o[_]="[v=\\s]*("+o[x]+")(?:\\.("+o[x]+")(?:\\.("+o[x]+")(?:"+o[h]+")?"+o[v]+"?)?)?";var k=s++;o[k]="^"+o[w]+"\\s*"+o[I]+"$";var P=s++;o[P]="^"+o[w]+"\\s*"+o[_]+"$";var E=s++;o[E]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var A=s++;o[A]="(?:~>?)";var R=s++;o[R]="(\\s*)"+o[A]+"\\s+",i[R]=new RegExp(o[R],"g");var D=s++;o[D]="^"+o[A]+o[I]+"$";var M=s++;o[M]="^"+o[A]+o[_]+"$";var F=s++;o[F]="(?:\\^)";var L=s++;o[L]="(\\s*)"+o[F]+"\\s+",i[L]=new RegExp(o[L],"g");var O=s++;o[O]="^"+o[F]+o[I]+"$";var N=s++;o[N]="^"+o[F]+o[_]+"$";var j=s++;o[j]="^"+o[w]+"\\s*("+C+")$|^$";var V=s++;o[V]="^"+o[w]+"\\s*("+S+")$|^$";var q=s++;o[q]="(\\s*)"+o[w]+"\\s*("+C+"|"+o[I]+")",i[q]=new RegExp(o[q],"g");var K=s++;o[K]="^\\s*("+o[I]+")\\s+-\\s+("+o[I]+")\\s*$";var U=s++;o[U]="^\\s*("+o[_]+")\\s+-\\s+("+o[_]+")\\s*$";var B=s++;o[B]="(<|>)?=?\\s*\\*";for(var z=0;z<35;z++)n(z,o[z]),i[z]||(i[z]=new RegExp(o[z]));function H(e,t){if(e instanceof W)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t?i[b]:i[y]).test(e))return null;try{return new W(e,t)}catch(e){return null}}function W(e,t){if(e instanceof W){if(e.loose===t)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof W))return new W(e,t);n("SemVer",e,t),this.loose=t;var o=e.trim().match(t?i[b]:i[y]);if(!o)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<r)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}t.parse=H,t.valid=function(e,t){var n=H(e,t);return n?n.version:null},t.clean=function(e,t){var n=H(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},t.SemVer=W,W.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},W.prototype.toString=function(){return this.version},W.prototype.compare=function(e){return n("SemVer.compare",this.version,this.loose,e),e instanceof W||(e=new W(e,this.loose)),this.compareMain(e)||this.comparePre(e)},W.prototype.compareMain=function(e){return e instanceof W||(e=new W(e,this.loose)),$(this.major,e.major)||$(this.minor,e.minor)||$(this.patch,e.patch)},W.prototype.comparePre=function(e){if(e instanceof W||(e=new W(e,this.loose)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return $(r,i)}while(++t)},W.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new W(e,n).inc(t,r).version}catch(e){return null}},t.diff=function(e,t){if(Y(e,t))return null;var n=H(e),r=H(t);if(n.prerelease.length||r.prerelease.length){for(var i in n)if(("major"===i||"minor"===i||"patch"===i)&&n[i]!==r[i])return"pre"+i;return"prerelease"}for(var i in n)if(("major"===i||"minor"===i||"patch"===i)&&n[i]!==r[i])return i},t.compareIdentifiers=$;var J=/^[0-9]+$/;function $(e,t){var n=J.test(e),r=J.test(t);return n&&r&&(e=+e,t=+t),n&&!r?-1:r&&!n?1:e<t?-1:e>t?1:0}function G(e,t,n){return new W(e,n).compare(new W(t,n))}function X(e,t,n){return G(e,t,n)>0}function Q(e,t,n){return G(e,t,n)<0}function Y(e,t,n){return 0===G(e,t,n)}function Z(e,t,n){return 0!==G(e,t,n)}function ee(e,t,n){return G(e,t,n)>=0}function te(e,t,n){return G(e,t,n)<=0}function ne(e,t,n,r){var i;switch(t){case"===":"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),i=e===n;break;case"!==":"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),i=e!==n;break;case"":case"=":case"==":i=Y(e,n,r);break;case"!=":i=Z(e,n,r);break;case">":i=X(e,n,r);break;case">=":i=ee(e,n,r);break;case"<":i=Q(e,n,r);break;case"<=":i=te(e,n,r);break;default:throw new TypeError("Invalid operator: "+t)}return i}function re(e,t){if(e instanceof re){if(e.loose===t)return e;e=e.value}if(!(this instanceof re))return new re(e,t);n("comparator",e,t),this.loose=t,this.parse(e),this.semver===ie?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}t.rcompareIdentifiers=function(e,t){return $(t,e)},t.major=function(e,t){return new W(e,t).major},t.minor=function(e,t){return new W(e,t).minor},t.patch=function(e,t){return new W(e,t).patch},t.compare=G,t.compareLoose=function(e,t){return G(e,t,!0)},t.rcompare=function(e,t,n){return G(t,e,n)},t.sort=function(e,n){return e.sort((function(e,r){return t.compare(e,r,n)}))},t.rsort=function(e,n){return e.sort((function(e,r){return t.rcompare(e,r,n)}))},t.gt=X,t.lt=Q,t.eq=Y,t.neq=Z,t.gte=ee,t.lte=te,t.cmp=ne,t.Comparator=re;var ie={};function oe(e,t){if(e instanceof oe)return e.loose===t?e:new oe(e.raw,t);if(e instanceof re)return new oe(e.value,t);if(!(this instanceof oe))return new oe(e,t);if(this.loose=t,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function se(e){return!e||"x"===e.toLowerCase()||"*"===e}function ae(e,t,n,r,i,o,s,a,c,l,u,d,f){return((t=se(n)?"":se(r)?">="+n+".0.0":se(i)?">="+n+"."+r+".0":">="+t)+" "+(a=se(c)?"":se(l)?"<"+(+c+1)+".0.0":se(u)?"<"+c+"."+(+l+1)+".0":d?"<="+c+"."+l+"."+u+"-"+d:"<="+a)).trim()}function ce(e,t){for(var r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length){for(r=0;r<e.length;r++)if(n(e[r].semver),e[r].semver!==ie&&e[r].semver.prerelease.length>0){var i=e[r].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function le(e,t,n){try{t=new oe(t,n)}catch(e){return!1}return t.test(e)}function ue(e,t,n,r){var i,o,s,a,c;switch(e=new W(e,r),t=new oe(t,r),n){case">":i=X,o=te,s=Q,a=">",c=">=";break;case"<":i=Q,o=ee,s=X,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(le(e,t,r))return!1;for(var l=0;l<t.set.length;++l){var u=t.set[l],d=null,f=null;if(u.forEach((function(e){e.semver===ie&&(e=new re(">=0.0.0")),d=d||e,f=f||e,i(e.semver,d.semver,r)?d=e:s(e.semver,f.semver,r)&&(f=e)})),d.operator===a||d.operator===c)return!1;if((!f.operator||f.operator===a)&&o(e,f.semver))return!1;if(f.operator===c&&s(e,f.semver))return!1}return!0}re.prototype.parse=function(e){var t=this.loose?i[j]:i[V],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new W(n[2],this.loose):this.semver=ie},re.prototype.toString=function(){return this.value},re.prototype.test=function(e){return n("Comparator.test",e,this.loose),this.semver===ie||("string"==typeof e&&(e=new W(e,this.loose)),ne(e,this.operator,this.semver,this.loose))},re.prototype.intersects=function(e,t){if(!(e instanceof re))throw new TypeError("a Comparator is required");var n;if(""===this.operator)return n=new oe(e.value,t),le(this.value,n,t);if(""===e.operator)return n=new oe(this.value,t),le(e.semver,n,t);var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=ne(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=ne(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||i||o&&s||a||c},t.Range=oe,oe.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},oe.prototype.toString=function(){return this.range},oe.prototype.parseRange=function(e){var t=this.loose;e=e.trim(),n("range",e,t);var r=t?i[U]:i[K];e=e.replace(r,ae),n("hyphen replace",e),e=e.replace(i[q],"$1$2$3"),n("comparator trim",e,i[q]),e=(e=(e=e.replace(i[R],"$1~")).replace(i[L],"$1^")).split(/\s+/).join(" ");var o=t?i[j]:i[V],s=e.split(" ").map((function(e){return function(e,t){return n("comp",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){n("caret",e,t);var r=t?i[N]:i[O];return e.replace(r,(function(t,r,i,o,s){var a;return n("caret",e,t,r,i,o,s),se(r)?a="":se(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":se(o)?a="0"===r?">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":">="+r+"."+i+".0 <"+(+r+1)+".0.0":s?(n("replaceCaret pr",s),"-"!==s.charAt(0)&&(s="-"+s),a="0"===r?"0"===i?">="+r+"."+i+"."+o+s+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+s+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+s+" <"+(+r+1)+".0.0"):(n("no pr"),a="0"===r?"0"===i?">="+r+"."+i+"."+o+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+" <"+(+r+1)+".0.0"),n("caret return",a),a}))}(e,t)})).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var r=t?i[M]:i[D];return e.replace(r,(function(t,r,i,o,s){var a;return n("tilde",e,t,r,i,o,s),se(r)?a="":se(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":se(o)?a=">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":s?(n("replaceTilde pr",s),"-"!==s.charAt(0)&&(s="-"+s),a=">="+r+"."+i+"."+o+s+" <"+r+"."+(+i+1)+".0"):a=">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0",n("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var r=t?i[P]:i[k];return e.replace(r,(function(t,r,i,o,s,a){n("xRange",e,t,r,i,o,s,a);var c=se(i),l=c||se(o),u=l||se(s);return"="===r&&u&&(r=""),c?t=">"===r||"<"===r?"<0.0.0":"*":r&&u?(l&&(o=0),u&&(s=0),">"===r?(r=">=",l?(i=+i+1,o=0,s=0):u&&(o=+o+1,s=0)):"<="===r&&(r="<",l?i=+i+1:o=+o+1),t=r+i+"."+o+"."+s):l?t=">="+i+".0.0 <"+(+i+1)+".0.0":u&&(t=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),n("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(i[B],"")}(e,t),n("stars",e),e}(e,t)})).join(" ").split(/\s+/);return this.loose&&(s=s.filter((function(e){return!!e.match(o)}))),s.map((function(e){return new re(e,t)}))},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Range is required");return this.set.some((function(n){return n.every((function(n){return e.set.some((function(e){return e.every((function(e){return n.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new oe(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},oe.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new W(e,this.loose));for(var t=0;t<this.set.length;t++)if(ce(this.set[t],e))return!0;return!1},t.satisfies=le,t.maxSatisfying=function(e,t,n){var r=null,i=null;try{var o=new oe(t,n)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(r&&-1!==i.compare(e)||(i=new W(r=e,n)))})),r},t.minSatisfying=function(e,t,n){var r=null,i=null;try{var o=new oe(t,n)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(r&&1!==i.compare(e)||(i=new W(r=e,n)))})),r},t.validRange=function(e,t){try{return new oe(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,n){return ue(e,t,"<",n)},t.gtr=function(e,t,n){return ue(e,t,">",n)},t.outside=ue,t.prerelease=function(e,t){var n=H(e,t);return n&&n.prerelease.length?n.prerelease:null},t.intersects=function(e,t,n){return e=new oe(e,n),t=new oe(t,n),e.intersects(t)},t.coerce=function(e){if(e instanceof W)return e;if("string"!=typeof e)return null;var t=e.match(i[E]);return null==t?null:H((t[1]||"0")+"."+(t[2]||"0")+"."+(t[3]||"0"))}},189:function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.loadMessageBundle=void 0;var i=n(1926),o=n(800),s=n(800);function a(e){return function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if("number"==typeof e)throw new Error("Browser implementation does currently not support externalized strings.");return o.localize.apply(void 0,r([e,t],n))}}function c(e){return o.setPseudo("pseudo"===(null==e?void 0:e.locale.toLowerCase())),a}Object.defineProperty(t,"MessageFormat",{enumerable:!0,get:function(){return s.MessageFormat}}),Object.defineProperty(t,"BundleFormat",{enumerable:!0,get:function(){return s.BundleFormat}}),t.loadMessageBundle=a,t.config=c,i.default.install(Object.freeze({loadMessageBundle:a,config:c}))},800:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.loadMessageBundle=t.localize=t.format=t.setPseudo=t.isPseudo=t.isDefined=t.BundleFormat=t.MessageFormat=void 0;var r,i,o,s=n(1926);function a(e){return void 0!==e}function c(e,n){return t.isPseudo&&(e="［"+e.replace(/[aouei]/g,"$&$&")+"］"),0===n.length?e:e.replace(/\{(\d+)\}/g,(function(e,t){var r=t[0],i=n[r],o=e;return"string"==typeof i?o=i:"number"!=typeof i&&"boolean"!=typeof i&&null!=i||(o=String(i)),o}))}(o=t.MessageFormat||(t.MessageFormat={})).file="file",o.bundle="bundle",o.both="both",(i=t.BundleFormat||(t.BundleFormat={})).standalone="standalone",i.languagePack="languagePack",function(e){e.is=function(e){var t=e;return t&&a(t.key)&&a(t.comment)}}(r||(r={})),t.isDefined=a,t.isPseudo=!1,t.setPseudo=function(e){t.isPseudo=e},t.format=c,t.localize=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return c(t,n)},t.loadMessageBundle=function(e){return s.default().loadMessageBundle(e)},t.config=function(e){return s.default().config(e)}},1926:(e,t)=>{"use strict";var n;function r(){if(void 0===n)throw new Error("No runtime abstraction layer installed");return n}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.install=function(e){if(void 0===e)throw new Error("No runtime abstraction layer provided");n=e}}(r||(r={})),t.default=r},7373:(e,t,n)=>{"use strict";var r;n.r(t),n.d(t,{URI:()=>i,Utils:()=>o}),r=(()=>{var e={470:e=>{function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,r="",i=0,o=-1,s=0,a=0;a<=e.length;++a){if(a<e.length)n=e.charCodeAt(a);else{if(47===n)break;n=47}if(47===n){if(o===a-1||1===s);else if(o!==a-1&&2===s){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var c=r.lastIndexOf("/");if(c!==r.length-1){-1===c?(r="",i=0):i=(r=r.slice(0,c)).length-1-r.lastIndexOf("/"),o=a,s=0;continue}}else if(2===r.length||1===r.length){r="",i=0,o=a,s=0;continue}t&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+e.slice(o+1,a):r=e.slice(o+1,a),i=a-o-1;o=a,s=0}else 46===n&&-1!==s?++s:s=-1}return r}var r={resolve:function(){for(var e,r="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s;o>=0?s=arguments[o]:(void 0===e&&(e=process.cwd()),s=e),t(s),0!==s.length&&(r=s+"/"+r,i=47===s.charCodeAt(0))}return r=n(r,!i),i?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(e){if(t(e),0===e.length)return".";var r=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=n(e,!r)).length||r||(e="."),e.length>0&&i&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var i=arguments[n];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":r.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n)return"";if((e=r.resolve(e))===(n=r.resolve(n)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var o=e.length,s=o-i,a=1;a<n.length&&47===n.charCodeAt(a);++a);for(var c=n.length-a,l=s<c?s:c,u=-1,d=0;d<=l;++d){if(d===l){if(c>l){if(47===n.charCodeAt(a+d))return n.slice(a+d+1);if(0===d)return n.slice(a+d)}else s>l&&(47===e.charCodeAt(i+d)?u=d:0===d&&(u=0));break}var f=e.charCodeAt(i+d);if(f!==n.charCodeAt(a+d))break;47===f&&(u=d)}var p="";for(d=i+u+1;d<=o;++d)d!==o&&47!==e.charCodeAt(d)||(0===p.length?p+="..":p+="/..");return p.length>0?p+n.slice(a+u):(a+=u,47===n.charCodeAt(a)&&++a,n.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=e.charCodeAt(0),r=47===n,i=-1,o=!0,s=e.length-1;s>=1;--s)if(47===(n=e.charCodeAt(s))){if(!o){i=s;break}}else o=!1;return-1===i?r?"/":".":r&&1===i?"//":e.slice(0,i)},basename:function(e,n){if(void 0!==n&&"string"!=typeof n)throw new TypeError('"ext" argument must be a string');t(e);var r,i=0,o=-1,s=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var a=n.length-1,c=-1;for(r=e.length-1;r>=0;--r){var l=e.charCodeAt(r);if(47===l){if(!s){i=r+1;break}}else-1===c&&(s=!1,c=r+1),a>=0&&(l===n.charCodeAt(a)?-1==--a&&(o=r):(a=-1,o=c))}return i===o?o=c:-1===o&&(o=e.length),e.slice(i,o)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!s){i=r+1;break}}else-1===o&&(s=!1,o=r+1);return-1===o?"":e.slice(i,o)},extname:function(e){t(e);for(var n=-1,r=0,i=-1,o=!0,s=0,a=e.length-1;a>=0;--a){var c=e.charCodeAt(a);if(47!==c)-1===i&&(o=!1,i=a+1),46===c?-1===n?n=a:1!==s&&(s=1):-1!==n&&(s=-1);else if(!o){r=a+1;break}}return-1===n||-1===i||0===s||1===s&&n===i-1&&n===r+1?"":e.slice(n,i)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+"/"+r:r}(0,e)},parse:function(e){t(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var r,i=e.charCodeAt(0),o=47===i;o?(n.root="/",r=1):r=0;for(var s=-1,a=0,c=-1,l=!0,u=e.length-1,d=0;u>=r;--u)if(47!==(i=e.charCodeAt(u)))-1===c&&(l=!1,c=u+1),46===i?-1===s?s=u:1!==d&&(d=1):-1!==s&&(d=-1);else if(!l){a=u+1;break}return-1===s||-1===c||0===d||1===d&&s===c-1&&s===a+1?-1!==c&&(n.base=n.name=0===a&&o?e.slice(1,c):e.slice(a,c)):(0===a&&o?(n.name=e.slice(1,s),n.base=e.slice(1,c)):(n.name=e.slice(a,s),n.base=e.slice(a,c)),n.ext=e.slice(s,c)),a>0?n.dir=e.slice(0,a-1):o&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,e.exports=r},447:(e,t,n)=>{var r;if(n.r(t),n.d(t,{URI:()=>h,Utils:()=>_}),"object"==typeof process)r=!1;else if("object"==typeof navigator){var i=navigator.userAgent;r=i.indexOf("Windows")>=0}var o,s,a=(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),c=/^\w[\w\d+.-]*$/,l=/^\//,u=/^\/\//;function d(e,t){if(!e.scheme&&t)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(e.authority,'", path: "').concat(e.path,'", query: "').concat(e.query,'", fragment: "').concat(e.fragment,'"}'));if(e.scheme&&!c.test(e.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(e.path)if(e.authority){if(!l.test(e.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(u.test(e.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}var f="",p="/",g=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,h=function(){function e(e,t,n,r,i,o){void 0===o&&(o=!1),"object"==typeof e?(this.scheme=e.scheme||f,this.authority=e.authority||f,this.path=e.path||f,this.query=e.query||f,this.fragment=e.fragment||f):(this.scheme=function(e,t){return e||t?e:"file"}(e,o),this.authority=t||f,this.path=function(e,t){switch(e){case"https":case"http":case"file":t?t[0]!==p&&(t=p+t):t=p}return t}(this.scheme,n||f),this.query=r||f,this.fragment=i||f,d(this,o))}return e.isUri=function(t){return t instanceof e||!!t&&"string"==typeof t.authority&&"string"==typeof t.fragment&&"string"==typeof t.path&&"string"==typeof t.query&&"string"==typeof t.scheme&&"string"==typeof t.fsPath&&"function"==typeof t.with&&"function"==typeof t.toString},Object.defineProperty(e.prototype,"fsPath",{get:function(){return b(this,!1)},enumerable:!1,configurable:!0}),e.prototype.with=function(e){if(!e)return this;var t=e.scheme,n=e.authority,r=e.path,i=e.query,o=e.fragment;return void 0===t?t=this.scheme:null===t&&(t=f),void 0===n?n=this.authority:null===n&&(n=f),void 0===r?r=this.path:null===r&&(r=f),void 0===i?i=this.query:null===i&&(i=f),void 0===o?o=this.fragment:null===o&&(o=f),t===this.scheme&&n===this.authority&&r===this.path&&i===this.query&&o===this.fragment?this:new v(t,n,r,i,o)},e.parse=function(e,t){void 0===t&&(t=!1);var n=g.exec(e);return n?new v(n[2]||f,I(n[4]||f),I(n[5]||f),I(n[7]||f),I(n[9]||f),t):new v(f,f,f,f,f)},e.file=function(e){var t=f;if(r&&(e=e.replace(/\\/g,p)),e[0]===p&&e[1]===p){var n=e.indexOf(p,2);-1===n?(t=e.substring(2),e=p):(t=e.substring(2,n),e=e.substring(n)||p)}return new v("file",t,e,f,f)},e.from=function(e){var t=new v(e.scheme,e.authority,e.path,e.query,e.fragment);return d(t,!0),t},e.prototype.toString=function(e){return void 0===e&&(e=!1),w(this,e)},e.prototype.toJSON=function(){return this},e.revive=function(t){if(t){if(t instanceof e)return t;var n=new v(t);return n._formatted=t.external,n._fsPath=t._sep===m?t.fsPath:null,n}return t},e}(),m=r?1:void 0,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._formatted=null,t._fsPath=null,t}return a(t,e),Object.defineProperty(t.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=b(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(e){return void 0===e&&(e=!1),e?w(this,!0):(this._formatted||(this._formatted=w(this,!1)),this._formatted)},t.prototype.toJSON=function(){var e={$mid:1};return this._fsPath&&(e.fsPath=this._fsPath,e._sep=m),this._formatted&&(e.external=this._formatted),this.path&&(e.path=this.path),this.scheme&&(e.scheme=this.scheme),this.authority&&(e.authority=this.authority),this.query&&(e.query=this.query),this.fragment&&(e.fragment=this.fragment),e},t}(h),y=((s={})[58]="%3A",s[47]="%2F",s[63]="%3F",s[35]="%23",s[91]="%5B",s[93]="%5D",s[64]="%40",s[33]="%21",s[36]="%24",s[38]="%26",s[39]="%27",s[40]="%28",s[41]="%29",s[42]="%2A",s[43]="%2B",s[44]="%2C",s[59]="%3B",s[61]="%3D",s[32]="%20",s);function S(e,t){for(var n=void 0,r=-1,i=0;i<e.length;i++){var o=e.charCodeAt(i);if(o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||45===o||46===o||95===o||126===o||t&&47===o)-1!==r&&(n+=encodeURIComponent(e.substring(r,i)),r=-1),void 0!==n&&(n+=e.charAt(i));else{void 0===n&&(n=e.substr(0,i));var s=y[o];void 0!==s?(-1!==r&&(n+=encodeURIComponent(e.substring(r,i)),r=-1),n+=s):-1===r&&(r=i)}}return-1!==r&&(n+=encodeURIComponent(e.substring(r))),void 0!==n?n:e}function C(e){for(var t=void 0,n=0;n<e.length;n++){var r=e.charCodeAt(n);35===r||63===r?(void 0===t&&(t=e.substr(0,n)),t+=y[r]):void 0!==t&&(t+=e[n])}return void 0!==t?t:e}function b(e,t){var n;return n=e.authority&&e.path.length>1&&"file"===e.scheme?"//".concat(e.authority).concat(e.path):47===e.path.charCodeAt(0)&&(e.path.charCodeAt(1)>=65&&e.path.charCodeAt(1)<=90||e.path.charCodeAt(1)>=97&&e.path.charCodeAt(1)<=122)&&58===e.path.charCodeAt(2)?t?e.path.substr(1):e.path[1].toLowerCase()+e.path.substr(2):e.path,r&&(n=n.replace(/\//g,"\\")),n}function w(e,t){var n=t?C:S,r="",i=e.scheme,o=e.authority,s=e.path,a=e.query,c=e.fragment;if(i&&(r+=i,r+=":"),(o||"file"===i)&&(r+=p,r+=p),o){var l=o.indexOf("@");if(-1!==l){var u=o.substr(0,l);o=o.substr(l+1),-1===(l=u.indexOf(":"))?r+=n(u,!1):(r+=n(u.substr(0,l),!1),r+=":",r+=n(u.substr(l+1),!1)),r+="@"}-1===(l=(o=o.toLowerCase()).indexOf(":"))?r+=n(o,!1):(r+=n(o.substr(0,l),!1),r+=o.substr(l))}if(s){if(s.length>=3&&47===s.charCodeAt(0)&&58===s.charCodeAt(2))(d=s.charCodeAt(1))>=65&&d<=90&&(s="/".concat(String.fromCharCode(d+32),":").concat(s.substr(3)));else if(s.length>=2&&58===s.charCodeAt(1)){var d;(d=s.charCodeAt(0))>=65&&d<=90&&(s="".concat(String.fromCharCode(d+32),":").concat(s.substr(2)))}r+=n(s,!0)}return a&&(r+="?",r+=n(a,!1)),c&&(r+="#",r+=t?c:S(c,!1)),r}function x(e){try{return decodeURIComponent(e)}catch(t){return e.length>3?e.substr(0,3)+x(e.substr(3)):e}}var T=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function I(e){return e.match(T)?e.replace(T,(function(e){return x(e)})):e}var _,k=n(470),P=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},E=k.posix||k;!function(e){e.joinPath=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.with({path:E.join.apply(E,P([e.path],t,!1))})},e.resolvePath=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=e.path||"/";return e.with({path:E.resolve.apply(E,P([r],t,!1))})},e.dirname=function(e){var t=E.dirname(e.path);return 1===t.length&&46===t.charCodeAt(0)?e:e.with({path:t})},e.basename=function(e){return E.basename(e.path)},e.extname=function(e){return E.extname(e.path)}}(_||(_={}))}},t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}return n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(447)})();const{URI:i,Utils:o}=r},1023:e=>{"use strict";function t(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function n(e,t){for(var n,r="",i=0,o=-1,s=0,a=0;a<=e.length;++a){if(a<e.length)n=e.charCodeAt(a);else{if(47===n)break;n=47}if(47===n){if(o===a-1||1===s);else if(o!==a-1&&2===s){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var c=r.lastIndexOf("/");if(c!==r.length-1){-1===c?(r="",i=0):i=(r=r.slice(0,c)).length-1-r.lastIndexOf("/"),o=a,s=0;continue}}else if(2===r.length||1===r.length){r="",i=0,o=a,s=0;continue}t&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+e.slice(o+1,a):r=e.slice(o+1,a),i=a-o-1;o=a,s=0}else 46===n&&-1!==s?++s:s=-1}return r}var r={resolve:function(){for(var e,r="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var s;o>=0?s=arguments[o]:(void 0===e&&(e=process.cwd()),s=e),t(s),0!==s.length&&(r=s+"/"+r,i=47===s.charCodeAt(0))}return r=n(r,!i),i?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(e){if(t(e),0===e.length)return".";var r=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=n(e,!r)).length||r||(e="."),e.length>0&&i&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return t(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,n=0;n<arguments.length;++n){var i=arguments[n];t(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":r.normalize(e)},relative:function(e,n){if(t(e),t(n),e===n)return"";if((e=r.resolve(e))===(n=r.resolve(n)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var o=e.length,s=o-i,a=1;a<n.length&&47===n.charCodeAt(a);++a);for(var c=n.length-a,l=s<c?s:c,u=-1,d=0;d<=l;++d){if(d===l){if(c>l){if(47===n.charCodeAt(a+d))return n.slice(a+d+1);if(0===d)return n.slice(a+d)}else s>l&&(47===e.charCodeAt(i+d)?u=d:0===d&&(u=0));break}var f=e.charCodeAt(i+d);if(f!==n.charCodeAt(a+d))break;47===f&&(u=d)}var p="";for(d=i+u+1;d<=o;++d)d!==o&&47!==e.charCodeAt(d)||(0===p.length?p+="..":p+="/..");return p.length>0?p+n.slice(a+u):(a+=u,47===n.charCodeAt(a)&&++a,n.slice(a))},_makeLong:function(e){return e},dirname:function(e){if(t(e),0===e.length)return".";for(var n=e.charCodeAt(0),r=47===n,i=-1,o=!0,s=e.length-1;s>=1;--s)if(47===(n=e.charCodeAt(s))){if(!o){i=s;break}}else o=!1;return-1===i?r?"/":".":r&&1===i?"//":e.slice(0,i)},basename:function(e,n){if(void 0!==n&&"string"!=typeof n)throw new TypeError('"ext" argument must be a string');t(e);var r,i=0,o=-1,s=!0;if(void 0!==n&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var a=n.length-1,c=-1;for(r=e.length-1;r>=0;--r){var l=e.charCodeAt(r);if(47===l){if(!s){i=r+1;break}}else-1===c&&(s=!1,c=r+1),a>=0&&(l===n.charCodeAt(a)?-1==--a&&(o=r):(a=-1,o=c))}return i===o?o=c:-1===o&&(o=e.length),e.slice(i,o)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!s){i=r+1;break}}else-1===o&&(s=!1,o=r+1);return-1===o?"":e.slice(i,o)},extname:function(e){t(e);for(var n=-1,r=0,i=-1,o=!0,s=0,a=e.length-1;a>=0;--a){var c=e.charCodeAt(a);if(47!==c)-1===i&&(o=!1,i=a+1),46===c?-1===n?n=a:1!==s&&(s=1):-1!==n&&(s=-1);else if(!o){r=a+1;break}}return-1===n||-1===i||0===s||1===s&&n===i-1&&n===r+1?"":e.slice(n,i)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+"/"+r:r}(0,e)},parse:function(e){t(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return n;var r,i=e.charCodeAt(0),o=47===i;o?(n.root="/",r=1):r=0;for(var s=-1,a=0,c=-1,l=!0,u=e.length-1,d=0;u>=r;--u)if(47!==(i=e.charCodeAt(u)))-1===c&&(l=!1,c=u+1),46===i?-1===s?s=u:1!==d&&(d=1):-1!==s&&(d=-1);else if(!l){a=u+1;break}return-1===s||-1===c||0===d||1===d&&s===c-1&&s===a+1?-1!==c&&(n.base=n.name=0===a&&o?e.slice(1,c):e.slice(a,c)):(0===a&&o?(n.name=e.slice(1,s),n.base=e.slice(1,c)):(n.name=e.slice(a,s),n.base=e.slice(a,c)),n.ext=e.slice(s,c)),a>0?n.dir=e.slice(0,a-1):o&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,e.exports=r},1097:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getExtensionApi=void 0;class n{constructor(e,t){this.onCompletionAccepted=e,this._pluginManager=t}configurePlugin(e,t){this._pluginManager.setConfiguration(e,t)}}t.getExtensionApi=function(e,t){return{getAPI(r){if(0===r)return new n(e,t)}}}},6460:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommandManager=void 0;const r=n(7549);t.CommandManager=class{constructor(){this.commands=new Map}dispose(){for(const e of this.commands.values())e.dispose();this.commands.clear()}register(e){return this.commands.has(e.id)||this.commands.set(e.id,r.commands.registerCommand(e.id,e.execute,e)),e}}},9742:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurePluginCommand=void 0,t.ConfigurePluginCommand=class{constructor(e){this.pluginManager=e,this.id="_typescript.configurePlugin"}execute(e,t){this.pluginManager.setConfiguration(e,t)}}},2629:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JavaScriptGoToProjectConfigCommand=t.TypeScriptGoToProjectConfigCommand=void 0;const r=n(1807);t.TypeScriptGoToProjectConfigCommand=class{constructor(e,t){this.activeJsTsEditorTracker=e,this.lazyClientHost=t,this.id="typescript.goToProjectConfig"}execute(){const e=this.activeJsTsEditorTracker.activeJsTsEditor;e&&(0,r.openProjectConfigForFile)(0,this.lazyClientHost.value.serviceClient,e.document.uri)}},t.JavaScriptGoToProjectConfigCommand=class{constructor(e,t){this.activeJsTsEditorTracker=e,this.lazyClientHost=t,this.id="javascript.goToProjectConfig"}execute(){const e=this.activeJsTsEditorTracker.activeJsTsEditor;e&&(0,r.openProjectConfigForFile)(1,this.lazyClientHost.value.serviceClient,e.document.uri)}}},4201:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.registerBaseCommands=void 0;const r=n(9742),i=n(2629),o=n(392),s=n(6001),a=n(2611),c=n(1552),l=n(3276),u=n(6875);t.registerBaseCommands=function(e,t,n,d){e.register(new a.ReloadTypeScriptProjectsCommand(t)),e.register(new a.ReloadJavaScriptProjectsCommand(t)),e.register(new l.SelectTypeScriptVersionCommand(t)),e.register(new s.OpenTsServerLogCommand(t)),e.register(new c.RestartTsServerCommand(t)),e.register(new i.TypeScriptGoToProjectConfigCommand(d,t)),e.register(new i.JavaScriptGoToProjectConfigCommand(d,t)),e.register(new r.ConfigurePluginCommand(n)),e.register(new o.LearnMoreAboutRefactoringsCommand),e.register(new u.TSServerRequestCommand(t))}},392:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LearnMoreAboutRefactoringsCommand=void 0;const r=n(7549),i=n(3683);class o{constructor(){this.id=o.id}execute(){const e=r.window.activeTextEditor&&(0,i.isTypeScriptDocument)(r.window.activeTextEditor.document)?"https://go.microsoft.com/fwlink/?linkid=2114477":"https://go.microsoft.com/fwlink/?linkid=2116761";r.env.openExternal(r.Uri.parse(e))}}t.LearnMoreAboutRefactoringsCommand=o,o.id="_typescript.learnMoreAboutRefactorings"},6001:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenTsServerLogCommand=void 0,t.OpenTsServerLogCommand=class{constructor(e){this.lazyClientHost=e,this.id="typescript.openTsServerLog"}execute(){this.lazyClientHost.value.serviceClient.openTsServerLogFile()}}},2611:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReloadJavaScriptProjectsCommand=t.ReloadTypeScriptProjectsCommand=void 0,t.ReloadTypeScriptProjectsCommand=class{constructor(e){this.lazyClientHost=e,this.id="typescript.reloadProjects"}execute(){this.lazyClientHost.value.reloadProjects()}},t.ReloadJavaScriptProjectsCommand=class{constructor(e){this.lazyClientHost=e,this.id="javascript.reloadProjects"}execute(){this.lazyClientHost.value.reloadProjects()}}},1552:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RestartTsServerCommand=void 0,t.RestartTsServerCommand=class{constructor(e){this.lazyClientHost=e,this.id="typescript.restartTsServer"}execute(){this.lazyClientHost.value.serviceClient.restartTsServer(!0)}}},3276:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectTypeScriptVersionCommand=void 0;class n{constructor(e){this.lazyClientHost=e,this.id=n.id}execute(){this.lazyClientHost.value.serviceClient.showVersionPicker()}}t.SelectTypeScriptVersionCommand=n,n.id="typescript.selectTypeScriptVersion"},6875:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TSServerRequestCommand=void 0;const r=n(3219);t.TSServerRequestCommand=class{constructor(e){this.lazyClientHost=e,this.id="typescript.tsserverRequest"}execute(e,t,n){const i=r.nulToken;if(["emit-output","semanticDiagnosticsSync","syntacticDiagnosticsSync","suggestionDiagnosticsSync","quickinfo","quickinfo-full","completionInfo"].includes(e))return this.lazyClientHost.value.serviceClient.execute(e,t,i,n)}}},1072:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.register=void 0;const r=n(1023),i=n(7549),o=n(4156),s=n(5162),a=n(9638),c=n(2298),l=n(308),u=n(231);class d{constructor(e){this.client=e}async prepareCallHierarchy(e,t,n){const r=this.client.toOpenedFilePath(e);if(!r)return;const i=u.Position.toFileLocationRequestArgs(r,t),o=await this.client.execute("prepareCallHierarchy",i,n);return"response"===o.type&&o.body?Array.isArray(o.body)?o.body.map(f):f(o.body):void 0}async provideCallHierarchyIncomingCalls(e,t){const n=this.client.toPath(e.uri);if(!n)return;const r=u.Position.toFileLocationRequestArgs(n,e.selectionRange.start),i=await this.client.execute("provideCallHierarchyIncomingCalls",r,t);return"response"===i.type&&i.body?i.body.map(p):void 0}async provideCallHierarchyOutgoingCalls(e,t){const n=this.client.toPath(e.uri);if(!n)return;const r=u.Position.toFileLocationRequestArgs(n,e.selectionRange.start),i=await this.client.execute("provideCallHierarchyOutgoingCalls",r,t);return"response"===i.type&&i.body?i.body.map(g):void 0}}function f(e){const t=function(e){return e.kind===o.Kind.script||e.kind===o.Kind.module&&1===e.selectionSpan.start.line&&1===e.selectionSpan.start.offset}(e),n=t?r.basename(e.file):e.name,s=t?i.workspace.asRelativePath(r.dirname(e.file)):e.containerName??"",a=new i.CallHierarchyItem(u.SymbolKind.fromProtocolScriptElementKind(e.kind),n,s,i.Uri.file(e.file),u.Range.fromTextSpan(e.span),u.Range.fromTextSpan(e.selectionSpan));return(e.kindModifiers?(0,l.parseKindModifier)(e.kindModifiers):void 0)?.has(o.KindModifiers.deprecated)&&(a.tags=[i.SymbolTag.Deprecated]),a}function p(e){return new i.CallHierarchyIncomingCall(f(e.from),e.fromSpans.map(u.Range.fromTextSpan))}function g(e){return new i.CallHierarchyOutgoingCall(f(e.to),e.fromSpans.map(u.Range.fromTextSpan))}d.minVersion=a.default.v380,t.register=function(e,t){return(0,c.conditionalRegistration)([(0,c.requireMinVersion)(t,d.minVersion),(0,c.requireSomeCapability)(t,s.ClientCapability.Semantic)],(()=>i.languages.registerCallHierarchyProvider(e.semantic,new d(t))))}},2685:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSymbolRange=t.TypeScriptBaseCodeLensProvider=t.ReferencesCodeLens=void 0;const r=n(7549),i=n(189),o=n(8568),s=n(231),a=i.loadMessageBundle();class c extends r.CodeLens{constructor(e,t,n){super(n),this.document=e,this.file=t}}t.ReferencesCodeLens=c;class l{constructor(e,t){this.client=e,this.cachedResponse=t}async provideCodeLenses(e,t){const n=this.client.toOpenedFilePath(e);if(!n)return[];const r=await this.cachedResponse.execute(e,(()=>this.client.execute("navtree",{file:n},t)));if("response"!==r.type)return[];const i=[];return r.body?.childItems?.forEach((t=>this.walkNavTree(e,t,void 0,i))),i.map((t=>new c(e.uri,n,t)))}walkNavTree(e,t,n,r){const i=this.extractSymbol(e,t,n);i&&r.push(i),t.childItems?.forEach((n=>this.walkNavTree(e,n,t,r)))}}t.TypeScriptBaseCodeLensProvider=l,l.cancelledCommand={title:"",command:""},l.errorCommand={title:a("referenceErrorLabel","Could not determine references"),command:""},t.getSymbolRange=function(e,t){if(t.nameSpan)return s.Range.fromTextSpan(t.nameSpan);const n=t.spans?.[0];if(!n)return;const i=s.Range.fromTextSpan(n),a=e.getText(i),c=new RegExp(`^(.*?(\\b|\\W))${(0,o.escapeRegExp)(t.text||"")}(\\b|\\W)`,"gm").exec(a),l=c?c.index+c[1].length:0,u=e.offsetAt(new r.Position(i.start.line,i.start.character))+l;return new r.Range(e.positionAt(u),e.positionAt(u+t.text.length))}},5744:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.register=void 0;const r=n(7549),i=n(189),o=n(4156),s=n(5162),a=n(2298),c=n(231),l=n(2685),u=i.loadMessageBundle();class d extends l.TypeScriptBaseCodeLensProvider{async resolveCodeLens(e,t){const n=c.Position.toFileLocationRequestArgs(e.file,e.range.start),i=await this.client.execute("implementation",n,t,{lowPriority:!0,cancelOnResourceChange:e.document});if("response"!==i.type||!i.body)return e.command="cancelled"===i.type?l.TypeScriptBaseCodeLensProvider.cancelledCommand:l.TypeScriptBaseCodeLensProvider.errorCommand,e;const o=i.body.map((e=>new r.Location(this.client.toResource(e.file),e.start.line===e.end.line?c.Range.fromTextSpan(e):new r.Range(c.Position.fromLocation(e.start),new r.Position(e.start.line,0))))).filter((t=>!(t.uri.toString()===e.document.toString()&&t.range.start.line===e.range.start.line&&t.range.start.character===e.range.start.character)));return e.command=this.getCommand(o,e),e}getCommand(e,t){return{title:this.getTitle(e),command:e.length?"editor.action.showReferences":"",arguments:[t.document,t.range.start,e]}}getTitle(e){return 1===e.length?u("oneImplementationLabel","1 implementation"):u("manyImplementationLabel","{0} implementations",e.length)}extractSymbol(e,t,n){switch(t.kind){case o.Kind.interface:return(0,l.getSymbolRange)(e,t);case o.Kind.class:case o.Kind.method:case o.Kind.memberVariable:case o.Kind.memberGetAccessor:case o.Kind.memberSetAccessor:if(t.kindModifiers.match(/\babstract\b/g))return(0,l.getSymbolRange)(e,t)}}}t.default=d,t.register=function(e,t,n,i){return(0,a.conditionalRegistration)([(0,a.requireGlobalConfiguration)(t.id,"implementationsCodeLens.enabled"),(0,a.requireSomeCapability)(n,s.ClientCapability.Semantic)],(()=>r.languages.registerCodeLensProvider(e.semantic,new d(n,i))))}},9182:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.register=t.TypeScriptReferencesCodeLensProvider=void 0;const r=n(7549),i=n(189),o=n(4156),s=n(7347),a=n(5162),c=n(2298),l=n(231),u=n(2685),d=i.loadMessageBundle();class f extends u.TypeScriptBaseCodeLensProvider{constructor(e,t,n){super(e,t),this._cachedResponse=t,this.language=n}async resolveCodeLens(e,t){const n=l.Position.toFileLocationRequestArgs(e.file,e.range.start),r=await this.client.execute("references",n,t,{lowPriority:!0,executionTarget:s.ExecutionTarget.Semantic,cancelOnResourceChange:e.document});if("response"!==r.type||!r.body)return e.command="cancelled"===r.type?u.TypeScriptBaseCodeLensProvider.cancelledCommand:u.TypeScriptBaseCodeLensProvider.errorCommand,e;const i=r.body.refs.filter((e=>!e.isDefinition)).map((e=>l.Location.fromTextSpan(this.client.toResource(e.file),e)));return e.command={title:this.getCodeLensLabel(i),command:i.length?"editor.action.showReferences":"",arguments:[e.document,e.range.start,i]},e}getCodeLensLabel(e){return 1===e.length?d("oneReferenceLabel","1 reference"):d("manyReferenceLabel","{0} references",e.length)}extractSymbol(e,t,n){if(n&&n.kind===o.Kind.enum)return(0,u.getSymbolRange)(e,t);switch(t.kind){case o.Kind.function:if(r.workspace.getConfiguration(this.language.id).get("referencesCodeLens.showOnAllFunctions"))return(0,u.getSymbolRange)(e,t);case o.Kind.const:case o.Kind.let:case o.Kind.variable:if(/\bexport\b/.test(t.kindModifiers))return(0,u.getSymbolRange)(e,t);break;case o.Kind.class:if("<class>"===t.text)break;return(0,u.getSymbolRange)(e,t);case o.Kind.interface:case o.Kind.type:case o.Kind.enum:return(0,u.getSymbolRange)(e,t);case o.Kind.method:case o.Kind.memberGetAccessor:case o.Kind.memberSetAccessor:case o.Kind.constructorImplementation:case o.Kind.memberVariable:if(n&&l.Position.fromLocation(n.spans[0].start).isEqual(l.Position.fromLocation(t.spans[0].start)))return;switch(n?.kind){case o.Kind.class:case o.Kind.interface:case o.Kind.type:return(0,u.getSymbolRange)(e,t)}}}}t.TypeScriptReferencesCodeLensProvider=f,t.register=function(e,t,n,i){return(0,c.conditionalRegistration)([(0,c.requireGlobalConfiguration)(t.id,"referencesCodeLens.enabled"),(0,c.requireSomeCapability)(n,a.ClientCapability.Semantic)],(()=>r.languages.registerCodeLensProvider(e.semantic,new f(n,i,t))))}},2916:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.register=void 0;const r=n(7549),i=n(189),o=n(4156),s=n(5162),a=n(9638),c=n(3219),l=n(4654),u=n(2298),d=n(308),f=n(3539),p=n(7201),g=n(231),h=i.loadMessageBundle();class m extends r.CompletionItem{constructor(e,t,n,i,s,a){if(super(n.name,m.convertKind(n.kind)),this.position=e,this.document=t,this.tsEntry=n,this.completionContext=i,this.metadata=s,n.source&&n.hasAction){this.sortText="￿"+n.sortText;const e=r.workspace.asRelativePath(n.source);e!==n.source&&(this.label={label:n.name,description:e})}else this.sortText=n.sortText;const{sourceDisplay:c,isSnippet:l}=n;if(c&&(this.label={label:n.name,description:f.plainWithLinks(c,a)}),n.labelDetails&&(this.label={label:n.name,...n.labelDetails}),this.preselect=n.isRecommended,this.position=e,this.useCodeSnippet=i.useCodeSnippetsOnMethodSuggest&&(this.kind===r.CompletionItemKind.Function||this.kind===r.CompletionItemKind.Method),this.range=this.getRangeFromReplacementSpan(n,i),this.commitCharacters=m.getCommitCharacters(i,n),this.insertText=l&&n.insertText?new r.SnippetString(n.insertText):n.insertText,this.filterText=this.getFilterText(i.line,n.insertText),i.isMemberCompletion&&i.dotAccessorContext&&!(this.insertText instanceof r.SnippetString)&&(this.filterText=i.dotAccessorContext.text+(this.insertText||this.label),!this.range)){const e=this.getFuzzyWordRange();this.range=e?{inserting:i.dotAccessorContext.range,replacing:i.dotAccessorContext.range.union(e)}:i.dotAccessorContext.range,this.insertText=this.filterText}if(n.kindModifiers){const e=(0,d.parseKindModifier)(n.kindModifiers);e.has(o.KindModifiers.optional)&&(this.insertText||(this.insertText=this.textLabel),this.filterText||(this.filterText=this.textLabel),"string"==typeof this.label?this.label+="?":this.label.label+="?"),e.has(o.KindModifiers.deprecated)&&(this.tags=[r.CompletionItemTag.Deprecated]),e.has(o.KindModifiers.color)&&(this.kind=r.CompletionItemKind.Color),this.detail=function(e){if(!e.kindModifiers||e.kind!==o.Kind.script)return;const t=(0,d.parseKindModifier)(e.kindModifiers);for(const n of o.KindModifiers.fileExtensionKindModifiers)if(t.has(n))return e.name.toLowerCase().endsWith(n)?e.name:e.name+n}(n)}this.resolveRange()}get textLabel(){return"string"==typeof this.label?this.label:this.label.label}async resolveCompletionItem(e,t){if(t.onCancellationRequested((()=>{this._resolvedPromise&&--this._resolvedPromise.waiting<=0&&setTimeout((()=>{this._resolvedPromise&&this._resolvedPromise.waiting<=0&&this._resolvedPromise.requestToken.cancel()}),300)})),this._resolvedPromise)return++this._resolvedPromise.waiting,this._resolvedPromise.promise;const n=new r.CancellationTokenSource,i=(async()=>{const i=e.toOpenedFilePath(this.document);if(!i)return;const o={...g.Position.toFileLocationRequestArgs(i,this.position),entryNames:[this.tsEntry.source||this.tsEntry.data?{name:this.tsEntry.name,source:this.tsEntry.source,data:this.tsEntry.data}:this.tsEntry.name]},s=await e.interruptGetErr((()=>e.execute("completionEntryDetails",o,n.token)));if("response"!==s.type||!s.body||!s.body.length)return;const a=s.body[0],c=this.getDetails(e,a);c&&(this.detail=c),this.documentation=this.getDocumentation(e,a,this.document.uri);const l=this.getCodeActions(a,i),u=[{command:v.ID,title:"",arguments:[this]}];l.command&&u.push(l.command);const d=l.additionalTextEdits;if(this.useCodeSnippet&&await this.isValidFunctionCompletionContext(e,i,this.position,this.document,t)){const{snippet:e,parameterCount:t}=(0,p.snippetForFunctionCall)({...this,label:this.textLabel},a.displayParts);this.insertText=e,t>0&&r.workspace.getConfiguration("editor.parameterHints").get("enabled")&&u.push({title:"triggerParameterHints",command:"editor.action.triggerParameterHints"})}return{commands:u,edits:d}})();return this._resolvedPromise={promise:i,requestToken:n,waiting:1},this._resolvedPromise.promise}getDetails(e,t){const n=[];if(t.kind!==o.Kind.script){for(const e of t.codeActions??[])n.push(e.description);return n.push(f.plainWithLinks(t.displayParts,e)),n.join("\n\n")}}getDocumentation(e,t,n){const i=new r.MarkdownString;return f.addMarkdownDocumentation(i,t.documentation,t.tags,e),i.baseUri=n,i.value.length?i:void 0}async isValidFunctionCompletionContext(e,t,n,r,i){try{const r=g.Position.toFileLocationRequestArgs(t,n),o=await e.execute("quickinfo",r,i);if("response"===o.type&&o.body)switch(o.body.kind){case"var":case"let":case"const":case"alias":return!1}}catch{}return null===r.lineAt(n.line).text.slice(n.character).match(/^[a-z_$0-9]*\s*\(/gi)}getCodeActions(e,t){if(!e.codeActions||!e.codeActions.length)return{};const n=[];let r,i=!1;for(const r of e.codeActions)if(r.commands&&(i=!0),r.changes)for(const e of r.changes)e.fileName===t?n.push(...e.textChanges.map(g.TextEdit.fromCodeEdit)):i=!0;return i&&(r={title:"",command:S.ID,arguments:[t,e.codeActions.map((e=>({commands:e.commands,description:e.description,changes:e.changes.filter((e=>e.fileName!==t))})))]}),{command:r,additionalTextEdits:n.length?n:void 0}}getRangeFromReplacementSpan(e,t){if(!e.replacementSpan)return;let n=g.Range.fromTextSpan(e.replacementSpan);return n.isSingleLine||(n=new r.Range(n.start.line,n.start.character,n.start.line,t.line.length)),{inserting:n,replacing:n}}getFilterText(e,t){if(this.tsEntry.name.startsWith("#")){const n=this.completionContext.wordRange,r=n?e.charAt(n.start.character):void 0;return t?t.startsWith("this.#")?"#"===r?t:t.replace(/^this\.#/,""):t:"#"===r?void 0:this.tsEntry.name.replace(/^#/,"")}if(!t?.startsWith("this."))return t?.startsWith("[")?t.replace(/^\[['"](.+)[['"]\]$/,".$1"):t}resolveRange(){if(this.range)return;const e=this.getFuzzyWordRange();e&&(this.range={inserting:new r.Range(e.start,this.position),replacing:e})}getFuzzyWordRange(){if(this.completionContext.useFuzzyWordRangeLogic){const e=this.completionContext.line.slice(Math.max(0,this.position.character-this.textLabel.length),this.position.character).toLowerCase(),t=this.textLabel.toLowerCase();for(let n=t.length;n>=0;--n)if(e.endsWith(t.substr(0,n))&&(!this.completionContext.wordRange||this.completionContext.wordRange.start.character>this.position.character-n))return new r.Range(new r.Position(this.position.line,Math.max(0,this.position.character-n)),this.position)}return this.completionContext.wordRange}static convertKind(e){switch(e){case o.Kind.primitiveType:case o.Kind.keyword:return r.CompletionItemKind.Keyword;case o.Kind.const:case o.Kind.let:case o.Kind.variable:case o.Kind.localVariable:case o.Kind.alias:case o.Kind.parameter:return r.CompletionItemKind.Variable;case o.Kind.memberVariable:case o.Kind.memberGetAccessor:case o.Kind.memberSetAccessor:return r.CompletionItemKind.Field;case o.Kind.function:case o.Kind.localFunction:return r.CompletionItemKind.Function;case o.Kind.method:case o.Kind.constructSignature:case o.Kind.callSignature:case o.Kind.indexSignature:return r.CompletionItemKind.Method;case o.Kind.enum:return r.CompletionItemKind.Enum;case o.Kind.enumMember:return r.CompletionItemKind.EnumMember;case o.Kind.module:case o.Kind.externalModuleName:return r.CompletionItemKind.Module;case o.Kind.class:case o.Kind.type:return r.CompletionItemKind.Class;case o.Kind.interface:return r.CompletionItemKind.Interface;case o.Kind.warning:return r.CompletionItemKind.Text;case o.Kind.script:return r.CompletionItemKind.File;case o.Kind.directory:return r.CompletionItemKind.Folder;case o.Kind.string:return r.CompletionItemKind.Constant;default:return r.CompletionItemKind.Property}}static getCommitCharacters(e,t){if(t.kind===o.Kind.warning||t.kind===o.Kind.string)return;if(e.isNewIdentifierLocation||!e.isInValidCommitCharacterContext)return;const n=[".",",",";"];return e.enableCallCompletions&&n.push("("),n}}class v{constructor(e,t){this.onCompletionAccepted=e,this.telemetryReporter=t,this.id=v.ID}execute(e){this.onCompletionAccepted(e),e instanceof m&&this.telemetryReporter.logTelemetry("completions.accept",{isPackageJsonImport:e.tsEntry.isPackageJsonImport?"true":void 0,isImportStatementCompletion:e.tsEntry.isImportStatementCompletion?"true":void 0})}}v.ID="_typescript.onCompletionAccepted";class y{constructor(e){this.client=e,this.id=y.ID}async execute(e){const t=await e.resolveCompletionItem(this.client,c.nulToken);if(!t)return;const{edits:n,commands:i}=t;if(n){const t=new r.WorkspaceEdit;for(const r of n)t.replace(e.document.uri,r.range,r.newText);await r.workspace.applyEdit(t)}for(const e of i)await r.commands.executeCommand(e.command,...e.arguments??[])}}y.ID="_typescript.applyCompletionCommand";class S{constructor(e){this.client=e,this.id=S.ID}async execute(e,t){if(0===t.length)return!0;if(1===t.length)return(0,l.applyCodeAction)(this.client,t[0],c.nulToken);const n=await r.window.showQuickPick(t.map((e=>({label:e.description,description:"",action:e}))),{placeHolder:h("selectCodeAction","Select code action to apply")});return!!n&&(0,l.applyCodeAction)(this.client,n.action,c.nulToken)}}var C;S.ID="_typescript.applyCompletionCodeAction",function(e){e.useCodeSnippetsOnMethodSuggest="suggest.completeFunctionCalls",e.nameSuggestions="suggest.names",e.pathSuggestions="suggest.paths",e.autoImportSuggestions="suggest.autoImports",e.importStatementSuggestions="suggest.importStatements",e.getConfigurationForResource=function(t,n){const i=r.workspace.getConfiguration(t,n);return{useCodeSnippetsOnMethodSuggest:i.get(e.useCodeSnippetsOnMethodSuggest,!1),pathSuggestions:i.get(e.pathSuggestions,!0),autoImportSuggestions:i.get(e.autoImportSuggestions,!0),nameSuggestions:i.get(e.nameSuggestions,!0),importStatementSuggestions:i.get(e.importStatementSuggestions,!0)}}}(C||(C={}));class b{constructor(e,t,n,r,i,o,s){this.client=e,this.language=t,this.typingsStatus=n,this.fileConfigurationManager=r,this.telemetryReporter=o,i.register(new S(this.client)),i.register(new v(s,this.telemetryReporter)),i.register(new y(this.client))}async provideCompletionItems(e,t,n,i){if(!r.workspace.getConfiguration(this.language.id,e).get("suggest.enabled"))return;if(this.typingsStatus.isAcquiringTypings)return Promise.reject({label:h({key:"acquiringTypingsLabel",comment:["Typings refers to the *.d.ts typings files that power our IntelliSense. It should not be localized"]},"Acquiring typings..."),detail:h({key:"acquiringTypingsDetail",comment:["Typings refers to the *.d.ts typings files that power our IntelliSense. It should not be localized"]},"Acquiring typings definitions for IntelliSense.")});const o=this.client.toOpenedFilePath(e);if(!o)return;const s=e.lineAt(t.line),c=C.getConfigurationForResource(this.language.id,e.uri);if(!this.shouldTrigger(i,s,t,c))return;let l=e.getWordRangeAtPosition(t);if(l&&!l.isEmpty){const t=l.start.translate(0,1);"@"===e.getText(new r.Range(l.start,t))&&(l=l.with(t))}await this.client.interruptGetErr((()=>this.fileConfigurationManager.ensureConfigurationForDocument(e,n)));const u={...g.Position.toFileLocationRequestArgs(o,t),includeExternalModuleExports:c.autoImportSuggestions,includeInsertTextCompletions:!0,triggerCharacter:this.getTsTriggerCharacter(i),triggerKind:g.CompletionTriggerKind.toProtocolCompletionTriggerKind(i.triggerKind)};let d,f,p,v,S,b=!0,x=!1,T=!1;if(this.client.apiVersion.gte(a.default.v300)){const i=Date.now();try{v=await this.client.interruptGetErr((()=>this.client.execute("completionInfo",u,n)))}finally{S=Date.now()-i}if("response"!==v.type||!v.body)return void this.logCompletionsTelemetry(S,v);if(b=v.body.isNewIdentifierLocation,T=v.body.isMemberCompletion,T){const n=s.text.slice(0,t.character).match(/\??\.\s*$/)||void 0;if(n){const i=new r.Range(t.translate({characterDelta:-n[0].length}),t);d={range:i,text:e.getText(i)}}}x=!!v.body.isIncomplete||v.metadata&&v.metadata.isIncomplete,f=v.body.entries,p=v.metadata}else{const e=await this.client.interruptGetErr((()=>this.client.execute("completions",u,n)));if("response"!==e.type||!e.body)return;f=e.body,p=e.metadata}const I={isNewIdentifierLocation:b,isMemberCompletion:T,dotAccessorContext:d,isInValidCommitCharacterContext:this.isInValidCommitCharacterContext(e,t),enableCallCompletions:!c.useCodeSnippetsOnMethodSuggest,wordRange:l,line:s.text,useCodeSnippetsOnMethodSuggest:c.useCodeSnippetsOnMethodSuggest,useFuzzyWordRangeLogic:this.client.apiVersion.lt(a.default.v390)};let _=!1,k=!1;const P=[];for(const n of f)if(!w(n,c)){const r=new m(t,e,n,I,p,this.client);r.command={command:y.ID,title:"",arguments:[r]},P.push(r),_=_||!!n.isPackageJsonImport,k=k||!!n.isImportStatementCompletion}return void 0!==S&&this.logCompletionsTelemetry(S,v,_,k),new r.CompletionList(P,x)}logCompletionsTelemetry(e,t,n,r){this.telemetryReporter.logTelemetry("completions.execute",{duration:String(e),type:t?.type??"unknown",flags:"response"===t?.type&&"number"==typeof t.body?.flags?String(t.body.flags):void 0,count:String("response"===t?.type&&t.body?t.body.entries.length:0),updateGraphDurationMs:"response"===t?.type&&"number"==typeof t.performanceData?.updateGraphDurationMs?String(t.performanceData.updateGraphDurationMs):void 0,createAutoImportProviderProgramDurationMs:"response"===t?.type&&"number"==typeof t.performanceData?.createAutoImportProviderProgramDurationMs?String(t.performanceData.createAutoImportProviderProgramDurationMs):void 0,includesPackageJsonImport:n?"true":void 0,includesImportStatementCompletion:r?"true":void 0})}getTsTriggerCharacter(e){switch(e.triggerCharacter){case"@":return this.client.apiVersion.gte(a.default.v310)&&this.client.apiVersion.lt(a.default.v320)?void 0:"@";case"#":return this.client.apiVersion.lt(a.default.v381)?void 0:"#";case" ":{const e=" ";return this.client.apiVersion.gte(a.default.v430)?e:void 0}case".":case'"':case"'":case"`":case"/":case"<":return e.triggerCharacter}}async resolveCompletionItem(e,t){return await e.resolveCompletionItem(this.client,t),e}isInValidCommitCharacterContext(e,t){return!(this.client.apiVersion.lt(a.default.v320)&&t.character>1)||null===e.getText(new r.Range(t.line,0,t.line,t.character)).match(/(\s|^)\.$/gi)}shouldTrigger(e,t,n,r){if(e.triggerCharacter&&this.client.apiVersion.lt(a.default.v290)){if('"'===e.triggerCharacter||"'"===e.triggerCharacter){const e=t.text.slice(0,n.character);if(!/\b(from|import)\s*["']$/.test(e)&&!/\b(import|require)\(['"]$/.test(e))return!1}if("/"===e.triggerCharacter){const e=t.text.slice(0,n.character);if(!/\b(from|import)\s*["'][^'"]*$/.test(e)&&!/\b(import|require)\(['"][^'"]*$/.test(e))return!1}if("@"===e.triggerCharacter){const e=t.text.slice(0,n.character);if(!/^\s*\*[ ]?@/.test(e)&&!/\/\*\*+[ ]?@/.test(e))return!1}if("<"===e.triggerCharacter)return!1}return" "!==e.triggerCharacter||!(!r.importStatementSuggestions||this.client.apiVersion.lt(a.default.v430))&&"import"===t.text.slice(0,n.character)}}function w(e,t){return!t.nameSuggestions&&e.kind===o.Kind.warning||!t.pathSuggestions&&(e.kind===o.Kind.directory||e.kind===o.Kind.script||e.kind===o.Kind.externalModuleName)||!t.autoImportSuggestions&&e.hasAction}b.triggerCharacters=[".",'"',"'","`","/","@","<","#"," "],t.register=function(e,t,n,i,o,a,c,l){return(0,u.conditionalRegistration)([(0,u.requireSomeCapability)(n,s.ClientCapability.EnhancedSyntax,s.ClientCapability.Semantic)],(()=>r.languages.registerCompletionItemProvider(e.syntax,new b(n,t,i,o,a,c,l),...b.triggerCharacters)))}},8695:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(231);t.default=class{constructor(e){this.client=e}async getSymbolLocations(e,t,n,i){const o=this.client.toOpenedFilePath(t);if(!o)return;const s=r.Position.toFileLocationRequestArgs(o,n),a=await this.client.execute(e,s,i);return"response"===a.type&&a.body?a.body.map((e=>r.Location.fromTextSpan(this.client.toResource(e.file),e))):void 0}}},2308:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.register=void 0;const r=n(7549),i=n(5162),o=n(9638),s=n(2298),a=n(231),c=n(8695);class l extends c.default{constructor(e){super(e)}async provideDefinition(e,t,n){if(this.client.apiVersion.gte(o.default.v270)){const r=this.client.toOpenedFilePath(e);if(!r)return;const i=a.Position.toFileLocationRequestArgs(r,t),o=await this.client.execute("definitionAndBoundSpan",i,n);if("response"!==o.type||!o.body)return;const s=o.body.textSpan?a.Range.fromTextSpan(o.body.textSpan):void 0;return o.body.definitions.map((e=>{const t=a.Location.fromTextSpan(this.client.toResource(e.file),e);return e.contextStart&&e.contextEnd?{originSelectionRange:s,targetRange:a.Range.fromLocations(e.contextStart,e.contextEnd),targetUri:t.uri,targetSelectionRange:t.range}:{originSelectionRange:s,targetRange:t.range,targetUri:t.uri}}))}return this.getSymbolLocations("definition",e,t,n)}}t.default=l,t.register=function(e,t){return(0,s.conditionalRegistration)([(0,s.requireSomeCapability)(t,i.ClientCapability.EnhancedSyntax,i.ClientCapability.Semantic)],(()=>r.languages.registerDefinitionProvider(e.syntax,new l(t))))}},9283:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticsManager=void 0;const r=n(7549),i=n(6929),o=n(4009),s=n(7478);function a(e,t){return e===t||e.code===t.code&&e.message===t.message&&e.severity===t.severity&&e.source===t.source&&e.range.isEqual(t.range)&&i.equals(e.relatedInformation||i.empty,t.relatedInformation||i.empty,((e,t)=>e.message===t.message&&e.location.range.isEqual(t.location.range)&&e.location.uri.fsPath===t.location.uri.fsPath))&&i.equals(e.tags||i.empty,t.tags||i.empty)}class c{constructor(e,t){this.file=e,this.language=t,this._diagnostics=new Map}updateDiagnostics(e,t,n){e!==this.language&&(this._diagnostics.clear(),this.language=e);const r=this._diagnostics.get(t);return!i.equals(r||i.empty,n,a)&&(this._diagnostics.set(t,n),!0)}getDiagnostics(e){return e.getValidate(this.language)?[...this.get(0),...this.get(1),...this.getSuggestionDiagnostics(e)]:[]}getSuggestionDiagnostics(e){const t=e.getEnableSuggestions(this.language);return this.get(2).filter((e=>!!t||e.tags&&(e.tags.includes(r.DiagnosticTag.Unnecessary)||e.tags.includes(r.DiagnosticTag.Deprecated))))}get(e){return this._diagnostics.get(e)||[]}}class l{constructor(){this._languageSettings=new Map}getValidate(e){return this.get(e).validate}setValidate(e,t){return this.update(e,(e=>({validate:t,enableSuggestions:e.enableSuggestions})))}getEnableSuggestions(e){return this.get(e).enableSuggestions}setEnableSuggestions(e,t){return this.update(e,(e=>({validate:e.validate,enableSuggestions:t})))}get(e){return this._languageSettings.get(e)||l.defaultSettings}update(e,t){const n=this.get(e),r=t(n);return this._languageSettings.set(e,r),!function(e,t){return e.validate===t.validate&&e.enableSuggestions&&e.enableSuggestions}(n,r)}}l.defaultSettings={validate:!0,enableSuggestions:!0};class u extends o.Disposable{constructor(e,t){super(),this._settings=new l,this._updateDelay=50,this._diagnostics=new s.ResourceMap(void 0,{onCaseInsensitiveFileSystem:t}),this._pendingUpdates=new s.ResourceMap(void 0,{onCaseInsensitiveFileSystem:t}),this._currentDiagnostics=this._register(r.languages.createDiagnosticCollection(e))}dispose(){super.dispose();for(const e of this._pendingUpdates.values)clearTimeout(e);this._pendingUpdates.clear()}reInitialize(){this._currentDiagnostics.clear(),this._diagnostics.clear()}setValidate(e,t){this._settings.setValidate(e,t)&&this.rebuild()}setEnableSuggestions(e,t){this._settings.setEnableSuggestions(e,t)&&this.rebuild()}updateDiagnostics(e,t,n,r){let i=!1;const o=this._diagnostics.get(e);if(o)i=o.updateDiagnostics(t,n,r);else if(r.length){const o=new c(e,t);o.updateDiagnostics(t,n,r),this._diagnostics.set(e,o),i=!0}i&&this.scheduleDiagnosticsUpdate(e)}configFileDiagnosticsReceived(e,t){this._currentDiagnostics.set(e,t)}delete(e){this._currentDiagnostics.delete(e),this._diagnostics.delete(e)}getDiagnostics(e){return this._currentDiagnostics.get(e)||[]}scheduleDiagnosticsUpdate(e){this._pendingUpdates.has(e)||this._pendingUpdates.set(e,setTimeout((()=>this.updateCurrentDiagnostics(e)),this._updateDelay))}updateCurrentDiagnostics(e){this._pendingUpdates.has(e)&&(clearTimeout(this._pendingUpdates.get(e)),this._pendingUpdates.delete(e));const t=this._diagnostics.get(e);this._currentDiagnostics.set(e,t?t.getDiagnostics(this._settings):[])}rebuild(){this._currentDiagnostics.clear();for(const e of this._diagnostics.values)this._currentDiagnostics.set(e.file,e.getDiagnostics(this._settings))}}t.DiagnosticsManager=u},63:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.register=void 0;const r=n(7549),i=n(189),o=n(9638),s=i.loadMessageBundle(),a=[{value:"@ts-check",description:s("ts-check","Enables semantic checking in a JavaScript file. Must be at the top of a file.")},{value:"@ts-nocheck",description:s("ts-nocheck","Disables semantic checking in a JavaScript file. Must be at the top of a file.")},{value:"@ts-ignore",description:s("ts-ignore","Suppresses @ts-check errors on the next line of a file.")}],c=[...a,{value:"@ts-expect-error",description:s("ts-expect-error","Suppresses @ts-check errors on the next line of a file, expecting at least one to exist.")}];class l{constructor(e){this.client=e}provideCompletionItems(e,t,n){if(!this.client.toOpenedFilePath(e))return[];const i=e.lineAt(t.line).text.slice(0,t.character).match(/^\s*\/\/+\s?(@[a-zA-Z\-]*)?$/);return i?(this.client.apiVersion.gte(o.default.v390)?c:a).map((e=>{const n=new r.CompletionItem(e.value,r.CompletionItemKind.Snippet);return n.detail=e.description,n.range=new r.Range(t.line,Math.max(0,t.character-(i[1]?i[1].length:0)),t.line,t.character),n})):[]}}t.register=function(e,t){return r.languages.registerCompletionItemProvider(e.syntax,new l(t),"@")}},8531:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.register=void 0;const r=n(7549),i=n(231);class o{constructor(e){this.client=e}async provideDocumentHighlights(e,t,n){const r=this.client.toOpenedFilePath(e);if(!r)return[];const o={...i.Position.toFileLocationRequestArgs(r,t),filesToSearch:[r]},a=await this.client.execute("documentHighlights",o,n);return"response"===a.type&&a.body?a.body.filter((e=>e.file===r)).map(s).flat():[]}}function s(e){return e.highlightSpans.map((e=>new r.DocumentHighlight(i.Range.fromTextSpan(e),"writtenReference"===e.kind?r.DocumentHighlightKind.Write:r.DocumentHighlightKind.Read)))}t.register=function(e,t){return r.languages.registerDocumentHighlightProvider(e.syntax,new o(t))}},3387:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.register=void 0;const r=n(7549),i=n(4156),o=n(308),s=n(231);class a{constructor(e,t){this.client=e,this.cachedResponse=t}async provideDocumentSymbols(e,t){const n=this.client.toOpenedFilePath(e);if(!n)return;const r={file:n},i=await this.cachedResponse.execute(e,(()=>this.client.execute("navtree",r,t)));if("response"!==i.type||!i.body?.childItems)return;const o=[];for(const t of i.body.childItems)a.convertNavTree(e.uri,o,t);return o}static convertNavTree(e,t,n){let r=a.shouldInclueEntry(n);if(!r&&!n.childItems?.length)return!1;const i=new Set(n.childItems||[]);for(const o of n.spans){const c=s.Range.fromTextSpan(o),l=a.convertSymbol(n,c);for(const t of i)if(t.spans.some((e=>!!c.intersection(s.Range.fromTextSpan(e))))){const n=a.convertNavTree(e,l.children,t);r=r||n,i.delete(t)}r&&t.push(l)}return r}static convertSymbol(e,t){const n=e.nameSpan?s.Range.fromTextSpan(e.nameSpan):t;let a=e.text;switch(e.kind){case i.Kind.memberGetAccessor:a=`(get) ${a}`;break;case i.Kind.memberSetAccessor:a=`(set) ${a}`}const c=new r.DocumentSymbol(a,"",(e=>{switch(e){case i.Kind.module:return r.SymbolKind.Module;case i.Kind.class:return r.SymbolKind.Class;case i.Kind.enum:return r.SymbolKind.Enum;case i.Kind.interface:return r.SymbolKind.Interface;case i.Kind.method:return r.SymbolKind.Method;case i.Kind.memberVariable:case i.Kind.memberGetAccessor:case i.Kind.memberSetAccessor:return r.SymbolKind.Property;case i.Kind.variable:case i.Kind.const:case i.Kind.localVariable:return r.SymbolKind.Variable;case i.Kind.function:case i.Kind.localFunction:return r.SymbolKind.Function;case i.Kind.constructSignature:case i.Kind.constructorImplementation:return r.SymbolKind.Constructor}return r.SymbolKind.Variable})(e.kind),t,t.contains(n)?n:t);return(0,o.parseKindModifier)(e.kindModifiers).has(i.KindModifiers.deprecated)&&(c.tags=[r.SymbolTag.Deprecated]),c}static shouldInclueEntry(e){return e.kind!==i.Kind.alias&&!(!e.text||"<function>"===e.text||"<class>"===e.text)}}t.register=function(e,t,n){return r.languages.registerDocumentSymbolProvider(e.syntax,new a(t,n),{label:"TypeScript"})}},7296:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getInlayHintsPreferences=t.InlayHintSettingNames=void 0;const r=n(1023),i=n(7549),o=n(9638),s=n(4009),a=n(6797),c=n(3683),l=n(1745),u=n(7478);class d extends s.Disposable{constructor(e,t){super(),this.client=e,this.formatOptions=new u.ResourceMap(void 0,{onCaseInsensitiveFileSystem:t}),i.workspace.onDidCloseTextDocument((e=>{this.formatOptions.delete(e.uri)}),void 0,this._disposables)}async ensureConfigurationForDocument(e,t){const n=this.getFormattingOptions(e);if(n)return this.ensureConfigurationOptions(e,n,t)}getFormattingOptions(e){const t=i.window.visibleTextEditors.find((t=>t.document.fileName===e.fileName));return t?{tabSize:t.options.tabSize,insertSpaces:t.options.insertSpaces}:void 0}async ensureConfigurationOptions(e,t,n){const r=this.client.toOpenedFilePath(e);if(!r)return;const i=this.getFileOptions(e,t),o=this.formatOptions.get(e.uri);if(o){const e=await o;if(e&&(s=e,a=i,(0,l.equals)(s,a)))return}var s,a;let c;this.formatOptions.set(e.uri,new Promise((e=>c=e)));const u={file:r,...i};try{const e=await this.client.execute("configure",u,n);c("response"===e.type?i:void 0)}finally{c(void 0)}}async setGlobalConfigurationFromDocument(e,t){const n=this.getFormattingOptions(e);if(!n)return;const r={file:void 0,...this.getFileOptions(e,n)};await this.client.execute("configure",r,t)}reset(){this.formatOptions.clear()}getFileOptions(e,t){return{formatOptions:this.getFormatOptions(e,t),preferences:this.getPreferences(e)}}getFormatOptions(e,t){const n=i.workspace.getConfiguration((0,c.isTypeScriptDocument)(e)?"typescript.format":"javascript.format",e.uri);return{tabSize:t.tabSize,indentSize:t.tabSize,convertTabsToSpaces:t.insertSpaces,newLineCharacter:"\n",insertSpaceAfterCommaDelimiter:n.get("insertSpaceAfterCommaDelimiter"),insertSpaceAfterConstructor:n.get("insertSpaceAfterConstructor"),insertSpaceAfterSemicolonInForStatements:n.get("insertSpaceAfterSemicolonInForStatements"),insertSpaceBeforeAndAfterBinaryOperators:n.get("insertSpaceBeforeAndAfterBinaryOperators"),insertSpaceAfterKeywordsInControlFlowStatements:n.get("insertSpaceAfterKeywordsInControlFlowStatements"),insertSpaceAfterFunctionKeywordForAnonymousFunctions:n.get("insertSpaceAfterFunctionKeywordForAnonymousFunctions"),insertSpaceBeforeFunctionParenthesis:n.get("insertSpaceBeforeFunctionParenthesis"),insertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis:n.get("insertSpaceAfterOpeningAndBeforeClosingNonemptyParenthesis"),insertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets:n.get("insertSpaceAfterOpeningAndBeforeClosingNonemptyBrackets"),insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces:n.get("insertSpaceAfterOpeningAndBeforeClosingNonemptyBraces"),insertSpaceAfterOpeningAndBeforeClosingEmptyBraces:n.get("insertSpaceAfterOpeningAndBeforeClosingEmptyBraces"),insertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces:n.get("insertSpaceAfterOpeningAndBeforeClosingTemplateStringBraces"),insertSpaceAfterOpeningAndBeforeClosingJsxExpressionBraces:n.get("insertSpaceAfterOpeningAndBeforeClosingJsxExpressionBraces"),insertSpaceAfterTypeAssertion:n.get("insertSpaceAfterTypeAssertion"),placeOpenBraceOnNewLineForFunctions:n.get("placeOpenBraceOnNewLineForFunctions"),placeOpenBraceOnNewLineForControlBlocks:n.get("placeOpenBraceOnNewLineForControlBlocks"),semicolons:n.get("semicolons")}}getPreferences(e){if(this.client.apiVersion.lt(o.default.v290))return{};const t=i.workspace.getConfiguration((0,c.isTypeScriptDocument)(e)?"typescript":"javascript",e),n=i.workspace.getConfiguration((0,c.isTypeScriptDocument)(e)?"typescript.preferences":"javascript.preferences",e);return{...t.get("unstable"),quotePreference:this.getQuoteStylePreference(n),importModuleSpecifierPreference:h(n),importModuleSpecifierEnding:m(n),jsxAttributeCompletionStyle:v(n),allowTextChangesInNewFiles:e.uri.scheme===a.file,providePrefixAndSuffixTextForRename:!1!==n.get("renameShorthandProperties",!0)&&n.get("useAliasesForRenames",!0),allowRenameOfImportPath:!0,includeAutomaticOptionalChainCompletions:t.get("suggest.includeAutomaticOptionalChainCompletions",!0),provideRefactorNotApplicableReason:!0,generateReturnInDocTemplate:t.get("suggest.jsdoc.generateReturns",!0),includeCompletionsForImportStatements:t.get("suggest.includeCompletionsForImportStatements",!0),includeCompletionsWithSnippetText:t.get("suggest.includeCompletionsWithSnippetText",!0),includeCompletionsWithClassMemberSnippets:t.get("suggest.classMemberSnippets.enabled",!0),includeCompletionsWithObjectLiteralMethodSnippets:t.get("suggest.objectLiteralMethodSnippets.enabled",!0),autoImportFileExcludePatterns:this.getAutoImportFileExcludePatternsPreference(n,i.workspace.getWorkspaceFolder(e.uri)?.uri),useLabelDetailsInCompletionEntries:!0,allowIncompleteCompletions:!0,displayPartsForJSDoc:!0,...p(t)}}getQuoteStylePreference(e){switch(e.get("quoteStyle")){case"single":return"single";case"double":return"double";default:return this.client.apiVersion.gte(o.default.v333)?"auto":void 0}}getAutoImportFileExcludePatternsPreference(e,t){return t&&e.get("autoImportFileExcludePatterns")?.map((e=>{const n=e.replace(/\\/g,"/"),o=/^\.\.?($|\/)/.test(n);return r.isAbsolute(e)?e:e.startsWith("*")?"/"+n:o?i.Uri.joinPath(t,e).fsPath:"/**/"+n}))}}t.default=d;class f{}function p(e){return{includeInlayParameterNameHints:g(e),includeInlayParameterNameHintsWhenArgumentMatchesName:!e.get(f.parameterNamesSuppressWhenArgumentMatchesName,!0),includeInlayFunctionParameterTypeHints:e.get(f.parameterNamesEnabled,!1),includeInlayVariableTypeHints:e.get(f.variableTypesEnabled,!1),includeInlayVariableTypeHintsWhenTypeMatchesName:!e.get(f.variableTypesSuppressWhenTypeMatchesName,!0),includeInlayPropertyDeclarationTypeHints:e.get(f.propertyDeclarationTypesEnabled,!1),includeInlayFunctionLikeReturnTypeHints:e.get(f.functionLikeReturnTypesEnabled,!1),includeInlayEnumMemberValueHints:e.get(f.enumMemberValuesEnabled,!1)}}function g(e){switch(e.get("inlayHints.parameterNames.enabled")){case"none":return"none";case"literals":return"literals";case"all":return"all";default:return}}function h(e){switch(e.get("importModuleSpecifier")){case"project-relative":return"project-relative";case"relative":return"relative";case"non-relative":return"non-relative";default:return}}function m(e){switch(e.get("importModuleSpecifierEnding")){case"minimal":return"minimal";case"index":return"index";case"js":return"js";default:return"auto"}}function v(e){switch(e.get("jsxAttributeCompletionStyle")){case"braces":return"braces";case"none":return"none";default:return"auto"}}t.InlayHintSettingNames=f,f.parameterNamesSuppressWhenArgumentMatchesName="inlayHints.parameterNames.suppressWhenArgumentMatchesName",f.parameterNamesEnabled="inlayHints.parameterTypes.enabled",f.variableTypesEnabled="inlayHints.variableTypes.enabled",f.variableTypesSuppressWhenTypeMatchesName="inlayHints.variableTypes.suppressWhenTypeMatchesName",f.propertyDeclarationTypesEnabled="inlayHints.propertyDeclarationTypes.enabled",f.functionLikeReturnTypesEnabled="inlayHints.functionLikeReturnTypes.enabled",f.enumMemberValuesEnabled="inlayHints.enumMemberValues.enabled",t.getInlayHintsPreferences=p},8283:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.register=void 0;const r=n(7549),i=n(189),o=n(9638),s=n(3683),a=n(231),c=i.loadMessageBundle();class l{constructor(e){this.client=e,this.id="typescript.findAllFileReferences"}async execute(e){if(this.client.apiVersion.lt(l.minVersion))return void r.window.showErrorMessage(c("error.unsupportedVersion","Find file references failed. Requires TypeScript 4.2+."));if(e||(e=r.window.activeTextEditor?.document.uri),!e)return void r.window.showErrorMessage(c("error.noResource","Find file references failed. No resource provided."));const t=await r.workspace.openTextDocument(e);if(!(0,s.isSupportedLanguageMode)(t))return void r.window.showErrorMessage(c("error.unsupportedLanguage","Find file references failed. Unsupported file type."));const n=this.client.toOpenedFilePath(t);n?await r.window.withProgress({location:r.ProgressLocation.Window,title:c("progress.title","Finding file references")},(async(t,i)=>{const o=await this.client.execute("fileReferences",{file:n},i);if("response"!==o.type||!o.body)return;const s=o.body.refs.map((e=>a.Location.fromTextSpan(this.client.toResource(e.file),e))),c=r.workspace.getConfiguration("references"),l=c.inspect("preferredLocation");await c.update("preferredLocation","view");try{await r.commands.executeCommand("editor.action.showReferences",e,new r.Position(0,0),s)}finally{await c.update("preferredLocation",l?.workspaceFolderValue??l?.workspaceValue)}})):r.window.showErrorMessage(c("error.unknownFile","Find file references failed. Unknown file type."))}}l.context="tsSupportsFileReferences",l.minVersion=o.default.v420,t.register=function(e,t){function n(){r.commands.executeCommand("setContext",l.context,e.apiVersion.gte(l.minVersion))}return n(),t.register(new l(e)),e.onTsServerStarted((()=>n()))}},1932:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.register=void 0;const r=n(7549),i=n(189),o=n(5162),s=n(9638),a=n(2298),c=n(1395),l=n(1648),u=n(231),d=i.loadMessageBundle();async function f(e,t,n,r,i,o){for(const s of i)for(const{codes:i,fixName:a}of e){if(o.isCancellationRequested)return;if(!i.has(s.code))continue;const e={...u.Range.toFileRangeRequestArgs(r,s.range),errorCodes:[+s.code]},c=await n.execute("getCodeFixes",e,o);if("response"!==c.type||!c.body?.length)continue;const l=c.body?.find((e=>e.fixName===a));if(!l)continue;if(!l.fixId)return void u.WorkspaceEdit.withFileCodeEdits(t,n,l.changes);const d={scope:{type:"file",args:{file:r}},fixId:l.fixId},f=await n.execute("getCombinedCodeFix",d,o);if("response"!==f.type||!f.body)return;return void u.WorkspaceEdit.withFileCodeEdits(t,n,f.body.changes)}}class p extends r.CodeAction{}class g extends p{constructor(){super(d("autoFix.label","Fix all fixable JS/TS issues"),g.kind)}async build(e,t,n,i){this.edit=new r.WorkspaceEdit,await async function(e,t,n,r,i,o){for(const s of i)for(const{codes:i,fixName:a}of e){if(o.isCancellationRequested)return;if(!i.has(s.code))continue;const e={...u.Range.toFileRangeRequestArgs(r,s.range),errorCodes:[+s.code]},c=await n.execute("getCodeFixes",e,o);if("response"!==c.type)continue;const l=c.body?.find((e=>e.fixName===a));if(l){u.WorkspaceEdit.withFileCodeEdits(t,n,l.changes);break}}}([{codes:c.incorrectlyImplementsInterface,fixName:l.classIncorrectlyImplementsInterface},{codes:c.asyncOnlyAllowedInAsyncFunctions,fixName:l.awaitInSyncFunction}],this.edit,e,t,n,i),await f([{codes:c.unreachableCode,fixName:l.unreachableCode}],this.edit,e,t,n,i)}}g.kind=r.CodeActionKind.SourceFixAll.append("ts");class h extends p{constructor(){super(d("autoFix.unused.label","Remove all unused code"),h.kind)}async build(e,t,n,i){this.edit=new r.WorkspaceEdit,await f([{codes:c.variableDeclaredButNeverUsed,fixName:l.unusedIdentifier}],this.edit,e,t,n,i)}}h.kind=r.CodeActionKind.Source.append("removeUnused").append("ts");class m extends p{constructor(){super(d("autoFix.missingImports.label","Add all missing imports"),m.kind)}async build(e,t,n,i){this.edit=new r.WorkspaceEdit,await f([{codes:c.cannotFindName,fixName:l.fixImport}],this.edit,e,t,n,i)}}m.kind=r.CodeActionKind.Source.append("addMissingImports").append("ts");class v{constructor(e,t,n){this.client=e,this.fileConfigurationManager=t,this.diagnosticsManager=n}get metadata(){return{providedCodeActionKinds:v.kindProviders.map((e=>e.kind))}}async provideCodeActions(e,t,n,i){if(!n.only||!r.CodeActionKind.Source.intersects(n.only))return;const o=this.client.toOpenedFilePath(e);if(!o)return;const s=this.getFixAllActions(n.only);if(this.client.bufferSyncSupport.hasPendingDiagnostics(e.uri))return s;const a=this.diagnosticsManager.getDiagnostics(e.uri);return a.length?(await this.fileConfigurationManager.ensureConfigurationForDocument(e,i),i.isCancellationRequested?void 0:(await Promise.all(s.map((e=>e.build(this.client,o,a,i)))),s)):s}getFixAllActions(e){return v.kindProviders.filter((t=>e.intersects(t.kind))).map((e=>new e))}}v.kindProviders=[g,h,m],t.register=function(e,t,n,i){return(0,a.conditionalRegistration)([(0,a.requireMinVersion)(t,s.default.v300),(0,a.requireSomeCapability)(t,o.ClientCapability.Semantic)],(()=>{const o=new v(t,n,i);return r.languages.registerCodeActionsProvider(e.semantic,o,o.metadata)}))}},1416:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.register=void 0;const r=n(7549),i=n(9638),o=n(6929),s=n(2298),a=n(231);class c{constructor(e){this.client=e}async provideFoldingRanges(e,t,n){const r=this.client.toOpenedFilePath(e);if(!r)return;const i={file:r},s=await this.client.execute("getOutliningSpans",i,n);return"response"===s.type&&s.body?(0,o.coalesce)(s.body.map((t=>this.convertOutliningSpan(t,e)))):void 0}convertOutliningSpan(e,t){const n=a.Range.fromTextSpan(e.textSpan),i=c.getFoldingRangeKind(e);if("comment"===e.kind){const e=t.lineAt(n.start.line).text;if(/\/\/\s*#endregion/gi.test(e))return}const o=n.start.line,s=this.adjustFoldingEnd(n,t);return new r.FoldingRange(o,s,i)}adjustFoldingEnd(e,t){if(e.end.character>0){const n=t.getText(new r.Range(e.end.translate(0,-1),e.end));if(c.foldEndPairCharacters.includes(n))return Math.max(e.end.line-1,e.start.line)}return e.end.line}static getFoldingRangeKind(e){switch(e.kind){case"comment":return r.FoldingRangeKind.Comment;case"region":return r.FoldingRangeKind.Region;case"imports":return r.FoldingRangeKind.Imports;case"code":default:return}}}c.minVersion=i.default.v280,c.foldEndPairCharacters=["}","]",")","`",">"],t.register=function(e,t){return(0,s.conditionalRegistration)([(0,s.requireMinVersion)(t,c.minVersion)],(()=>r.languages.registerFoldingRangeProvider(e.syntax,new c(t))))}},2742:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.register=void 0;const r=n(7549),i=n(2298),o=n(231);class s{constructor(e,t){this.client=e,this.formattingOptionsManager=t}async provideDocumentRangeFormattingEdits(e,t,n,r){const i=this.client.toOpenedFilePath(e);if(!i)return;await this.formattingOptionsManager.ensureConfigurationOptions(e,n,r);const s=o.Range.toFormattingRequestArgs(i,t),a=await this.client.execute("format",s,r);return"response"===a.type&&a.body?a.body.map(o.TextEdit.fromCodeEdit):void 0}async provideOnTypeFormattingEdits(e,t,n,r,i){const s=this.client.toOpenedFilePath(e);if(!s)return[];await this.formattingOptionsManager.ensureConfigurationOptions(e,r,i);const a={...o.Position.toFileLocationRequestArgs(s,t),key:n},c=await this.client.execute("formatonkey",a,i);if("response"!==c.type||!c.body)return[];const l=[];for(const t of c.body){const n=o.TextEdit.fromCodeEdit(t),r=n.range;if(0===r.start.character&&r.start.line===r.end.line&&""===n.newText){const t=e.lineAt(r.start.line).text;(t.trim().length>0||t.length>r.end.character)&&l.push(n)}else l.push(n)}return l}}t.register=function(e,t,n,o){return(0,i.conditionalRegistration)([(0,i.requireGlobalConfiguration)(t.id,"format.enable")],(()=>{const t=new s(n,o);return r.Disposable.from(r.languages.registerOnTypeFormattingEditProvider(e.syntax,t,";","}","\n"),r.languages.registerDocumentRangeFormattingEditProvider(e.syntax,t))}))}},8967:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.register=void 0;const r=n(7549),i=n(371),o=n(5162),s=n(2298),a=n(3539),c=n(231);class l{constructor(e,t){this.client=e,this.fileConfigurationManager=t}async provideHover(e,t,n){const i=this.client.toOpenedFilePath(e);if(!i)return;const o=await this.client.interruptGetErr((async()=>{await this.fileConfigurationManager.ensureConfigurationForDocument(e,n);const r=c.Position.toFileLocationRequestArgs(i,t);return this.client.execute("quickinfo",r,n)}));return"response"===o.type&&o.body?new r.Hover(this.getContents(e.uri,o.body,o._serverType),c.Range.fromTextSpan(o.body)):void 0}getContents(e,t,n){const s=[];if(t.displayString){const a=[];n===o.ServerType.Syntax&&this.client.hasCapabilityForResource(e,o.ClientCapability.Semantic)&&a.push((0,i.localize)({key:"loadingPrefix",comment:["Prefix displayed for hover entries while the server is still loading"]},"(loading...)")),a.push(t.displayString),s.push((new r.MarkdownString).appendCodeblock(a.join(" "),"typescript"))}const c=(0,a.markdownDocumentation)(t.documentation,t.tags,this.client,e);return s.push(c),s}}t.register=function(e,t,n){return(0,s.conditionalRegistration)([(0,s.requireSomeCapability)(t,o.ClientCapability.EnhancedSyntax,o.ClientCapability.Semantic)],(()=>r.languages.registerHoverProvider(e.syntax,new l(t,n))))}},8878:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.register=void 0;const r=n(7549),i=n(5162),o=n(2298),s=n(8695);class a extends s.default{provideImplementation(e,t,n){return this.getSymbolLocations("implementation",e,t,n)}}t.register=function(e,t){return(0,o.conditionalRegistration)([(0,o.requireSomeCapability)(t,i.ClientCapability.Semantic)],(()=>r.languages.registerImplementationProvider(e.semantic,new a(t))))}},8484:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.register=void 0;const r=n(7549),i=n(5162),o=n(9638),s=n(2298),a=n(4009),c=n(231),l=n(7296),u=Object.freeze([l.InlayHintSettingNames.parameterNamesSuppressWhenArgumentMatchesName,l.InlayHintSettingNames.parameterNamesEnabled,l.InlayHintSettingNames.variableTypesEnabled,l.InlayHintSettingNames.variableTypesSuppressWhenTypeMatchesName,l.InlayHintSettingNames.propertyDeclarationTypesEnabled,l.InlayHintSettingNames.functionLikeReturnTypesEnabled,l.InlayHintSettingNames.enumMemberValuesEnabled]);class d extends a.Disposable{constructor(e,t,n){super(),this.language=e,this.client=t,this.fileConfigurationManager=n,this._onDidChangeInlayHints=new r.EventEmitter,this.onDidChangeInlayHints=this._onDidChangeInlayHints.event,this._register(r.workspace.onDidChangeConfiguration((t=>{u.some((n=>t.affectsConfiguration(e.id+"."+n)))&&this._onDidChangeInlayHints.fire()}))),this._register(r.workspace.onDidChangeTextDocument((t=>{e.languageIds.includes(t.document.languageId)&&this._onDidChangeInlayHints.fire()})))}async provideInlayHints(e,t,n){const i=this.client.toOpenedFilePath(e);if(!i)return[];if(!function(e,t){const n=r.workspace.getConfiguration(e.id,t),i=(0,l.getInlayHintsPreferences)(n);return"literals"===i.includeInlayParameterNameHints||"all"===i.includeInlayParameterNameHints||i.includeInlayEnumMemberValueHints||i.includeInlayFunctionLikeReturnTypeHints||i.includeInlayFunctionParameterTypeHints||i.includeInlayPropertyDeclarationTypeHints||i.includeInlayVariableTypeHints}(this.language,e))return[];const o=e.offsetAt(t.start),s=e.offsetAt(t.end)-o;await this.fileConfigurationManager.ensureConfigurationForDocument(e,n);const a=await this.client.execute("provideInlayHints",{file:i,start:o,length:s},n);return"response"===a.type&&a.success&&a.body?a.body.map((e=>{const t=new r.InlayHint(c.Position.fromLocation(e.position),e.text,e.kind&&function(e){switch(e){case"Parameter":return r.InlayHintKind.Parameter;case"Type":return r.InlayHintKind.Type;case"Enum":default:return}}(e.kind));return t.paddingLeft=e.whitespaceBefore,t.paddingRight=e.whitespaceAfter,t})):[]}}d.minVersion=o.default.v440,t.register=function(e,t,n,o){return(0,s.conditionalRegistration)([(0,s.requireMinVersion)(n,d.minVersion),(0,s.requireSomeCapability)(n,i.ClientCapability.Semantic)],(()=>{const i=new d(t,n,o);return r.languages.registerInlayHintsProvider(e.semantic,i)}))}},4850:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.register=t.templateToSnippet=void 0;const r=n(7549),i=n(189),o=n(231),s=i.loadMessageBundle(),a=new r.SnippetString("/**\n * $0\n */");class c extends r.CompletionItem{constructor(e,t){super("/** */",r.CompletionItemKind.Text),this.document=e,this.position=t,this.detail=s("typescript.jsDocCompletionItem.documentation","JSDoc comment"),this.sortText="\0";const n=e.lineAt(t.line).text,i=n.slice(0,t.character).match(/\/\**\s*$/),o=n.slice(t.character).match(/^\s*\**\//),a=t.translate(0,i?-i[0].length:0),c=new r.Range(a,t.translate(0,o?o[0].length:0));this.range={inserting:c,replacing:c}}}class l{constructor(e,t,n){this.client=e,this.language=t,this.fileConfigurationManager=n}async provideCompletionItems(e,t,n){if(!r.workspace.getConfiguration(this.language.id,e).get("suggest.completeJSDocs"))return;const i=this.client.toOpenedFilePath(e);if(!i)return;if(!this.isPotentiallyValidDocCompletionPosition(e,t))return;const s=await this.client.interruptGetErr((async()=>{await this.fileConfigurationManager.ensureConfigurationForDocument(e,n);const r=o.Position.toFileLocationRequestArgs(i,t);return this.client.execute("docCommentTemplate",r,n)}));if("response"!==s.type||!s.body)return;const l=new c(e,t);return"/** */"===s.body.newText?l.insertText=a:l.insertText=u(s.body.newText),[l]}isPotentiallyValidDocCompletionPosition(e,t){const n=e.lineAt(t.line).text,r=n.slice(0,t.character);if(!/^\s*$|\/\*\*\s*$|^\s*\/\*\*+\s*$/.test(r))return!1;const i=n.slice(t.character);return/^\s*(\*+\/)?\s*$/.test(i)}}function u(e){let t=1;return e=(e=(e=(e=(e=e.replace(/\$/g,"\\$")).replace(/^[ \t]*(?=(\/|[ ]\*))/gm,"")).replace(/^(\/\*\*\s*\*[ ]*)$/m,(e=>e+"$0"))).replace(/\* @param([ ]\{\S+\})?\s+(\S+)[ \t]*$/gm,((e,n,r)=>{let i="* @param ";return" {any}"===n||" {*}"===n?i+=`{\${${t++}:*}} `:n&&(i+=n+" "),i+=r+` \${${t++}}`,i}))).replace(/\* @returns[ \t]*$/gm,`* @returns \${${t++}}`),new r.SnippetString(e)}t.templateToSnippet=u,t.register=function(e,t,n,i){return r.languages.registerCompletionItemProvider(e.syntax,new l(n,t,i),"*")}},8267:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.register=void 0;const r=n(7549),i=n(189),o=n(5162),s=n(9638),a=n(3219),c=n(2298),l=n(231),u=i.loadMessageBundle();class d{constructor(e,t){this.client=e,this.telemetryReporter=t,this.id=d.Id}async execute(e,t=!1){this.telemetryReporter.logTelemetry("organizeImports.execute",{});const n={scope:{type:"file",args:{file:e}},skipDestructiveCodeActions:t},i=await this.client.interruptGetErr((()=>this.client.execute("organizeImports",n,a.nulToken)));if("response"===i.type&&i.body&&i.body.length){const e=l.WorkspaceEdit.fromFileCodeEdits(this.client,i.body);return r.workspace.applyEdit(e)}}}d.Id="_typescript.organizeImports";class f{constructor(e,t,n,r,i,o,s){this.client=e,this.kind=t,this.title=n,this.sortOnly=r,this.fileConfigManager=o,i.register(new d(e,s))}static register(e,t,n,i,s,a,l,u,d){return(0,c.conditionalRegistration)([(0,c.requireMinVersion)(e,t),(0,c.requireSomeCapability)(e,o.ClientCapability.Semantic)],(()=>{const t=new f(e,n,i,s,a,l,u);return r.languages.registerCodeActionsProvider(d.semantic,t,{providedCodeActionKinds:[n]})}))}provideCodeActions(e,t,n,i){const o=this.client.toOpenedFilePath(e);if(!o)return[];if(!n.only||!n.only.contains(this.kind))return[];this.fileConfigManager.ensureConfigurationForDocument(e,i);const s=new r.CodeAction(this.title,this.kind);return s.command={title:"",command:d.Id,arguments:[o,this.sortOnly]},[s]}}t.register=function(e,t,n,i,o){return r.Disposable.from(f.register(t,s.default.v280,r.CodeActionKind.SourceOrganizeImports,u("organizeImportsAction.title","Organize Imports"),!1,n,i,o,e),f.register(t,s.default.v430,r.CodeActionKind.Source.append("sortImports"),u("sortImportsAction.title","Sort Imports"),!0,n,i,o,e))}},3270:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.register=void 0;const i=n(7549),o=n(189),s=n(5162),a=n(9638),c=n(3219),l=n(4654),u=n(2298),d=n(1648),f=n(6620),p=n(1745),g=n(231),h=o.loadMessageBundle();class m{constructor(e,t){this.client=e,this.telemetryReporter=t,this.id=m.ID}async execute(e){return this.telemetryReporter.logTelemetry("quickFix.execute",{fixName:e.fixName}),(0,l.applyCodeActionCommands)(this.client,e.commands,c.nulToken)}}m.ID="_typescript.applyCodeActionCommand";class v{constructor(e,t){this.client=e,this.telemetryReporter=t,this.id=v.ID}async execute(e){this.telemetryReporter.logTelemetry("quickFixAll.execute",{fixName:e.action.tsAction.fixName}),e.action.combinedResponse&&await(0,l.applyCodeActionCommands)(this.client,e.action.combinedResponse.body.commands,c.nulToken)}}v.ID="_typescript.applyFixAllCodeAction";class y{constructor(e){this._values=e}static from(e){const t=new Map;for(const n of e)t.set(y.key(n),n);return new y(t)}static key(e){const{start:t,end:n}=e.range;return`${e.code}-${t.line},${t.character}-${n.line},${n.character}`}get values(){return this._values.values()}get size(){return this._values.size}}class S extends i.CodeAction{constructor(e,t,n){super(t,n),this.tsAction=e}}class C extends S{constructor(e,t,n,r){super(e,n,r),this.file=t}}class b{constructor(){this._actions=new Set,this._fixAllActions=new Map}get values(){return this._actions}addAction(e){for(const t of this._actions)e.tsAction.fixName===t.tsAction.fixName&&(0,p.equals)(e.edit,t.edit)&&this._actions.delete(t);if(this._actions.add(e),e.tsAction.fixId){const t=this._fixAllActions.get(e.tsAction.fixId);t&&(this._actions.delete(t),this._actions.add(t))}}addFixAllAction(e,t){const n=this._fixAllActions.get(e);n&&this._actions.delete(n),this.addAction(t),this._fixAllActions.set(e,t)}hasFixAllAction(e){return this._fixAllActions.has(e)}}class w{constructor(e){this.client=e}async getFixableDiagnosticsForContext(e){const t=await this.fixableDiagnosticCodes;return y.from(e.diagnostics.filter((e=>void 0!==e.code&&t.has(e.code+""))))}get fixableDiagnosticCodes(){return this.client.execute("getSupportedCodeFixes",null,c.nulToken).then((e=>"response"===e.type&&e.body||[])).then((e=>new Set(e)))}}r([f.memoize],w.prototype,"fixableDiagnosticCodes",null);class x{constructor(e,t,n,r,i){this.client=e,this.formattingConfigurationManager=t,this.diagnosticsManager=r,n.register(new m(e,i)),n.register(new v(e,i)),this.supportedCodeActionProvider=new w(e)}async provideCodeActions(e,t,n,r){const i=this.client.toOpenedFilePath(e);if(!i)return[];const o=await this.supportedCodeActionProvider.getFixableDiagnosticsForContext(n);if(!o.size)return[];if(this.client.bufferSyncSupport.hasPendingDiagnostics(e.uri))return[];await this.formattingConfigurationManager.ensureConfigurationForDocument(e,r);const s=new b;for(const t of o.values)await this.getFixesForDiagnostic(e,i,t,s,r);const a=Array.from(s.values);for(const e of a)e.isPreferred=_(e,a);return a}async resolveCodeAction(e,t){if(!(e instanceof C&&e.tsAction.fixId))return e;const n={scope:{type:"file",args:{file:e.file}},fixId:e.tsAction.fixId},r=await this.client.execute("getCombinedCodeFix",n,t);return"response"===r.type&&(e.combinedResponse=r,e.edit=g.WorkspaceEdit.fromFileCodeEdits(this.client,r.body.changes)),e}async getFixesForDiagnostic(e,t,n,r,i){const o={...g.Range.toFileRangeRequestArgs(t,n.range),errorCodes:[+n.code]},s=await this.client.execute("getCodeFixes",o,i);if("response"!==s.type||!s.body)return r;for(const i of s.body)this.addAllFixesForTsCodeAction(r,e,t,n,i);return r}addAllFixesForTsCodeAction(e,t,n,r,i){return e.addAction(this.getSingleFixForTsCodeAction(r,i)),this.addFixAllForTsCodeAction(e,t,n,r,i),e}getSingleFixForTsCodeAction(e,t){const n=new S(t,t.description,i.CodeActionKind.QuickFix);return n.edit=(0,l.getEditForCodeAction)(this.client,t),n.diagnostics=[e],n.command={command:m.ID,arguments:[t],title:""},n}addFixAllForTsCodeAction(e,t,n,r,o){if(!o.fixId||this.client.apiVersion.lt(a.default.v270)||e.hasFixAllAction(o.fixId))return e;if(!this.diagnosticsManager.getDiagnostics(t.uri).some((e=>e!==r&&(e.code===r.code||T.has(e.code)&&T.get(e.code)===T.get(r.code)))))return e;const s=new C(o,n,o.fixAllDescription||h("fixAllInFileLabel","{0} (Fix all in file)",o.description),i.CodeActionKind.QuickFix);return s.diagnostics=[r],s.command={command:v.ID,arguments:[{action:s}],title:""},e.addFixAllAction(o.fixId,s),e}}x.metadata={providedCodeActionKinds:[i.CodeActionKind.QuickFix]};const T=new Map([[2339,2339],[2345,2339]]),I=new Map([[d.annotateWithTypeFromJSDoc,{priority:2}],[d.constructorForDerivedNeedSuperCall,{priority:2}],[d.extendsInterfaceBecomesImplements,{priority:2}],[d.awaitInSyncFunction,{priority:2}],[d.classIncorrectlyImplementsInterface,{priority:3}],[d.classDoesntImplementInheritedAbstractMember,{priority:3}],[d.unreachableCode,{priority:2}],[d.unusedIdentifier,{priority:2}],[d.forgottenThisPropertyAccess,{priority:2}],[d.spelling,{priority:0}],[d.addMissingAwait,{priority:2}],[d.addMissingOverride,{priority:2}],[d.fixImport,{priority:1,thereCanOnlyBeOne:!0}]]);function _(e,t){if(e instanceof C)return!1;const n=I.get(e.tsAction.fixName);return!!n&&t.every((t=>{if(t===e)return!0;if(t instanceof C)return!0;const r=I.get(t.tsAction.fixName);return!r||r.priority<n.priority||!(r.priority>n.priority)&&(!n.thereCanOnlyBeOne||e.tsAction.fixName!==t.tsAction.fixName)}))}t.register=function(e,t,n,r,o,a){return(0,u.conditionalRegistration)([(0,u.requireSomeCapability)(t,s.ClientCapability.Semantic)],(()=>i.languages.registerCodeActionsProvider(e.semantic,new x(t,n,r,o,a),x.metadata)))}},4577:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.register=void 0;const r=n(7549),i=n(189),o=n(392),s=n(5162),a=n(9638),c=n(3219),l=n(2298),u=n(6797),d=n(231),f=i.loadMessageBundle();class p{constructor(e){this.telemetryReporter=e,this.id=p.ID}async execute(e){if(this.telemetryReporter.logTelemetry("refactor.execute",{action:e.codeAction.action}),!e.codeAction.edit?.size)return void r.window.showErrorMessage(f("refactoringFailed","Could not apply refactoring"));const t=e.codeAction.renameLocation;t&&e.codeAction.document.uri.scheme!==u.walkThroughSnippet&&await r.commands.executeCommand("editor.action.rename",[e.codeAction.document.uri,d.Position.fromLocation(t)])}}p.ID="_typescript.didApplyRefactoring";class g{constructor(e,t){this.client=e,this.didApplyCommand=t,this.id=g.ID}async execute(e){if(!this.client.toOpenedFilePath(e.document))return;const t=await r.window.showQuickPick(e.info.actions.map((e=>({label:e.name,description:e.description}))));if(!t)return;const n=new _(this.client,e.action.title,e.action.kind,e.document,e.info.name,t.label,e.rangeOrSelection);await n.resolve(c.nulToken),!n.edit||await r.workspace.applyEdit(n.edit)?await this.didApplyCommand.execute({codeAction:n}):r.window.showErrorMessage(f("refactoringFailed","Could not apply refactoring"))}}g.ID="_typescript.selectRefactoring";const h=Object.freeze({kind:r.CodeActionKind.RefactorExtract.append("function"),matches:e=>e.name.startsWith("function_")}),m=Object.freeze({kind:r.CodeActionKind.RefactorExtract.append("constant"),matches:e=>e.name.startsWith("constant_")}),v=Object.freeze({kind:r.CodeActionKind.RefactorExtract.append("type"),matches:e=>e.name.startsWith("Extract to type alias")}),y=Object.freeze({kind:r.CodeActionKind.RefactorExtract.append("interface"),matches:e=>e.name.startsWith("Extract to interface")}),S=Object.freeze({kind:r.CodeActionKind.Refactor.append("move").append("newFile"),matches:e=>e.name.startsWith("Move to a new file")}),C=Object.freeze({kind:r.CodeActionKind.RefactorRewrite.append("import"),matches:e=>e.name.startsWith("Convert namespace import")||e.name.startsWith("Convert named imports")}),b=Object.freeze({kind:r.CodeActionKind.RefactorRewrite.append("export"),matches:e=>e.name.startsWith("Convert default export")||e.name.startsWith("Convert named export")}),w=Object.freeze({kind:r.CodeActionKind.RefactorRewrite.append("arrow").append("braces"),matches:e=>e.name.startsWith("Convert default export")||e.name.startsWith("Convert named export")}),x=Object.freeze({kind:r.CodeActionKind.RefactorRewrite.append("parameters").append("toDestructured"),matches:e=>e.name.startsWith("Convert parameters to destructured object")}),T=Object.freeze({kind:r.CodeActionKind.RefactorRewrite.append("property").append("generateAccessors"),matches:e=>e.name.startsWith("Generate 'get' and 'set' accessors")}),I=[h,m,v,y,S,C,b,w,x,T];class _ extends r.CodeAction{constructor(e,t,n,r,i,o,s){super(t,n),this.client=e,this.document=r,this.refactor=i,this.action=o,this.range=s}async resolve(e){const t=this.client.toOpenedFilePath(this.document);if(!t)return;const n={...d.Range.toFileRangeRequestArgs(t,this.range),refactor:this.refactor,action:this.action},r=await this.client.execute("getEditsForRefactor",n,e);"response"===r.type&&r.body&&(this.edit=_.getWorkspaceEditForRefactoring(this.client,r.body),this.renameLocation=r.body.renameLocation)}static getWorkspaceEditForRefactoring(e,t){const n=new r.WorkspaceEdit;for(const r of t.edits){const t=e.toResource(r.fileName);t.scheme===u.file&&n.createFile(t,{ignoreIfExists:!0})}return d.WorkspaceEdit.withFileCodeEdits(n,e,t.edits),n}}class k extends r.CodeAction{constructor(e,t,n){super(e.description,r.CodeActionKind.Refactor),this.command={title:e.description,command:g.ID,arguments:[{action:this,document:t,info:e,rangeOrSelection:n}]}}}class P{constructor(e,t,n,r){this.client=e,this.formattingOptionsManager=t;const i=n.register(new p(r));n.register(new g(this.client,i))}async provideCodeActions(e,t,n,r){if(!this.shouldTrigger(n,t))return;if(!this.client.toOpenedFilePath(e))return;const i=await this.client.interruptGetErr((()=>{const i=this.client.toOpenedFilePath(e);if(!i)return;this.formattingOptionsManager.ensureConfigurationForDocument(e,r);const o={...d.Range.toFileRangeRequestArgs(i,t),triggerReason:this.toTsTriggerReason(n),kind:n.only?.value};return this.client.execute("getApplicableRefactors",o,r)}));if("response"!==i?.type||!i.body)return;const o=this.convertApplicableRefactors(i.body,e,t).filter((e=>!(this.client.apiVersion.lt(a.default.v430)&&!n.only&&"refactor.rewrite.function.returnType"===e.kind?.value)));return n.only?this.pruneInvalidActions(this.appendInvalidActions(o),n.only,5):o}async resolveCodeAction(e,t){return e instanceof _&&await e.resolve(t),e}toTsTriggerReason(e){if(e.triggerKind===r.CodeActionTriggerKind.Invoke)return"invoked"}convertApplicableRefactors(e,t,n){const r=[];for(const i of e)if(!1===i.inlineable){const e=new k(i,t,n);r.push(e)}else for(const e of i.actions)r.push(this.refactorActionToCodeAction(e,t,i,n,i.actions));return r}refactorActionToCodeAction(e,t,n,r,i){const o=new _(this.client,e.description,P.getKind(e),t,n.name,e.name,r);return e.notApplicableReason?o.disabled={reason:e.notApplicableReason}:o.command={title:e.description,command:p.ID,arguments:[{codeAction:o}]},o.isPreferred=P.isPreferred(e,i),o}shouldTrigger(e,t){return!(e.only&&!r.CodeActionKind.Refactor.contains(e.only))&&(e.triggerKind===r.CodeActionTriggerKind.Invoke||t instanceof r.Selection)}static getKind(e){if(e.kind)return r.CodeActionKind.Empty.append(e.kind);const t=I.find((t=>t.matches(e)));return t?t.kind:r.CodeActionKind.Refactor}static isPreferred(e,t){if(m.matches(e)){const n=e=>{const t=e.match(/scope_(\d)/)?.[1];return t?+t:void 0},r=n(e.name);return"number"==typeof r&&t.filter((t=>t!==e&&m.matches(t))).every((e=>{const t=n(e.name);return"number"!=typeof t||r<t}))}return!(!v.matches(e)&&!y.matches(e))}appendInvalidActions(e){if(this.client.apiVersion.gte(a.default.v400))return e;if(!e.some((e=>e.kind&&m.kind.contains(e.kind)))){const t=new r.CodeAction(f("extractConstant.disabled.title","Extract to constant"),m.kind);t.disabled={reason:f("extractConstant.disabled.reason","The current selection cannot be extracted")},t.isPreferred=!0,e.push(t)}if(!e.some((e=>e.kind&&h.kind.contains(e.kind)))){const t=new r.CodeAction(f("extractFunction.disabled.title","Extract to function"),h.kind);t.disabled={reason:f("extractFunction.disabled.reason","The current selection cannot be extracted")},e.push(t)}return e}pruneInvalidActions(e,t,n){if(this.client.apiVersion.lt(a.default.v400))return e;const r=[],i=[],o=[];for(const t of e)t.disabled?t.kind&&(m.kind.contains(t.kind)||h.kind.contains(t.kind))?i.push(t):o.push(t):r.push(t);const s=[];s.push(...i),s.push(...o);const c=s.filter((e=>!t||e.kind&&t.contains(e.kind))).slice(0,n);return r.push(...c),r}}P.minVersion=a.default.v240,P.metadata={providedCodeActionKinds:[r.CodeActionKind.Refactor,...I.map((e=>e.kind))],documentation:[{kind:r.CodeActionKind.Refactor,command:{command:o.LearnMoreAboutRefactoringsCommand.id,title:f("refactor.documentation.title","Learn more about JS/TS refactorings")}}]},t.register=function(e,t,n,i,o){return(0,l.conditionalRegistration)([(0,l.requireMinVersion)(t,P.minVersion),(0,l.requireSomeCapability)(t,s.ClientCapability.Semantic)],(()=>r.languages.registerCodeActionsProvider(e.semantic,new P(t,n,i,o),P.metadata)))}},2705:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.register=void 0;const r=n(7549),i=n(5162),o=n(2298),s=n(231);class a{constructor(e){this.client=e}async provideReferences(e,t,n,r){const i=this.client.toOpenedFilePath(e);if(!i)return[];const o=s.Position.toFileLocationRequestArgs(i,t),a=await this.client.execute("references",o,r);if("response"!==a.type||!a.body)return[];const c=[];for(const e of a.body.refs){if(!n.includeDeclaration&&e.isDefinition)continue;const t=this.client.toResource(e.file),r=s.Location.fromTextSpan(t,e);c.push(r)}return c}}t.register=function(e,t){return(0,o.conditionalRegistration)([(0,o.requireSomeCapability)(t,i.ClientCapability.EnhancedSyntax,i.ClientCapability.Semantic)],(()=>r.languages.registerReferenceProvider(e.syntax,new a(t))))}},171:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.register=void 0;const r=n(1023),i=n(7549),o=n(189),s=n(5162),a=n(9638),c=n(2298),l=n(231),u=o.loadMessageBundle();class d{constructor(e,t){this.client=e,this.fileConfigurationManager=t}async prepareRename(e,t,n){if(this.client.apiVersion.lt(a.default.v310))return null;const r=await this.execRename(e,t,n);if("response"!==r?.type||!r.body)return null;const i=r.body.info;return i.canRename?l.Range.fromTextSpan(i.triggerSpan):Promise.reject(i.localizedErrorMessage)}async provideRenameEdits(e,t,n,r){const i=await this.execRename(e,t,r);if(!i||"response"!==i.type||!i.body)return null;const o=i.body.info;if(!o.canRename)return Promise.reject(o.localizedErrorMessage);if(o.fileToRename){return await this.renameFile(o.fileToRename,n,r)||Promise.reject(u("fileRenameFail","An error occurred while renaming file"))}return this.updateLocs(i.body.locs,n)}async execRename(e,t,n){const r=this.client.toOpenedFilePath(e);if(!r)return;const i={...l.Position.toFileLocationRequestArgs(r,t),findInStrings:!1,findInComments:!1};return this.client.interruptGetErr((()=>(this.fileConfigurationManager.ensureConfigurationForDocument(e,n),this.client.execute("rename",i,n))))}updateLocs(e,t){const n=new i.WorkspaceEdit;for(const r of e){const e=this.client.toResource(r.file);for(const i of r.locs)n.replace(e,l.Range.fromTextSpan(i),(i.prefixText||"")+t+(i.suffixText||""))}return n}async renameFile(e,t,n){r.extname(t)||(t+=r.extname(e));const o=r.dirname(e),s=r.join(o,t),a={file:e,oldFilePath:e,newFilePath:s},c=await this.client.execute("getEditsForFileRename",a,n);if("response"!==c.type||!c.body)return;const u=l.WorkspaceEdit.fromFileCodeEdits(this.client,c.body);return u.renameFile(i.Uri.file(e),i.Uri.file(s)),u}}t.register=function(e,t,n){return(0,c.conditionalRegistration)([(0,c.requireSomeCapability)(t,s.ClientCapability.Semantic)],(()=>i.languages.registerRenameProvider(e.semantic,new d(t,n))))}},8116:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.register=void 0;const r=n(7549),i=n(5162),o=n(9638),s=n(2298),a=1e5;t.register=function(e,t){return(0,s.conditionalRegistration)([(0,s.requireMinVersion)(t,o.default.v370),(0,s.requireSomeCapability)(t,i.ClientCapability.Semantic)],(()=>{const n=new c(t);return r.languages.registerDocumentRangeSemanticTokensProvider(e.semantic,n,n.getLegend())}))};class c{constructor(e){this.client=e}getLegend(){return new r.SemanticTokensLegend(d,f)}async provideDocumentSemanticTokens(e,t){const n=this.client.toOpenedFilePath(e);return!n||e.getText().length>a?null:this.provideSemanticTokens(e,{file:n,start:0,length:e.getText().length},t)}async provideDocumentRangeSemanticTokens(e,t,n){const r=this.client.toOpenedFilePath(e);if(!r||e.offsetAt(t.end)-e.offsetAt(t.start)>a)return null;const i=e.offsetAt(t.start),o=e.offsetAt(t.end)-i;return this.provideSemanticTokens(e,{file:r,start:i,length:o},n)}async provideSemanticTokens(e,t,n){if(!this.client.toOpenedFilePath(e))return null;const i=e.version,o=await this.client.execute("encodedSemanticClassifications-full",{...t,format:"2020"},n,{cancelOnResourceChange:e.uri});if("response"!==o.type||!o.body)return null;if(i!==e.version)throw await function(e){let t=e.version;return new Promise((n=>{const r=setInterval((i=>{e.version===t&&(clearInterval(r),n()),t=e.version}),400)}))}(e),new r.CancellationError;const s=o.body.spans,a=new r.SemanticTokensBuilder;for(let t=0;t<s.length;){const n=s[t++],r=s[t++],i=s[t++],o=l(i);if(void 0===o)continue;const c=u(i),d=e.positionAt(n),f=e.positionAt(n+r);for(let t=d.line;t<=f.line;t++){const n=t===d.line?d.character:0,r=t===f.line?f.character:e.lineAt(t).text.length;a.push(t,n,r-n,o,c)}}return a.build()}}function l(e){if(e>255)return(e>>8)-1}function u(e){return 255&e}const d=[];d[0]="class",d[1]="enum",d[2]="interface",d[3]="namespace",d[4]="typeParameter",d[5]="type",d[6]="parameter",d[7]="variable",d[8]="enumMember",d[9]="property",d[10]="function",d[11]="method";const f=[];f[2]="async",f[0]="declaration",f[3]="readonly",f[1]="static",f[5]="local",f[4]="defaultLibrary"},3416:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.register=void 0;const r=n(7549),i=n(5162),o=n(2298),s=n(3539),a=n(231);class c{constructor(e){this.client=e}async provideSignatureHelp(e,t,n,i){const o=this.client.toOpenedFilePath(e);if(!o)return;const s={...a.Position.toFileLocationRequestArgs(o,t),triggerReason:l(i)},c=await this.client.interruptGetErr((()=>this.client.execute("signatureHelp",s,n)));if("response"!==c.type||!c.body)return;const u=c.body,d=new r.SignatureHelp;return d.signatures=u.items.map((t=>this.convertSignature(t,e.uri))),d.activeSignature=this.getActiveSignature(i,u,d.signatures),d.activeParameter=this.getActiveParameter(u),d}getActiveSignature(e,t,n){const r=e.activeSignatureHelp?.signatures[e.activeSignatureHelp.activeSignature];if(r&&e.isRetrigger){const e=n.findIndex((e=>e.label===r?.label));if(e>=0)return e}return t.selectedItemIndex}getActiveParameter(e){const t=e.items[e.selectedItemIndex];return t?.isVariadic?Math.min(e.argumentIndex,t.parameters.length-1):e.argumentIndex}convertSignature(e,t){const n=new r.SignatureInformation(s.plainWithLinks(e.prefixDisplayParts,this.client),s.markdownDocumentation(e.documentation,e.tags.filter((e=>"param"!==e.name)),this.client,t));let i=n.label.length;const o=s.plainWithLinks(e.separatorDisplayParts,this.client);for(let a=0;a<e.parameters.length;++a){const c=e.parameters[a],l=s.plainWithLinks(c.displayParts,this.client);n.parameters.push(new r.ParameterInformation([i,i+l.length],s.markdownDocumentation(c.documentation,[],this.client,t))),i+=l.length,n.label+=l,a!==e.parameters.length-1&&(n.label+=o,i+=o.length)}return n.label+=s.plainWithLinks(e.suffixDisplayParts,this.client),n}}function l(e){switch(e.triggerKind){case r.SignatureHelpTriggerKind.TriggerCharacter:return e.triggerCharacter?e.isRetrigger?{kind:"retrigger",triggerCharacter:e.triggerCharacter}:{kind:"characterTyped",triggerCharacter:e.triggerCharacter}:{kind:"invoked"};case r.SignatureHelpTriggerKind.ContentChange:return e.isRetrigger?{kind:"retrigger"}:{kind:"invoked"};case r.SignatureHelpTriggerKind.Invoke:default:return{kind:"invoked"}}}c.triggerCharacters=["(",",","<"],c.retriggerCharacters=[")"],t.register=function(e,t){return(0,o.conditionalRegistration)([(0,o.requireSomeCapability)(t,i.ClientCapability.EnhancedSyntax,i.ClientCapability.Semantic)],(()=>r.languages.registerSignatureHelpProvider(e.syntax,new c(t),{triggerCharacters:c.triggerCharacters,retriggerCharacters:c.retriggerCharacters})))}},5618:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.register=void 0;const r=n(7549),i=n(9638),o=n(2298),s=n(231);class a{constructor(e){this.client=e}async provideSelectionRanges(e,t,n){const r=this.client.toOpenedFilePath(e);if(!r)return;const i={file:r,locations:t.map(s.Position.toLocation)},o=await this.client.execute("selectionRange",i,n);return"response"===o.type&&o.body?o.body.map(a.convertSelectionRange):void 0}static convertSelectionRange(e){return new r.SelectionRange(s.Range.fromTextSpan(e.textSpan),e.parent?a.convertSelectionRange(e.parent):void 0)}}a.minVersion=i.default.v350,t.register=function(e,t){return(0,o.conditionalRegistration)([(0,o.requireMinVersion)(t,a.minVersion)],(()=>r.languages.registerSelectionRangeProvider(e.syntax,new a(t))))}},986:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.register=void 0;const r=n(7549),i=n(189),o=n(9638),s=n(3683),a=n(231),c=i.loadMessageBundle();class l{constructor(e){this.client=e,this.id="typescript.goToSourceDefinition"}async execute(){if(this.client.apiVersion.lt(l.minVersion))return void r.window.showErrorMessage(c("error.unsupportedVersion","Go to Source Definition failed. Requires TypeScript 4.7+."));const e=r.window.activeTextEditor;if(!e)return void r.window.showErrorMessage(c("error.noResource","Go to Source Definition failed. No resource provided."));const t=e.document.uri,n=await r.workspace.openTextDocument(t);if(!(0,s.isSupportedLanguageMode)(n))return void r.window.showErrorMessage(c("error.unsupportedLanguage","Go to Source Definition failed. Unsupported file type."));const i=this.client.toOpenedFilePath(n);i?await r.window.withProgress({location:r.ProgressLocation.Window,title:c("progress.title","Finding source definitions")},(async(n,o)=>{const s=e.selection.anchor,l=a.Position.toFileLocationRequestArgs(i,s),u=await this.client.execute("findSourceDefinition",l,o);if("response"===u.type&&u.body){const e=u.body.map((e=>a.Location.fromTextSpan(this.client.toResource(e.file),e)));if(e.length)return void(1===e.length?r.commands.executeCommand("vscode.open",e[0].uri.with({fragment:`L${e[0].range.start.line+1},${e[0].range.start.character+1}`})):r.commands.executeCommand("editor.action.showReferences",t,s,e))}r.window.showErrorMessage(c("error.noReferences","No source definitions found."))})):r.window.showErrorMessage(c("error.unknownFile","Go to Source Definition failed. Unknown file type."))}}l.context="tsSupportsSourceDefinition",l.minVersion=o.default.v470,t.register=function(e,t){function n(){r.commands.executeCommand("setContext",l.context,e.apiVersion.gte(l.minVersion))}return n(),t.register(new l(e)),e.onTsServerStarted((()=>n()))}},279:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.register=void 0;const r=n(7549),i=n(9638),o=n(2298),s=n(4009),a=n(231);class c extends s.Disposable{constructor(e){super(),this.client=e,this._disposed=!1,this._timeout=void 0,this._cancel=void 0,r.workspace.onDidChangeTextDocument((e=>this.onDidChangeTextDocument(e)),null,this._disposables)}dispose(){super.dispose(),this._disposed=!0,this._timeout&&(clearTimeout(this._timeout),this._timeout=void 0),this._cancel&&(this._cancel.cancel(),this._cancel.dispose(),this._cancel=void 0)}onDidChangeTextDocument({document:e,contentChanges:t,reason:n}){if(0===t.length||n===r.TextDocumentChangeReason.Undo||n===r.TextDocumentChangeReason.Redo)return;const i=r.window.activeTextEditor?.document;if(e!==i)return;const o=this.client.toOpenedFilePath(e);if(!o)return;void 0!==this._timeout&&clearTimeout(this._timeout),this._cancel&&(this._cancel.cancel(),this._cancel.dispose(),this._cancel=void 0);const s=t[t.length-1],c=s.text[s.text.length-1];if(s.rangeLength>0||">"!==c&&"/"!==c)return;if(">"===(s.range.start.character>0?e.getText(new r.Range(s.range.start.translate({characterDelta:-1}),s.range.start)):""))return;const l=e.version;this._timeout=setTimeout((async()=>{if(this._timeout=void 0,this._disposed)return;const t=s.text.split(/\r\n|\n/g),n=t.length<=1?s.range.start.translate({characterDelta:s.text.length}):new r.Position(s.range.start.line+t.length-1,t[t.length-1].length),i=a.Position.toFileLocationRequestArgs(o,n);this._cancel=new r.CancellationTokenSource;const c=await this.client.execute("jsxClosingTag",i,this._cancel.token);if("response"!==c.type||!c.body)return;if(this._disposed)return;const u=r.window.activeTextEditor;if(!u)return;const d=c.body,f=u.document;e===f&&f.version===l&&u.insertSnippet(this.getTagSnippet(d),this.getInsertionPositions(u,n))}),100)}getTagSnippet(e){const t=new r.SnippetString;return t.appendPlaceholder("",0),t.appendText(e.newText),t}getInsertionPositions(e,t){const n=e.selections.map((e=>e.active));return n.some((e=>e.isEqual(t)))?n:t}}function l(e,t){return new o.Condition((()=>{const n=r.window.activeTextEditor;return!(!n||!r.languages.match(e,n.document)||!r.workspace.getConfiguration(t.id,n.document).get("autoClosingTags"))}),(e=>r.Disposable.from(r.window.onDidChangeActiveTextEditor(e),r.workspace.onDidOpenTextDocument(e),r.workspace.onDidChangeConfiguration(e))))}c.minVersion=i.default.v300,t.register=function(e,t,n){return(0,o.conditionalRegistration)([(0,o.requireMinVersion)(n,c.minVersion),l(e.syntax,t)],(()=>new c(n)))}},6270:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.register=void 0;const r=n(516),i=n(1023),o=n(7549),s=n(189),a=n(7373),c=n(6929),l=n(1595);function u(e,t){return e&&"array"===e.type&&e.children?e.children.map(t):[]}const d=s.loadMessageBundle();class f{provideDocumentLinks(e,t){const n=r.parseTree(e.getText());return n?(0,c.coalesce)([this.getExtendsLink(e,n),...this.getFilesLinks(e,n),...this.getReferencesLinks(e,n)]):[]}getExtendsLink(e,t){const n=r.findNodeAtLocation(t,["extends"]);if(!this.isPathValue(n))return;const i=n.value;if(i.startsWith("/"))return;const s={resourceUri:e.uri,extendsValue:i},a=new o.DocumentLink(this.getRange(e,n),o.Uri.parse(`command:_typescript.openExtendsLink?${JSON.stringify(s)}`));return a.tooltip=d("documentLink.tooltip","Follow link"),a}getFilesLinks(e,t){return u(r.findNodeAtLocation(t,["files"]),(t=>this.pathNodeToLink(e,t)))}getReferencesLinks(e,t){return u(r.findNodeAtLocation(t,["references"]),(t=>{const n=r.findNodeAtLocation(t,["path"]);if(this.isPathValue(n))return new o.DocumentLink(this.getRange(e,n),(0,i.basename)(n.value).endsWith(".json")?this.getFileTarget(e,n):this.getFolderTarget(e,n))}))}pathNodeToLink(e,t){return this.isPathValue(t)?new o.DocumentLink(this.getRange(e,t),this.getFileTarget(e,t)):void 0}isPathValue(e){return e&&"string"===e.type&&e.value&&!e.value.includes("*")}getFileTarget(e,t){return o.Uri.file((0,i.join)((0,i.dirname)(e.uri.fsPath),t.value))}getFolderTarget(e,t){return o.Uri.file((0,i.join)((0,i.dirname)(e.uri.fsPath),t.value,"tsconfig.json"))}getRange(e,t){const n=t.offset,r=e.positionAt(n+1),i=e.positionAt(n+(t.length-1));return new o.Range(r,i)}}t.register=function(){const e=["**/[jt]sconfig.json","**/[jt]sconfig.*.json"],t=["json","jsonc"].map((t=>e.map((e=>({language:t,pattern:e}))))).flat();return o.Disposable.from(o.commands.registerCommand("_typescript.openExtendsLink",(async({resourceUri:e,extendsValue:t})=>{const n=await async function(e,t){if(["./","../"].some((e=>t.startsWith(e)))){const n=o.Uri.joinPath(e,t);return await(0,l.exists)(n)||n.path.endsWith(".json")?n:n.with({path:`${n.path}.json`})}return async function(e,t){let n=e;const r=t[0],s=r.startsWith("@")?2:1,a=r.split(i.posix.sep).slice(0,s).join(i.posix.sep);for(;;){const e=o.Uri.joinPath(n,"node_modules",a);let r;try{r=await o.workspace.fs.stat(e)}catch(e){}if(r&&r.type&o.FileType.Directory)for(const n of t.map((e=>e.split(i.posix.sep).slice(s).join(i.posix.sep))).filter(Boolean).map((t=>o.Uri.joinPath(e,t))))if(await(0,l.exists)(n))return n;const c=n;if(n=o.Uri.joinPath(n,".."),c.path===n.path)return}}(e,[t,...t.endsWith(".json")?[]:[`${t}.json`,`${t}/tsconfig.json`]])}(a.Utils.dirname(e),t);void 0!==n?await o.commands.executeCommand("vscode.open",n):o.window.showErrorMessage(d("openTsconfigExtendsModuleFail","Failed to resolve {0} as module",t))})),o.languages.registerDocumentLinkProvider(t,new f))}},2636:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.register=void 0;const r=n(7549),i=n(5162),o=n(2298),s=n(8695);class a extends s.default{provideTypeDefinition(e,t,n){return this.getSymbolLocations("typeDefinition",e,t,n)}}t.default=a,t.register=function(e,t){return(0,o.conditionalRegistration)([(0,o.requireSomeCapability)(t,i.ClientCapability.EnhancedSyntax,i.ClientCapability.Semantic)],(()=>r.languages.registerTypeDefinitionProvider(e.syntax,new a(t))))}},1347:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.register=void 0;const r=n(1023),i=n(7549),o=n(189),s=n(5162),a=n(9638),c=n(7544),l=n(3219),u=n(2298),d=n(4009),f=n(6797),p=n(2503),g=n(231),h=o.loadMessageBundle(),m="updateImportsOnFileMove.enabled";class v extends d.Disposable{constructor(e,t,n){super(),this.client=e,this.fileConfigurationManager=t,this._handles=n,this._delayer=new c.Delayer(50),this._pendingRenames=new Set,this._register(i.workspace.onDidRenameFiles((async e=>{const[{newUri:t,oldUri:n}]=e.files,r=this.client.toPath(t);if(!r)return;const o=this.client.toPath(n);if(!o)return;if("never"===this.getConfiguration(t).get(m))return;const s=await this.getJsTsFileBeingMoved(t);s&&this.client.toPath(s)&&(this._pendingRenames.add({oldUri:n,newUri:t,newFilePath:r,oldFilePath:o,jsTsFileThatIsBeingMoved:s}),this._delayer.trigger((()=>{i.window.withProgress({location:i.ProgressLocation.Window,title:h("renameProgress.title","Checking for update of JS/TS imports")},(()=>this.flushRenames()))})))})))}async flushRenames(){const e=Array.from(this._pendingRenames);this._pendingRenames.clear();for(const t of this.groupRenames(e)){const e=new i.WorkspaceEdit,n=[];for(const{oldUri:r,newUri:o,newFilePath:s,oldFilePath:a,jsTsFileThatIsBeingMoved:c}of t){const t=await i.workspace.openTextDocument(c);this.client.bufferSyncSupport.closeResource(r),this.client.bufferSyncSupport.openTextDocument(t),await this.withEditsForFileRename(e,t,a,s)&&n.push(o)}e.size&&await this.confirmActionWithUser(n)&&await i.workspace.applyEdit(e)}}async confirmActionWithUser(e){if(!e.length)return!1;switch(this.getConfiguration(e[0]).get(m)){case"always":return!0;case"never":return!1;case"prompt":default:return this.promptUser(e)}}getConfiguration(e){return i.workspace.getConfiguration((0,p.doesResourceLookLikeATypeScriptFile)(e)?"typescript":"javascript",e)}async promptUser(e){if(!e.length)return!1;const t=await i.window.showInformationMessage(1===e.length?h("prompt","Update imports for '{0}'?",r.basename(e[0].fsPath)):this.getConfirmMessage(h("promptMoreThanOne","Update imports for the following {0} files?",e.length),e),{modal:!0},{title:h("reject.title","No"),choice:2,isCloseAffordance:!0},{title:h("accept.title","Yes"),choice:1},{title:h("always.title","Always automatically update imports"),choice:3},{title:h("never.title","Never automatically update imports"),choice:4});if(!t)return!1;switch(t.choice){case 1:return!0;case 2:return!1;case 3:return this.getConfiguration(e[0]).update(m,"always",i.ConfigurationTarget.Global),!0;case 4:return this.getConfiguration(e[0]).update(m,"never",i.ConfigurationTarget.Global),!1}return!1}async getJsTsFileBeingMoved(e){if(e.scheme===f.file)return await async function(e){try{return(await i.workspace.fs.stat(e)).type===i.FileType.Directory}catch{return!1}}(e)?(await i.workspace.findFiles(new i.RelativePattern(e,"**/*.{ts,tsx,js,jsx}"),"**/node_modules/**",1))[0]:await this._handles(e)?e:void 0}async withEditsForFileRename(e,t,n,r){const i=await this.client.interruptGetErr((()=>{this.fileConfigurationManager.setGlobalConfigurationFromDocument(t,l.nulToken);const e={oldFilePath:n,newFilePath:r};return this.client.execute("getEditsForFileRename",e,l.nulToken)}));return!("response"!==i.type||!i.body.length||(g.WorkspaceEdit.withFileCodeEdits(e,this.client,i.body),0))}groupRenames(e){const t=new Map;for(const n of e){const e=`${this.client.getWorkspaceRootForResource(n.jsTsFileThatIsBeingMoved)}@@@${(0,p.doesResourceLookLikeATypeScriptFile)(n.jsTsFileThatIsBeingMoved)}`;t.has(e)||t.set(e,new Set),t.get(e).add(n)}return t.values()}getConfirmMessage(e,t){const n=[e];return n.push(""),n.push(...t.slice(0,10).map((e=>r.basename(e.fsPath)))),t.length>10&&(t.length-10==1?n.push(h("moreFile","...1 additional file not shown")):n.push(h("moreFiles","...{0} additional files not shown",t.length-10))),n.push(""),n.join("\n")}}v.minVersion=a.default.v300,t.register=function(e,t,n){return(0,u.conditionalRegistration)([(0,u.requireMinVersion)(e,v.minVersion),(0,u.requireSomeCapability)(e,s.ClientCapability.Semantic)],(()=>new v(e,t,n)))}},8504:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.register=void 0;const r=n(7549),i=n(4156),o=n(9638),s=n(6797),a=n(2503),c=n(308),l=n(231);class u{constructor(e,t){this.client=e,this.modeIds=t}async provideWorkspaceSymbols(e,t){let n;if(this.searchAllOpenProjects)n=void 0;else{const e=this.getDocument();if(n=e?await this.toOpenedFiledPath(e):void 0,!n&&this.client.apiVersion.lt(o.default.v390))return[]}const r={file:n,searchValue:e,maxResultCount:256},i=await this.client.execute("navto",r,t);return"response"===i.type&&i.body?i.body.filter((e=>e.containerName||"alias"!==e.kind)).map((e=>this.toSymbolInformation(e))):[]}get searchAllOpenProjects(){return this.client.apiVersion.gte(o.default.v390)&&"allOpenProjects"===r.workspace.getConfiguration("typescript").get("workspaceSymbols.scope","allOpenProjects")}async toOpenedFiledPath(e){if(e.uri.scheme===s.git)try{const t=r.Uri.file(JSON.parse(e.uri.query)?.path);if((0,a.doesResourceLookLikeATypeScriptFile)(t)||(0,a.doesResourceLookLikeAJavaScriptFile)(t)){const e=await r.workspace.openTextDocument(t);return this.client.toOpenedFilePath(e)}}catch{}return this.client.toOpenedFilePath(e)}toSymbolInformation(e){const t=u.getLabel(e),n=new r.SymbolInformation(t,function(e){switch(e.kind){case i.Kind.method:return r.SymbolKind.Method;case i.Kind.enum:return r.SymbolKind.Enum;case i.Kind.enumMember:return r.SymbolKind.EnumMember;case i.Kind.function:return r.SymbolKind.Function;case i.Kind.class:return r.SymbolKind.Class;case i.Kind.interface:return r.SymbolKind.Interface;case i.Kind.type:return r.SymbolKind.Class;case i.Kind.memberVariable:case i.Kind.memberGetAccessor:case i.Kind.memberSetAccessor:return r.SymbolKind.Field;case i.Kind.variable:default:return r.SymbolKind.Variable}}(e),e.containerName||"",l.Location.fromTextSpan(this.client.toResource(e.file),e));return(e.kindModifiers?(0,c.parseKindModifier)(e.kindModifiers):void 0)?.has(i.KindModifiers.deprecated)&&(n.tags=[r.SymbolTag.Deprecated]),n}static getLabel(e){const t=e.name;return"method"===e.kind||"function"===e.kind?t+"()":t}getDocument(){const e=r.window.activeTextEditor?.document;if(e&&this.modeIds.includes(e.languageId))return e;const t=r.workspace.textDocuments;for(const e of t)if(this.modeIds.includes(e.languageId))return e}}t.register=function(e,t){return r.languages.registerWorkspaceSymbolProvider(new u(e,t))}},1658:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1023),i=n(7549),o=n(5824),s=n(5162),a=n(4009),c=n(6797);class l extends a.Disposable{constructor(e,t,n,r,o,s,a){super(),this.client=e,this.description=t,this.commandManager=n,this.telemetryReporter=r,this.typingsStatus=o,this.fileConfigurationManager=s,this.onCompletionAccepted=a,i.workspace.onDidChangeConfiguration(this.configurationChanged,this,this._disposables),this.configurationChanged(),e.onReady((()=>this.registerProviders()))}get documentSelector(){const e=[],t=[];for(const n of this.description.languageIds){t.push({language:n});for(const t of c.semanticSupportedSchemes)e.push({language:n,scheme:t})}return{semantic:e,syntax:t}}async registerProviders(){const e=this.documentSelector,t=new o.CachedResponse;await Promise.all([Promise.resolve().then((()=>n(1072))).then((t=>this._register(t.register(e,this.client)))),Promise.resolve().then((()=>n(5744))).then((n=>this._register(n.register(e,this.description,this.client,t)))),Promise.resolve().then((()=>n(9182))).then((n=>this._register(n.register(e,this.description,this.client,t)))),Promise.resolve().then((()=>n(2916))).then((t=>this._register(t.register(e,this.description,this.client,this.typingsStatus,this.fileConfigurationManager,this.commandManager,this.telemetryReporter,this.onCompletionAccepted)))),Promise.resolve().then((()=>n(2308))).then((t=>this._register(t.register(e,this.client)))),Promise.resolve().then((()=>n(63))).then((t=>this._register(t.register(e,this.client)))),Promise.resolve().then((()=>n(8531))).then((t=>this._register(t.register(e,this.client)))),Promise.resolve().then((()=>n(3387))).then((n=>this._register(n.register(e,this.client,t)))),Promise.resolve().then((()=>n(8283))).then((e=>this._register(e.register(this.client,this.commandManager)))),Promise.resolve().then((()=>n(1932))).then((t=>this._register(t.register(e,this.client,this.fileConfigurationManager,this.client.diagnosticsManager)))),Promise.resolve().then((()=>n(1416))).then((t=>this._register(t.register(e,this.client)))),Promise.resolve().then((()=>n(2742))).then((t=>this._register(t.register(e,this.description,this.client,this.fileConfigurationManager)))),Promise.resolve().then((()=>n(8967))).then((t=>this._register(t.register(e,this.client,this.fileConfigurationManager)))),Promise.resolve().then((()=>n(8878))).then((t=>this._register(t.register(e,this.client)))),Promise.resolve().then((()=>n(8484))).then((t=>this._register(t.register(e,this.description,this.client,this.fileConfigurationManager)))),Promise.resolve().then((()=>n(4850))).then((t=>this._register(t.register(e,this.description,this.client,this.fileConfigurationManager)))),Promise.resolve().then((()=>n(8267))).then((t=>this._register(t.register(e,this.client,this.commandManager,this.fileConfigurationManager,this.telemetryReporter)))),Promise.resolve().then((()=>n(3270))).then((t=>this._register(t.register(e,this.client,this.fileConfigurationManager,this.commandManager,this.client.diagnosticsManager,this.telemetryReporter)))),Promise.resolve().then((()=>n(4577))).then((t=>this._register(t.register(e,this.client,this.fileConfigurationManager,this.commandManager,this.telemetryReporter)))),Promise.resolve().then((()=>n(2705))).then((t=>this._register(t.register(e,this.client)))),Promise.resolve().then((()=>n(171))).then((t=>this._register(t.register(e,this.client,this.fileConfigurationManager)))),Promise.resolve().then((()=>n(8116))).then((t=>this._register(t.register(e,this.client)))),Promise.resolve().then((()=>n(3416))).then((t=>this._register(t.register(e,this.client)))),Promise.resolve().then((()=>n(5618))).then((t=>this._register(t.register(e,this.client)))),Promise.resolve().then((()=>n(986))).then((e=>this._register(e.register(this.client,this.commandManager)))),Promise.resolve().then((()=>n(279))).then((t=>this._register(t.register(e,this.description,this.client)))),Promise.resolve().then((()=>n(2636))).then((t=>this._register(t.register(e,this.client))))])}configurationChanged(){const e=i.workspace.getConfiguration(this.id,null);this.updateValidate(e.get("validate.enable",!0)),this.updateSuggestionDiagnostics(e.get("suggestionActions.enabled",!0))}handlesUri(e){const t=(0,r.extname)(e.path).slice(1).toLowerCase();return this.description.standardFileExtensions.includes(t)||this.handlesConfigFile(e)}handlesDocument(e){return this.description.languageIds.includes(e.languageId)||this.handlesConfigFile(e.uri)}handlesConfigFile(e){const t=(0,r.basename)(e.fsPath);return!!t&&!!this.description.configFilePattern&&this.description.configFilePattern.test(t)}get id(){return this.description.id}get diagnosticSource(){return this.description.diagnosticSource}updateValidate(e){this.client.diagnosticsManager.setValidate(this._diagnosticLanguage,e)}updateSuggestionDiagnostics(e){this.client.diagnosticsManager.setEnableSuggestions(this._diagnosticLanguage,e)}reInitialize(){this.client.diagnosticsManager.reInitialize()}triggerAllDiagnostics(){this.client.bufferSyncSupport.requestAllDiagnostics()}diagnosticsReceived(e,t,n){if(0!==e&&!this.client.hasCapabilityForResource(t,s.ClientCapability.Semantic))return;const r=i.workspace.getConfiguration(this.id,t),o=r.get("showUnused",!0),a=r.get("showDeprecated",!0);this.client.diagnosticsManager.updateDiagnostics(t,this._diagnosticLanguage,e,n.filter((e=>!(!o&&e.reportUnnecessary&&e.severity===i.DiagnosticSeverity.Hint||!a&&e.reportDeprecated&&e.severity===i.DiagnosticSeverity.Hint))))}configFileDiagnosticsReceived(e,t){this.client.diagnosticsManager.configFileDiagnosticsReceived(e,t)}get _diagnosticLanguage(){return this.description.diagnosticLanguage}}t.default=l},9491:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lazilyActivateClient=t.createLazyClientHost=void 0;const r=n(7549),i=n(5662),o=n(6797),s=n(2503),a=n(8277),c=n(7953);t.createLazyClientHost=function(e,t,n,r){return(0,a.lazy)((()=>{const o=new i.default(s.standardLanguageDescriptions,e,t,n,r);return e.subscriptions.push(o),o}))},t.lazilyActivateClient=function(e,t,n){const i=[],a=[...s.standardLanguageDescriptions.map((e=>e.languageIds)),...t.plugins.map((e=>e.languages))].flat();let l=!1;const u=t=>!(l||!function(e,t){return e.indexOf(t.languageId)>=0&&!o.disabledSchemes.has(t.uri.scheme)}(a,t)||(l=!0,e.value,i.push(new c.default(n,(t=>e.value.serviceClient.toPath(t)))),0));if(!r.workspace.textDocuments.some(u)){const e=r.workspace.onDidOpenTextDocument((t=>{u(t)&&e.dispose()}),void 0,i)}return r.Disposable.from(...i)}},4156:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventName=t.DisplayPartKind=t.KindModifiers=t.DiagnosticCategory=t.Kind=void 0;class n{}t.Kind=n,n.alias="alias",n.callSignature="call",n.class="class",n.const="const",n.constructorImplementation="constructor",n.constructSignature="construct",n.directory="directory",n.enum="enum",n.enumMember="enum member",n.externalModuleName="external module name",n.function="function",n.indexSignature="index",n.interface="interface",n.keyword="keyword",n.let="let",n.localFunction="local function",n.localVariable="local var",n.method="method",n.memberGetAccessor="getter",n.memberSetAccessor="setter",n.memberVariable="property",n.module="module",n.primitiveType="primitive type",n.script="script",n.type="type",n.variable="var",n.warning="warning",n.string="string",n.parameter="parameter",n.typeParameter="type parameter";class r{}t.DiagnosticCategory=r,r.error="error",r.warning="warning",r.suggestion="suggestion";class i{}t.KindModifiers=i,i.optional="optional",i.deprecated="deprecated",i.color="color",i.dtsFile=".d.ts",i.tsFile=".ts",i.tsxFile=".tsx",i.jsFile=".js",i.jsxFile=".jsx",i.jsonFile=".json",i.fileExtensionKindModifiers=[i.dtsFile,i.tsFile,i.tsxFile,i.jsFile,i.jsxFile,i.jsonFile];class o{}var s;t.DisplayPartKind=o,o.functionName="functionName",o.methodName="methodName",o.parameterName="parameterName",o.propertyName="propertyName",o.punctuation="punctuation",o.text="text",(s=t.EventName||(t.EventName={})).syntaxDiag="syntaxDiag",s.semanticDiag="semanticDiag",s.suggestionDiag="suggestionDiag",s.configFileDiag="configFileDiag",s.telemetry="telemetry",s.projectLanguageServiceState="projectLanguageServiceState",s.projectsUpdatedInBackground="projectsUpdatedInBackground",s.beginInstallTypes="beginInstallTypes",s.endInstallTypes="endInstallTypes",s.typesInstallerInitializationFailed="typesInstallerInitializationFailed",s.surveyReady="surveyReady",s.projectLoadingStart="projectLoadingStart",s.projectLoadingFinish="projectLoadingFinish"},9655:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7549),i=n(5162),o=n(9638),s=n(6929),a=n(7544),c=n(3219),l=n(4009),u=n(3683),d=n(7478),f=n(231);class p{constructor(e){this.args=e,this.type=0}}class g{constructor(e){this.args=e,this.type=1}}class h{constructor(e){this.args=e,this.type=2}}class m{constructor(e,t,n){this.client=e,this._pending=new d.ResourceMap(t,{onCaseInsensitiveFileSystem:n})}open(e,t){this.supportsBatching?this.updatePending(e,new g(t)):this.client.executeWithoutWaitingForResponse("open",t)}close(e,t){if(this.supportsBatching)return this.updatePending(e,new p(t));{const e={file:t};return this.client.executeWithoutWaitingForResponse("close",e),!0}}change(e,t,n){if(n.length)if(this.supportsBatching)this.updatePending(e,new h({fileName:t,textChanges:n.map((e=>({newText:e.text,start:f.Position.toLocation(e.range.start),end:f.Position.toLocation(e.range.end)}))).reverse()}));else for(const{range:e,text:r}of n){const n={insertString:r,...f.Range.toFormattingRequestArgs(t,e)};this.client.executeWithoutWaitingForResponse("change",n)}}reset(){this._pending.clear()}beforeCommand(e){"updateOpen"!==e&&this.flush()}flush(){if(this.supportsBatching){if(this._pending.size>0){const e=[],t=[],n=[];for(const r of this._pending.values)switch(r.type){case 2:n.push(r.args);break;case 1:t.push(r.args);break;case 0:e.push(r.args)}this.client.execute("updateOpen",{changedFiles:n,closedFiles:e,openFiles:t},c.nulToken,{nonRecoverable:!0}),this._pending.clear()}}else this._pending.clear()}get supportsBatching(){return this.client.apiVersion.gte(o.default.v340)}updatePending(e,t){switch(t.type){case 0:switch(this._pending.get(e)?.type){case 1:return this._pending.delete(e),!1}}return this._pending.has(e)&&this.flush(),this._pending.set(e,t),!0}}class v{constructor(e,t,n,r){this.document=e,this.filepath=t,this.client=n,this.synchronizer=r,this.state=1}open(){const e={file:this.filepath,fileContent:this.document.getText(),projectRootPath:this.client.getWorkspaceRootForResource(this.document.uri)},t=function(e){switch(e){case u.typescript:return"TS";case u.typescriptreact:return"TSX";case u.javascript:return"JS";case u.javascriptreact:return"JSX"}}(this.document.languageId);if(t&&(e.scriptKindName=t),this.client.apiVersion.gte(o.default.v240)){const t=this.client.pluginManager.plugins.filter((e=>e.languages.indexOf(this.document.languageId)>=0));t.length&&(e.plugins=t.map((e=>e.name)))}this.synchronizer.open(this.resource,e),this.state=2}get resource(){return this.document.uri}get lineCount(){return this.document.lineCount}get kind(){switch(this.document.languageId){case u.javascript:case u.javascriptreact:return 2;case u.typescript:case u.typescriptreact:default:return 1}}close(){return 2!==this.state?(this.state=2,!1):(this.state=2,this.synchronizer.close(this.resource,this.filepath))}onContentChanged(e){2!==this.state&&console.error(`Unexpected buffer state: ${this.state}`),this.synchronizer.change(this.resource,this.filepath,e)}}class y extends d.ResourceMap{getForPath(e){return this.get(r.Uri.file(e))}get allBuffers(){return this.values}}class S extends d.ResourceMap{getOrderedFileSet(){const e=Array.from(this.entries).sort(((e,t)=>e.value-t.value)).map((e=>e.resource)),t=new d.ResourceMap(this._normalizePath,this.config);for(const n of e)t.set(n,void 0);return t}}class C{constructor(e,t,n){if(this.client=e,this.files=t,this._done=!1,this._token=new r.CancellationTokenSource,!this.isErrorReportingEnabled())return this._done=!0,void(0,a.setImmediate)(n);const c=this.client.apiVersion.gte(o.default.v440),l=(0,s.coalesce)(Array.from(t.entries).filter((t=>c||e.hasCapabilityForResource(t.resource,i.ClientCapability.Semantic))).map((t=>e.normalizedPath(t.resource))));l.length?(this.areProjectDiagnosticsEnabled()?e.executeAsync("geterrForProject",{delay:0,file:l[0]},this._token.token):e.executeAsync("geterr",{delay:0,files:l},this._token.token)).finally((()=>{this._done||(this._done=!0,n())})):(this._done=!0,(0,a.setImmediate)(n))}static executeGetErrRequest(e,t,n){return new C(e,t,n)}isErrorReportingEnabled(){return!!this.client.apiVersion.gte(o.default.v440)||this.client.capabilities.has(i.ClientCapability.Semantic)}areProjectDiagnosticsEnabled(){return this.client.configuration.enableProjectDiagnostics&&this.client.capabilities.has(i.ClientCapability.Semantic)}cancel(){this._done||this._token.cancel(),this._token.dispose()}}class b extends l.Disposable{constructor(e,t,n){super(),this._validateJavaScript=!0,this._validateTypeScript=!0,this.listening=!1,this._onDelete=this._register(new r.EventEmitter),this.onDelete=this._onDelete.event,this._onWillChange=this._register(new r.EventEmitter),this.onWillChange=this._onWillChange.event,this.client=e,this.modeIds=new Set(t),this.diagnosticDelayer=new a.Delayer(300);const i=e=>this.client.normalizedPath(e);this.syncedBuffers=new y(i,{onCaseInsensitiveFileSystem:n}),this.pendingDiagnostics=new S(i,{onCaseInsensitiveFileSystem:n}),this.synchronizer=new m(e,i,n),this.updateConfiguration(),r.workspace.onDidChangeConfiguration(this.updateConfiguration,this,this._disposables)}listen(){this.listening||(this.listening=!0,r.workspace.onDidOpenTextDocument(this.openTextDocument,this,this._disposables),r.workspace.onDidCloseTextDocument(this.onDidCloseTextDocument,this,this._disposables),r.workspace.onDidChangeTextDocument(this.onDidChangeTextDocument,this,this._disposables),r.window.onDidChangeVisibleTextEditors((e=>{for(const{document:t}of e){const e=this.syncedBuffers.get(t.uri);e&&this.requestDiagnostic(e)}}),this,this._disposables),r.workspace.textDocuments.forEach(this.openTextDocument,this))}handles(e){return this.syncedBuffers.has(e)}ensureHasBuffer(e){if(this.syncedBuffers.has(e))return!0;const t=r.workspace.textDocuments.find((t=>t.uri.toString()===e.toString()));return!!t&&this.openTextDocument(t)}toVsCodeResource(e){const t=this.client.normalizedPath(e);for(const e of this.syncedBuffers.allBuffers)if(e.filepath===t)return e.resource;return e}toResource(e){const t=this.syncedBuffers.getForPath(e);return t?t.resource:r.Uri.file(e)}reset(){this.pendingGetErr?.cancel(),this.pendingDiagnostics.clear(),this.synchronizer.reset()}reinitialize(){this.reset();for(const e of this.syncedBuffers.allBuffers)e.open()}openTextDocument(e){if(!this.modeIds.has(e.languageId))return!1;const t=e.uri,n=this.client.normalizedPath(t);if(!n)return!1;if(this.syncedBuffers.has(t))return!0;const r=new v(e,n,this.client,this.synchronizer);return this.syncedBuffers.set(t,r),r.open(),this.requestDiagnostic(r),!0}closeResource(e){const t=this.syncedBuffers.get(e);if(!t)return;this.pendingDiagnostics.delete(e),this.pendingGetErr?.files.delete(e),this.syncedBuffers.delete(e);const n=t.close();this._onDelete.fire(e),n&&this.requestAllDiagnostics()}interruptGetErr(e){if(!this.pendingGetErr||this.client.configuration.enableProjectDiagnostics)return e();this.pendingGetErr.cancel(),this.pendingGetErr=void 0;const t=e();return this.triggerDiagnostics(),t}beforeCommand(e){this.synchronizer.beforeCommand(e)}onDidCloseTextDocument(e){this.closeResource(e.uri)}onDidChangeTextDocument(e){const t=this.syncedBuffers.get(e.document.uri);t&&(this._onWillChange.fire(t.resource),t.onContentChanged(e.contentChanges),!this.requestDiagnostic(t)&&this.pendingGetErr&&(this.pendingGetErr.cancel(),this.pendingGetErr=void 0,this.triggerDiagnostics()))}requestAllDiagnostics(){for(const e of this.syncedBuffers.allBuffers)this.shouldValidate(e)&&this.pendingDiagnostics.set(e.resource,Date.now());this.triggerDiagnostics()}getErr(e){const t=e.filter((e=>this.handles(e)));if(t.length){for(const e of t)this.pendingDiagnostics.set(e,Date.now());this.triggerDiagnostics()}}triggerDiagnostics(e=200){this.diagnosticDelayer.trigger((()=>{this.sendPendingDiagnostics()}),e)}requestDiagnostic(e){if(!this.shouldValidate(e))return!1;this.pendingDiagnostics.set(e.resource,Date.now());const t=Math.min(Math.max(Math.ceil(e.lineCount/20),300),800);return this.triggerDiagnostics(t),!0}hasPendingDiagnostics(e){return this.pendingDiagnostics.has(e)}sendPendingDiagnostics(){const e=this.pendingDiagnostics.getOrderedFileSet();if(this.pendingGetErr){this.pendingGetErr.cancel();for(const{resource:t}of this.pendingGetErr.files.entries)this.syncedBuffers.get(t)&&e.set(t,void 0);this.pendingGetErr=void 0}for(const t of this.syncedBuffers.values)e.set(t.resource,void 0);if(e.size){const t=this.pendingGetErr=C.executeGetErrRequest(this.client,e,(()=>{this.pendingGetErr===t&&(this.pendingGetErr=void 0)}))}this.pendingDiagnostics.clear()}updateConfiguration(){const e=r.workspace.getConfiguration("javascript",null),t=r.workspace.getConfiguration("typescript",null);this._validateJavaScript=e.get("validate.enable",!0),this._validateTypeScript=t.get("validate.enable",!0)}shouldValidate(e){switch(e.kind){case 2:return this._validateJavaScript;case 1:default:return this._validateTypeScript}}}t.default=b},5824:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CachedResponse=void 0,t.CachedResponse=class{constructor(){this.version=-1,this.document=""}execute(e,t){return this.response&&this.matches(e)?this.response=this.response.then((e=>"cancelled"===e.type?t():e)):this.reset(e,t)}matches(e){return this.version===e.version&&this.document===e.uri.toString()}async reset(e,t){return this.version=e.version,this.document=e.uri.toString(),this.response=t()}}},4379:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallbackMap=void 0;const r=n(5162);t.CallbackMap=class{constructor(){this._callbacks=new Map,this._asyncCallbacks=new Map}destroy(e){const t=new r.ServerResponse.Cancelled(e);for(const e of this._callbacks.values())e.onSuccess(t);this._callbacks.clear();for(const e of this._asyncCallbacks.values())e.onSuccess(t);this._asyncCallbacks.clear()}add(e,t,n){n?this._asyncCallbacks.set(e,t):this._callbacks.set(e,t)}fetch(e){const t=this._callbacks.get(e)||this._asyncCallbacks.get(e);return this.delete(e),t}delete(e){this._callbacks.delete(e)||this._asyncCallbacks.delete(e)}}},5299:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noopRequestCancellerFactory=void 0;const n=new class{constructor(){this.cancellationPipeName=void 0}tryCancelOngoingRequest(e){return!1}};t.noopRequestCancellerFactory=new class{create(e,t){return n}}},1660:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noopLogDirectoryProvider=void 0,t.noopLogDirectoryProvider=new class{getNewLogDirectory(){}}},4804:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.RequestQueue=t.RequestQueueingType=void 0,function(e){e[e.Normal=1]="Normal",e[e.LowPriority=2]="LowPriority",e[e.Fence=3]="Fence"}(n=t.RequestQueueingType||(t.RequestQueueingType={})),t.RequestQueue=class{constructor(){this.queue=[],this.sequenceNumber=0}get length(){return this.queue.length}enqueue(e){if(e.queueingType===n.Normal){let t=this.queue.length-1;for(;t>=0&&this.queue[t].queueingType===n.LowPriority;)--t;this.queue.splice(t+1,0,e)}else this.queue.push(e)}dequeue(){return this.queue.shift()}tryDeletePendingRequest(e){for(let t=0;t<this.queue.length;t++)if(this.queue[t].request.seq===e)return this.queue.splice(t,1),!0;return!1}createRequest(e,t){return{seq:this.sequenceNumber++,type:"request",command:e,arguments:t}}}},7347:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SyntaxRoutingTsServer=t.GetErrRoutingTsServer=t.ProcessBasedTsServer=t.ExecutionTarget=void 0;const r=n(7549),i=n(4156),o=n(4379),s=n(4804),a=n(6040),c=n(5162),l=n(4009);var u,d;!function(e){e[e.Semantic=0]="Semantic",e[e.Syntax=1]="Syntax"}(u=t.ExecutionTarget||(t.ExecutionTarget={}));class f extends l.Disposable{constructor(e,t,n,i,a,c,l,u){super(),this._serverId=e,this._serverSource=t,this._process=n,this._tsServerLogFile=i,this._requestCanceller=a,this._version=c,this._telemetryReporter=l,this._tracer=u,this._requestQueue=new s.RequestQueue,this._callbacks=new o.CallbackMap,this._pendingResponses=new Set,this._onEvent=this._register(new r.EventEmitter),this.onEvent=this._onEvent.event,this._onExit=this._register(new r.EventEmitter),this.onExit=this._onExit.event,this._onError=this._register(new r.EventEmitter),this.onError=this._onError.event,this._process.onData((e=>{this.dispatchMessage(e)})),this._process.onExit(((e,t)=>{this._onExit.fire({code:e,signal:t}),this._callbacks.destroy("server exited")})),this._process.onError((e=>{this._onError.fire(e),this._callbacks.destroy("server errored")}))}get tsServerLogFile(){return this._tsServerLogFile}write(e){this._process.write(e)}dispose(){super.dispose(),this._callbacks.destroy("server disposed"),this._pendingResponses.clear()}kill(){this._process.kill()}dispatchMessage(e){try{switch(e.type){case"response":this._serverSource?this.dispatchResponse({...e,_serverType:this._serverSource}):this.dispatchResponse(e);break;case"event":{const t=e;if("requestCompleted"===t.event){const e=t.body.request_seq,n=this._callbacks.fetch(e);n&&(this._tracer.traceRequestCompleted(this._serverId,"requestCompleted",e,n),n.onSuccess(void 0))}else this._tracer.traceEvent(this._serverId,t),this._onEvent.fire(t);break}default:throw new Error(`Unknown message type ${e.type} received`)}}finally{this.sendNextRequests()}}tryCancelRequest(e,t){try{return this._requestQueue.tryDeletePendingRequest(e)?(this.logTrace(`Canceled request with sequence number ${e}`),!0):!!this._requestCanceller.tryCancelOngoingRequest(e)||(this.logTrace(`Tried to cancel request with sequence number ${e}. But request got already delivered.`),!1)}finally{this.fetchCallback(e)?.onSuccess(new c.ServerResponse.Cancelled(`Cancelled request ${e} - ${t}`))}}dispatchResponse(e){const t=this.fetchCallback(e.request_seq);t&&(this._tracer.traceResponse(this._serverId,e,t),e.success?t.onSuccess(e):"No content available."===e.message?t.onSuccess(c.ServerResponse.NoContent):t.onError(a.TypeScriptServerError.create(this._serverId,this._version,e)))}executeImpl(e,t,n){const r=this._requestQueue.createRequest(e,t),i={request:r,expectsResponse:n.expectsResult,isAsync:n.isAsync,queueingType:f.getQueueingType(e,n.lowPriority)};let o;return n.expectsResult&&(o=new Promise(((t,i)=>{this._callbacks.add(r.seq,{onSuccess:t,onError:i,queuingStartTime:Date.now(),isAsync:n.isAsync},n.isAsync),n.token&&n.token.onCancellationRequested((()=>{this.tryCancelRequest(r.seq,e)}))})).catch((e=>{throw e instanceof a.TypeScriptServerError&&(n.token&&n.token.isCancellationRequested||this._telemetryReporter.logTelemetry("languageServiceErrorResponse",e.telemetry)),e}))),this._requestQueue.enqueue(i),this.sendNextRequests(),[o]}sendNextRequests(){for(;0===this._pendingResponses.size&&this._requestQueue.length>0;){const e=this._requestQueue.dequeue();e&&this.sendRequest(e)}}sendRequest(e){const t=e.request;this._tracer.traceRequest(this._serverId,t,e.expectsResponse,this._requestQueue.length),e.expectsResponse&&!e.isAsync&&this._pendingResponses.add(e.request.seq);try{this.write(t)}catch(e){this.fetchCallback(t.seq)?.onError(e)}}fetchCallback(e){const t=this._callbacks.fetch(e);if(t)return this._pendingResponses.delete(e),t}logTrace(e){this._tracer.logTrace(this._serverId,e)}static getQueueingType(e,t){return f.fenceCommands.has(e)?s.RequestQueueingType.Fence:t?s.RequestQueueingType.LowPriority:s.RequestQueueingType.Normal}}t.ProcessBasedTsServer=f,f.fenceCommands=new Set(["change","close","open","updateOpen"]);class p{constructor(e,t){this.servers=e,this.delegate=t}execute(e,t,n){if(p.sharedCommands.has(e)&&void 0===n.executionTarget){const i=this.servers.map((()=>d.Unresolved));let o;if(n.token){const e=new r.CancellationTokenSource;n.token.onCancellationRequested((()=>{i.some((e=>e===d.Resolved))||e.cancel()})),o=e.token}const s=[];for(let r=0;r<this.servers.length;++r){const a=this.servers[r].server.executeImpl(e,t,{...n,token:o})[0];s.push(a),a&&a.then((t=>{i[r]=d.Resolved;const n=i.find((e=>2===e.type));return n&&this.delegate.onFatalError(e,n.err),t}),(t=>{throw i[r]=new d.Errored(t),i.some((e=>e===d.Resolved))&&this.delegate.onFatalError(e,t),t}))}return s}for(const{canRun:r,server:i}of this.servers)if(!r||r(e,n))return i.executeImpl(e,t,n);throw new Error(`Could not find server for command: '${e}'`)}}p.sharedCommands=new Set(["change","close","open","updateOpen","configure"]);class g extends l.Disposable{constructor(e,t){super(),this._onEvent=this._register(new r.EventEmitter),this.onEvent=this._onEvent.event,this._onExit=this._register(new r.EventEmitter),this.onExit=this._onExit.event,this._onError=this._register(new r.EventEmitter),this.onError=this._onError.event,this.getErrServer=e.getErr,this.mainServer=e.primary,this.router=new p([{server:this.getErrServer,canRun:e=>["geterr","geterrForProject"].includes(e)},{server:this.mainServer,canRun:void 0}],t),this._register(this.getErrServer.onEvent((e=>{g.diagnosticEvents.has(e.event)&&this._onEvent.fire(e)}))),this._register(this.mainServer.onEvent((e=>{g.diagnosticEvents.has(e.event)||this._onEvent.fire(e)}))),this._register(this.getErrServer.onError((e=>this._onError.fire(e)))),this._register(this.mainServer.onError((e=>this._onError.fire(e)))),this._register(this.mainServer.onExit((e=>{this._onExit.fire(e),this.getErrServer.kill()})))}get tsServerLogFile(){return this.mainServer.tsServerLogFile}kill(){this.getErrServer.kill(),this.mainServer.kill()}executeImpl(e,t,n){return this.router.execute(e,t,n)}}t.GetErrRoutingTsServer=g,g.diagnosticEvents=new Set([i.EventName.configFileDiag,i.EventName.syntaxDiag,i.EventName.semanticDiag,i.EventName.suggestionDiag]);class h extends l.Disposable{constructor(e,t,n){super(),this._projectLoading=!0,this._onEvent=this._register(new r.EventEmitter),this.onEvent=this._onEvent.event,this._onExit=this._register(new r.EventEmitter),this.onExit=this._onExit.event,this._onError=this._register(new r.EventEmitter),this.onError=this._onError.event,this.syntaxServer=e.syntax,this.semanticServer=e.semantic,this.router=new p([{server:this.syntaxServer,canRun:(e,t)=>{switch(t.executionTarget){case u.Semantic:return!1;case u.Syntax:return!0}return!!h.syntaxAlwaysCommands.has(e)||!h.semanticCommands.has(e)&&!!(n&&this.projectLoading&&h.syntaxAllowedCommands.has(e))}},{server:this.semanticServer,canRun:void 0}],t),this._register(this.syntaxServer.onEvent((e=>this._onEvent.fire(e)))),this._register(this.semanticServer.onEvent((e=>{switch(e.event){case i.EventName.projectLoadingStart:this._projectLoading=!0;break;case i.EventName.projectLoadingFinish:case i.EventName.semanticDiag:case i.EventName.syntaxDiag:case i.EventName.suggestionDiag:case i.EventName.configFileDiag:this._projectLoading=!1}return this._onEvent.fire(e)}))),this._register(this.semanticServer.onExit((e=>{this._onExit.fire(e),this.syntaxServer.kill()}))),this._register(this.semanticServer.onError((e=>this._onError.fire(e))))}get projectLoading(){return this._projectLoading}get tsServerLogFile(){return this.semanticServer.tsServerLogFile}kill(){this.syntaxServer.kill(),this.semanticServer.kill()}executeImpl(e,t,n){return this.router.execute(e,t,n)}}t.SyntaxRoutingTsServer=h,h.syntaxAlwaysCommands=new Set(["navtree","getOutliningSpans","jsxClosingTag","selectionRange","format","formatonkey","docCommentTemplate"]),h.semanticCommands=new Set(["geterr","geterrForProject","projectInfo","configurePlugin"]),h.syntaxAllowedCommands=new Set(["completions","completionEntryDetails","completionInfo","definition","definitionAndBoundSpan","documentHighlights","implementation","navto","quickinfo","references","rename","signatureHelp"]),function(e){e.Unresolved={type:0},e.Resolved={type:1},e.Errored=class{constructor(e){this.err=e,this.type=2}}}(d||(d={}))},6040:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeScriptServerError=void 0;class n extends Error{constructor(e,t,n,r,i,o){super(`<${e}> TypeScript Server Error (${t.displayName})\n${r}\n${i}`),this.serverId=e,this.version=t,this.response=n,this.serverMessage=r,this.serverStack=i,this.sanitizedStack=o}static create(e,t,r){const i=n.parseErrorText(r);return new n(e,t,r,i?.message,i?.stack,i?.sanitizedStack)}get serverErrorText(){return this.response.message}get serverCommand(){return this.response.command}get telemetry(){return{command:this.serverCommand,serverid:this.serverId,sanitizedstack:this.sanitizedStack||"",badclient:/\bBADCLIENT\b/.test(this.stack||"")}}static parseErrorText(e){const t=e.message;if(t){const e="Error processing request. ";if(t.startsWith(e)){const r=t.substr(e.length),i=r.indexOf("\n");if(i>=0){const e=r.substring(i+1);return{message:r.substring(0,i),stack:e,sanitizedStack:n.sanitizeStack(e)}}}}}static sanitizeStack(e){if(!e)return"";const t=/(\btsserver)?(\.(?:ts|tsx|js|jsx)(?::\d+(?::\d+)?)?)\)?$/gim;let n="";for(;;){const r=t.exec(e);if(!r)break;n+=`${r[1]||"suppressed"}${r[2]}\n`}return n}}t.TypeScriptServerError=n},2059:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.WorkerServerProcess=void 0;const i=n(7549),o=n(189),s=n(6620),a=o.loadMessageBundle();class c{constructor(e,t){this.worker=e,this._onDataHandlers=new Set,this._onErrorHandlers=new Set,this._onExitHandlers=new Set,e.addEventListener("message",(e=>{if("log"!==e.data.type)for(const t of this._onDataHandlers)t(e.data);else this.output.append(e.data.body)})),e.onerror=e=>{for(const t of this._onErrorHandlers)t(e)},e.postMessage(t)}static fork(e,t,n,r){const i=e.tsServerPath,o=new Worker(i);return new c(o,[...t,"--executingFilePath",i])}get output(){return i.window.createOutputChannel(a("channelName","TypeScript Server Log"))}write(e){this.worker.postMessage(e)}onData(e){this._onDataHandlers.add(e)}onError(e){this._onErrorHandlers.add(e)}onExit(e){this._onExitHandlers.add(e)}kill(){this.worker.terminate()}}r([s.memoize],c.prototype,"output",null),t.WorkerServerProcess=c},5373:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeScriptServerSpawner=void 0;const r=n(1023),i=n(7549),o=n(5162),s=n(9638),a=n(9550),c=n(1339),l=n(7347);class u{constructor(e,t,n,r,i,o,s,a){this._versionProvider=e,this._versionManager=t,this._logDirectoryProvider=n,this._pluginPathsProvider=r,this._logger=i,this._telemetryReporter=o,this._tracer=s,this._factory=a}spawn(e,t,n,r,i,o){let s;const a=this.getCompositeServerType(e,t,n),c=this.shouldUseSeparateDiagnosticsServer(n);switch(a){case 1:case 2:{const t=!c&&2===a;s=new l.SyntaxRoutingTsServer({syntax:this.spawnTsServer("syntax",e,n,r,i),semantic:this.spawnTsServer("semantic",e,n,r,i)},o,t);break}case 0:s=this.spawnTsServer("main",e,n,r,i);break;case 3:s=this.spawnTsServer("syntax",e,n,r,i)}return c?new l.GetErrRoutingTsServer({getErr:this.spawnTsServer("diagnostics",e,n,r,i),primary:s},o):s}getCompositeServerType(e,t,n){if(!t.has(o.ClientCapability.Semantic))return 3;switch(n.useSyntaxServer){case 1:return 3;case 0:return 0;case 2:return e.apiVersion?.gte(s.default.v340)?e.apiVersion?.gte(s.default.v400)?2:1:0}}shouldUseSeparateDiagnosticsServer(e){return e.enableProjectDiagnostics}spawnTsServer(e,t,n,r,i){const o=t.apiVersion||s.default.defaultVersion,a=i.create(e,this._tracer),{args:c,tsServerLogFile:d,tsServerTraceDirectory:f}=this.getTsServerArgs(e,n,t,o,r,a.cancellationPipeName);u.isLoggingEnabled(n)&&(d?this._logger.info(`<${e}> Log file: ${d}`):this._logger.error(`<${e}> Could not create log directory`)),n.enableTsServerTracing&&(f?this._logger.info(`<${e}> Trace directory: ${f}`):this._logger.error(`<${e}> Could not create trace directory`)),this._logger.info(`<${e}> Forking...`);const p=this._factory.fork(t,c,e,n,this._versionManager);return this._logger.info(`<${e}> Starting...`),new l.ProcessBasedTsServer(e,this.kindToServerType(e),p,d,a,t,this._telemetryReporter,this._tracer)}kindToServerType(e){switch(e){case"syntax":return o.ServerType.Syntax;case"main":case"semantic":case"diagnostics":default:return o.ServerType.Semantic}}getTsServerArgs(e,t,n,i,o,l){const d=[];let f,p;if("syntax"===e&&(i.gte(s.default.v401)?d.push("--serverMode","partialSemantic"):d.push("--syntaxOnly")),i.gte(s.default.v250)?d.push("--useInferredProjectPerProjectRoot"):d.push("--useSingleInferredProject"),(t.disableAutomaticTypeAcquisition||"syntax"===e||"diagnostics"===e)&&d.push("--disableAutomaticTypingAcquisition"),"semantic"!==e&&"main"!==e||d.push("--enableTelemetry"),l&&d.push("--cancellationPipeName",l+"*"),u.isLoggingEnabled(t))if((0,c.isWeb)())d.push("--logVerbosity",a.TsServerLogLevel.toString(t.tsServerLogLevel));else{const e=this._logDirectoryProvider.getNewLogDirectory();e&&(f=r.join(e,"tsserver.log"),d.push("--logVerbosity",a.TsServerLogLevel.toString(t.tsServerLogLevel)),d.push("--logFile",f))}t.enableTsServerTracing&&!(0,c.isWeb)()&&(p=this._logDirectoryProvider.getNewLogDirectory(),p&&d.push("--traceDirectory",p));const g=(0,c.isWeb)()?[]:this._pluginPathsProvider.getPluginPaths();if(o.plugins.length){d.push("--globalPlugins",o.plugins.map((e=>e.name)).join(","));const e=n.path===this._versionProvider.defaultVersion.path;for(const t of o.plugins)(e||t.enableForWorkspaceTypeScriptVersions)&&g.push((0,c.isWeb)()?t.uri.toString():t.uri.fsPath)}return 0!==g.length&&d.push("--pluginProbeLocations",g.join(",")),t.npmLocation&&!(0,c.isWeb)()&&d.push("--npmLocation",`"${t.npmLocation}"`),d.push("--locale",u.getTsLocale(t)),d.push("--noGetErrOnBackgroundUpdate"),d.push("--validateDefaultNpmLocation"),{args:d,tsServerLogFile:f,tsServerTraceDirectory:p}}static isLoggingEnabled(e){return e.tsServerLogLevel!==a.TsServerLogLevel.Off}static getTsLocale(e){return e.locale?e.locale:i.env.language}}t.TypeScriptServerSpawner=u},7174:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeScriptVersionManager=void 0;const r=n(7549),i=n(189),o=n(7544),s=n(4009),a=i.loadMessageBundle(),c="typescript.useWorkspaceTsdk",l="typescript.suppressPromptWorkspaceTsdk";class u extends s.Disposable{constructor(e,t,n){if(super(),this.configuration=e,this.versionProvider=t,this.workspaceState=n,this._onDidPickNewVersion=this._register(new r.EventEmitter),this.onDidPickNewVersion=this._onDidPickNewVersion.event,this._currentVersion=this.versionProvider.defaultVersion,this.useWorkspaceTsdkSetting)if(r.workspace.isTrusted){const e=this.versionProvider.localVersion;e&&(this._currentVersion=e)}else this._disposables.push(r.workspace.onDidGrantWorkspaceTrust((()=>{this.versionProvider.localVersion&&this.updateActiveVersion(this.versionProvider.localVersion)})));this.isInPromptWorkspaceTsdkState(e)&&(0,o.setImmediate)((()=>{this.promptUseWorkspaceTsdk()}))}updateConfiguration(e){const t=this.configuration;this.configuration=e,!this.isInPromptWorkspaceTsdkState(t)&&this.isInPromptWorkspaceTsdkState(e)&&this.promptUseWorkspaceTsdk()}get currentVersion(){return this._currentVersion}reset(){this._currentVersion=this.versionProvider.bundledVersion}async promptUserForVersion(){return(await r.window.showQuickPick([this.getBundledPickItem(),...this.getLocalPickItems(),{kind:r.QuickPickItemKind.Separator,label:"",run:()=>{}},d],{placeHolder:a("selectTsVersion","Select the TypeScript version used for JavaScript and TypeScript language features")}))?.run()}getBundledPickItem(){const e=this.versionProvider.defaultVersion;return{label:(this.useWorkspaceTsdkSetting&&r.workspace.isTrusted?"":"• ")+a("useVSCodeVersionOption","Use VS Code's Version"),description:e.displayName,detail:e.pathLabel,run:async()=>{await this.workspaceState.update(c,!1),this.updateActiveVersion(e)}}}getLocalPickItems(){return this.versionProvider.localVersions.map((e=>({label:(this.useWorkspaceTsdkSetting&&r.workspace.isTrusted&&this.currentVersion.eq(e)?"• ":"")+a("useWorkspaceVersionOption","Use Workspace Version"),description:e.displayName,detail:e.pathLabel,run:async()=>{if(await r.workspace.requestWorkspaceTrust()){await this.workspaceState.update(c,!0);const t=r.workspace.getConfiguration("typescript");await t.update("tsdk",e.pathLabel,!1),this.updateActiveVersion(e)}}})))}async promptUseWorkspaceTsdk(){const e=this.versionProvider.localVersion;if(void 0===e)throw new Error("Could not prompt to use workspace TypeScript version because no workspace version is specified");const t=a("allow","Allow"),n=a("dismiss","Dismiss"),i=a("suppress prompt","Never in this Workspace"),o=await r.window.showInformationMessage(a("promptUseWorkspaceTsdk","This workspace contains a TypeScript version. Would you like to use the workspace TypeScript version for TypeScript and JavaScript language features?"),t,n,i);o===t?(await this.workspaceState.update(c,!0),this.updateActiveVersion(e)):o===i&&await this.workspaceState.update(l,!0)}updateActiveVersion(e){const t=this.currentVersion;this._currentVersion=e,t.eq(e)||this._onDidPickNewVersion.fire()}get useWorkspaceTsdkSetting(){return this.workspaceState.get(c,!1)}get suppressPromptWorkspaceTsdkSetting(){return this.workspaceState.get(l,!1)}isInPromptWorkspaceTsdkState(e){return null!==e.localTsdk&&!0===e.enablePromptUseWorkspaceTsdk&&!1===this.suppressPromptWorkspaceTsdkSetting&&!1===this.useWorkspaceTsdkSetting}}t.TypeScriptVersionManager=u;const d={label:a("learnMore","Learn more about managing TypeScript versions"),description:"",run:()=>{r.env.openExternal(r.Uri.parse("https://go.microsoft.com/fwlink/?linkid=839919"))}}},371:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeScriptVersion=t.localize=void 0;const r=n(189);t.localize=r.loadMessageBundle(),t.TypeScriptVersion=class{constructor(e,t,n,r){this.source=e,this.path=t,this.apiVersion=n,this._pathLabel=r}get tsServerPath(){return this.path}get pathLabel(){return this._pathLabel??this.path}get isValid(){return void 0!==this.apiVersion}eq(e){return this.path===e.path&&(this.apiVersion===e.apiVersion||!(!this.apiVersion||!e.apiVersion)&&this.apiVersion.eq(e.apiVersion))}get displayName(){const e=this.apiVersion;return e?e.displayName:(0,t.localize)("couldNotLoadTsVersion","Could not load the TypeScript version at this path")}}},5662:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7549),i=n(7296),o=n(1658),s=n(4156),a=n(7169),c=n(8892),l=n(8390),u=n(6929),d=n(4009),f=n(1395),p=n(309),g=n(6590),h=n(231),m=n(9292),v=new Set([...f.variableDeclaredButNeverUsed,...f.propertyDeclaretedButNeverUsed,...f.allImportsAreUnused,...f.unreachableCode,...f.unusedLabel,...f.fallThroughCaseInSwitch,...f.notAllCodePathsReturnAValue]);class y extends d.Disposable{constructor(e,t,s,u,d){super(),this.languages=[],this.languagePerId=new Map,this.reportStyleCheckAsWarnings=!0,this.commandManager=u.commandManager;const f=this.getAllModeIds(e,u.pluginManager);this.client=this._register(new a.default(t,s,u,f)),this.client.onDiagnosticsReceived((({kind:e,resource:t,diagnostics:n})=>{this.diagnosticsReceived(e,t,n)}),null,this._disposables),this.client.onConfigDiagnosticsReceived((e=>this.configFileDiagnosticsReceived(e)),null,this._disposables),this.client.onResendModelsRequested((()=>this.populateService()),null,this._disposables),this._register(new l.VersionStatus(this.client)),this._register(new c.IntellisenseStatus(this.client,u.commandManager,u.activeJsTsEditorTracker)),this._register(new m.AtaProgressReporter(this.client)),this.typingsStatus=this._register(new m.default(this.client)),this._register(p.create(this.client)),this.fileConfigurationManager=this._register(new i.default(this.client,s));for(const t of e){const e=new o.default(this.client,t,this.commandManager,this.client.telemetryReporter,this.typingsStatus,this.fileConfigurationManager,d);this.languages.push(e),this._register(e),this.languagePerId.set(t.id,e)}Promise.resolve().then((()=>n(1347))).then((e=>this._register(e.register(this.client,this.fileConfigurationManager,(e=>this.handles(e)))))),Promise.resolve().then((()=>n(8504))).then((e=>this._register(e.register(this.client,f)))),this.client.ensureServiceStarted(),this.client.onReady((()=>{const e=new Set;for(const t of u.pluginManager.plugins)if(t.configNamespace&&t.languages.length)this.registerExtensionLanguageProvider({id:t.configNamespace,languageIds:Array.from(t.languages),diagnosticSource:"ts-plugin",diagnosticLanguage:1,diagnosticOwner:"typescript",isExternal:!0,standardFileExtensions:[]},d);else for(const n of t.languages)e.add(n);e.size&&this.registerExtensionLanguageProvider({id:"typescript-plugins",languageIds:Array.from(e.values()),diagnosticSource:"ts-plugin",diagnosticLanguage:1,diagnosticOwner:"typescript",isExternal:!0,standardFileExtensions:[]},d)})),this.client.onTsServerStarted((()=>{this.triggerAllDiagnostics()})),r.workspace.onDidChangeConfiguration(this.configurationChanged,this,this._disposables),this.configurationChanged(),this._register(new g.LogLevelMonitor(t))}registerExtensionLanguageProvider(e,t){const n=new o.default(this.client,e,this.commandManager,this.client.telemetryReporter,this.typingsStatus,this.fileConfigurationManager,t);this.languages.push(n),this._register(n),this.languagePerId.set(e.id,n)}getAllModeIds(e,t){return[...e.map((e=>e.languageIds)),...t.plugins.map((e=>e.languages))].flat()}get serviceClient(){return this.client}reloadProjects(){this.client.executeWithoutWaitingForResponse("reloadProjects",null),this.triggerAllDiagnostics()}async handles(e){return!!await this.findLanguage(e)||this.client.bufferSyncSupport.handles(e)}configurationChanged(){const e=r.workspace.getConfiguration("typescript");this.reportStyleCheckAsWarnings=e.get("reportStyleChecksAsWarnings",!0)}async findLanguage(e){try{for(const t of this.languages)if(t.handlesUri(e))return t;const t=await r.workspace.openTextDocument(e);return this.languages.find((e=>e.handlesDocument(t)))}catch{return}}triggerAllDiagnostics(){for(const e of this.languagePerId.values())e.triggerAllDiagnostics()}populateService(){this.fileConfigurationManager.reset();for(const e of this.languagePerId.values())e.reInitialize()}async diagnosticsReceived(e,t,n){const r=await this.findLanguage(t);r&&r.diagnosticsReceived(e,t,this.createMarkerDatas(n,r.diagnosticSource))}configFileDiagnosticsReceived(e){const t=e.body;t&&t.diagnostics&&t.configFile&&this.findLanguage(this.client.toResource(t.configFile)).then((e=>{e&&e.configFileDiagnosticsReceived(this.client.toResource(t.configFile),t.diagnostics.map((n=>{const i=n.start&&n.end?h.Range.fromTextSpan(n):new r.Range(0,0,0,1),o=new r.Diagnostic(i,t.diagnostics[0].text,this.getDiagnosticSeverity(n));return o.source=e.diagnosticSource,o})))}))}createMarkerDatas(e,t){return e.map((e=>this.tsDiagnosticToVsDiagnostic(e,t)))}tsDiagnosticToVsDiagnostic(e,t){const{start:n,end:i,text:o}=e,s=new r.Range(h.Position.fromLocation(n),h.Position.fromLocation(i)),a=new r.Diagnostic(s,o,this.getDiagnosticSeverity(e));a.source=e.source||t,e.code&&(a.code=e.code);const c=e.relatedInformation;c&&(a.relatedInformation=(0,u.coalesce)(c.map((e=>{const t=e.span;if(t)return new r.DiagnosticRelatedInformation(h.Location.fromTextSpan(this.client.toResource(t.file),t),e.message)}))));const l=[];e.reportsUnnecessary&&l.push(r.DiagnosticTag.Unnecessary),e.reportsDeprecated&&l.push(r.DiagnosticTag.Deprecated),a.tags=l.length?l:void 0;const d=a;return d.reportUnnecessary=e.reportsUnnecessary,d.reportDeprecated=e.reportsDeprecated,d}getDiagnosticSeverity(e){if(this.reportStyleCheckAsWarnings&&this.isStyleCheckDiagnostic(e.code)&&e.category===s.DiagnosticCategory.error)return r.DiagnosticSeverity.Warning;switch(e.category){case s.DiagnosticCategory.error:return r.DiagnosticSeverity.Error;case s.DiagnosticCategory.warning:return r.DiagnosticSeverity.Warning;case s.DiagnosticCategory.suggestion:return r.DiagnosticSeverity.Hint;default:return r.DiagnosticSeverity.Error}}isStyleCheckDiagnostic(e){return"number"==typeof e&&v.has(e)}}t.default=y},5162:(e,t)=>{"use strict";var n,r,i;Object.defineProperty(t,"__esModule",{value:!0}),t.ClientCapabilities=t.ClientCapability=t.ServerResponse=t.ServerType=void 0,(i=t.ServerType||(t.ServerType={})).Syntax="syntax",i.Semantic="semantic",(r=t.ServerResponse||(t.ServerResponse={})).Cancelled=class{constructor(e){this.reason=e,this.type="cancelled"}},r.NoContent={type:"noContent"},r.NoServer={type:"noServer"},(n=t.ClientCapability||(t.ClientCapability={}))[n.Syntax=0]="Syntax",n[n.EnhancedSyntax=1]="EnhancedSyntax",n[n.Semantic=2]="Semantic",t.ClientCapabilities=class{constructor(...e){this.capabilities=new Set(e)}has(e){return this.capabilities.has(e)}}},7169:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1023),i=n(7549),o=n(189),s=n(9283),a=n(4156),c=n(9655),l=n(6040),u=n(5373),d=n(7174),f=n(5162),p=n(9638),g=n(9550),h=n(4009),m=n(6797),v=n(3631),y=n(1339),S=n(5712),C=n(1687),b=n(3815),w=n(1807),x=o.loadMessageBundle();var T;!function(e){e.None={type:0},e.Running=class{constructor(e,t,n,r){this.server=e,this.apiVersion=t,this.tsserverVersion=n,this.languageServiceEnabled=r,this.type=1,this.toCancelOnResourceChange=new Set}updateTsserverVersion(e){this.tsserverVersion=e}updateLanguageServiceEnabled(e){this.languageServiceEnabled=e}},e.Errored=class{constructor(e,t){this.error=e,this.tsServerLogFile=t,this.type=2}}}(T||(T={}));class I extends h.Disposable{constructor(e,t,n,o){let a,l;super(),this.context=e,this.emptyAuthority="ts-nul-authority",this.inMemoryResourcePrefix="^",this.logger=new v.Logger,this.tracer=new b.default(this.logger),this.serverState=T.None,this._isPromptingAfterCrash=!1,this.isRestarting=!1,this.hasServerFatallyCrashedTooManyTimes=!1,this.loadingIndicator=new k,this._onDidChangeCapabilities=this._register(new i.EventEmitter),this.onDidChangeCapabilities=this._onDidChangeCapabilities.event,this._onTsServerStarted=this._register(new i.EventEmitter),this.onTsServerStarted=this._onTsServerStarted.event,this._onDiagnosticsReceived=this._register(new i.EventEmitter),this.onDiagnosticsReceived=this._onDiagnosticsReceived.event,this._onConfigDiagnosticsReceived=this._register(new i.EventEmitter),this.onConfigDiagnosticsReceived=this._onConfigDiagnosticsReceived.event,this._onResendModelsRequested=this._register(new i.EventEmitter),this.onResendModelsRequested=this._onResendModelsRequested.event,this._onProjectLanguageServiceStateChanged=this._register(new i.EventEmitter),this.onProjectLanguageServiceStateChanged=this._onProjectLanguageServiceStateChanged.event,this._onDidBeginInstallTypings=this._register(new i.EventEmitter),this.onDidBeginInstallTypings=this._onDidBeginInstallTypings.event,this._onDidEndInstallTypings=this._register(new i.EventEmitter),this.onDidEndInstallTypings=this._onDidEndInstallTypings.event,this._onTypesInstallerInitializationFailed=this._register(new i.EventEmitter),this.onTypesInstallerInitializationFailed=this._onTypesInstallerInitializationFailed.event,this._onSurveyReady=this._register(new i.EventEmitter),this.onSurveyReady=this._onSurveyReady.event,this.token=0,this.workspaceState=e.workspaceState,this.pluginManager=n.pluginManager,this.logDirectoryProvider=n.logDirectoryProvider,this.cancellerFactory=n.cancellerFactory,this.versionProvider=n.versionProvider,this.processFactory=n.processFactory,this.pathSeparator=r.sep,this.lastStart=Date.now();const f=new Promise(((e,t)=>{a=e,l=t}));this._onReady={promise:f,resolve:a,reject:l},this.numberRestarts=0,this._configuration=n.serviceConfigurationProvider.loadFromWorkspace(),this.versionProvider.updateConfiguration(this._configuration),this.pluginPathsProvider=new S.TypeScriptPluginPathsProvider(this._configuration),this._versionManager=this._register(new d.TypeScriptVersionManager(this._configuration,this.versionProvider,this.workspaceState)),this._register(this._versionManager.onDidPickNewVersion((()=>{this.restartTsServer()}))),this.bufferSyncSupport=new c.default(this,o,t),this.onReady((()=>{this.bufferSyncSupport.listen()})),this.diagnosticsManager=new s.DiagnosticsManager("typescript",t),this.bufferSyncSupport.onDelete((e=>{this.cancelInflightRequestsForResource(e),this.diagnosticsManager.delete(e)}),null,this._disposables),this.bufferSyncSupport.onWillChange((e=>{this.cancelInflightRequestsForResource(e)})),i.workspace.onDidChangeConfiguration((()=>{const e=this._configuration;this._configuration=n.serviceConfigurationProvider.loadFromWorkspace(),this.versionProvider.updateConfiguration(this._configuration),this._versionManager.updateConfiguration(this._configuration),this.pluginPathsProvider.updateConfiguration(this._configuration),this.tracer.updateConfiguration(),1===this.serverState.type&&(this._configuration.implicitProjectConfiguration.isEqualTo(e.implicitProjectConfiguration)||this.setCompilerOptionsForInferredProjects(this._configuration),(0,g.areServiceConfigurationsEqual)(this._configuration,e)||this.restartTsServer())}),this,this._disposables),this.telemetryReporter=this._register(new C.VSCodeTelemetryReporter((()=>1===this.serverState.type&&this.serverState.tsserverVersion?this.serverState.tsserverVersion:this.apiVersion.fullVersionString))),this.typescriptServerSpawner=new u.TypeScriptServerSpawner(this.versionProvider,this._versionManager,this.logDirectoryProvider,this.pluginPathsProvider,this.logger,this.telemetryReporter,this.tracer,this.processFactory),this._register(this.pluginManager.onDidUpdateConfig((e=>{this.configurePlugin(e.pluginId,e.config)}))),this._register(this.pluginManager.onDidChangePlugins((()=>{this.restartTsServer()})))}get capabilities(){return 1===this._configuration.useSyntaxServer||(0,y.isWeb)()?new f.ClientCapabilities(f.ClientCapability.Syntax,f.ClientCapability.EnhancedSyntax):this.apiVersion.gte(p.default.v400)?new f.ClientCapabilities(f.ClientCapability.Syntax,f.ClientCapability.EnhancedSyntax,f.ClientCapability.Semantic):new f.ClientCapabilities(f.ClientCapability.Syntax,f.ClientCapability.Semantic)}cancelInflightRequestsForResource(e){if(1===this.serverState.type)for(const t of this.serverState.toCancelOnResourceChange)t.resource.toString()===e.toString()&&t.cancel()}get configuration(){return this._configuration}dispose(){super.dispose(),this.bufferSyncSupport.dispose(),1===this.serverState.type&&this.serverState.server.kill(),this.loadingIndicator.reset()}restartTsServer(e=!1){1===this.serverState.type&&(this.info("Killing TS Server"),this.isRestarting=!0,this.serverState.server.kill()),e&&(this.hasServerFatallyCrashedTooManyTimes=!1,this.numberRestarts=0,this.lastStart=Date.now()),this.serverState=this.startService(!0)}get apiVersion(){return 1===this.serverState.type?this.serverState.apiVersion:p.default.defaultVersion}onReady(e){return this._onReady.promise.then(e)}info(e,t){this.logger.info(e,t)}error(e,t){this.logger.error(e,t)}logTelemetry(e,t){this.telemetryReporter.logTelemetry(e,t)}ensureServiceStarted(){1!==this.serverState.type&&this.startService()}startService(e=!1){if(this.info("Starting TS Server"),this.isDisposed)return this.info("Not starting server: disposed"),T.None;if(this.hasServerFatallyCrashedTooManyTimes)return this.info("Not starting server: too many crashes"),T.None;let t=this._versionManager.currentVersion;t.isValid||(i.window.showWarningMessage(x("noServerFound","The path {0} doesn't point to a valid tsserver install. Falling back to bundled TypeScript version.",t.path)),this._versionManager.reset(),t=this._versionManager.currentVersion),this.info(`Using tsserver from: ${t.path}`);const n=t.apiVersion||p.default.defaultVersion,r=++this.token,o=this.typescriptServerSpawner.spawn(t,this.capabilities,this.configuration,this.pluginManager,this.cancellerFactory,{onFatalError:(e,t)=>this.fatalError(e,t)});return this.serverState=new T.Running(o,n,void 0,!0),this.lastStart=Date.now(),this.logTelemetry("tsserver.spawned",{localTypeScriptVersion:this.versionProvider.localVersion?this.versionProvider.localVersion.displayName:"",typeScriptVersionSource:t.source}),o.onError((e=>{this.token===r&&(e&&i.window.showErrorMessage(x("serverExitedWithError","TypeScript language server exited with error. Error message is: {0}",e.message||e.name)),this.serverState=new T.Errored(e,o.tsServerLogFile),this.error("TSServer errored with error.",e),o.tsServerLogFile&&this.error(`TSServer log file: ${o.tsServerLogFile}`),this.logTelemetry("tsserver.error"),this.serviceExited(!1))})),o.onExit((e=>{const{code:t,signal:n}=e;this.error(`TSServer exited. Code: ${t}. Signal: ${n}`),this.logTelemetry("tsserver.exitWithCode",{code:t??void 0,signal:n??void 0}),this.token===r&&(o.tsServerLogFile&&this.info(`TSServer log file: ${o.tsServerLogFile}`),this.serviceExited(!this.isRestarting),this.isRestarting=!1)})),o.onEvent((e=>this.dispatchEvent(e))),n.gte(p.default.v300)&&this.capabilities.has(f.ClientCapability.Semantic)&&this.loadingIndicator.startedLoadingProject(void 0),this.serviceStarted(e),this._onReady.resolve(),this._onTsServerStarted.fire({version:t,usedApiVersion:n}),this._onDidChangeCapabilities.fire(),this.serverState}async showVersionPicker(){this._versionManager.promptUserForVersion()}async openTsServerLogFile(){if(this._configuration.tsServerLogLevel===g.TsServerLogLevel.Off)return i.window.showErrorMessage(x("typescript.openTsServerLog.loggingNotEnabled","TS Server logging is off. Please set `typescript.tsserver.log` and restart the TS server to enable logging"),{title:x("typescript.openTsServerLog.enableAndReloadOption","Enable logging and restart TS server")}).then((e=>{if(e)return i.workspace.getConfiguration().update("typescript.tsserver.log","verbose",!0).then((()=>{this.restartTsServer()}))})),!1;if(1!==this.serverState.type||!this.serverState.server.tsServerLogFile)return i.window.showWarningMessage(x("typescript.openTsServerLog.noLogFile","TS Server has not started logging.")),!1;try{const e=await i.workspace.openTextDocument(i.Uri.file(this.serverState.server.tsServerLogFile));return await i.window.showTextDocument(e),!0}catch{}try{return await i.commands.executeCommand("revealFileInOS",i.Uri.file(this.serverState.server.tsServerLogFile)),!0}catch{return i.window.showWarningMessage(x("openTsServerLog.openFileFailedFailed","Could not open TS Server log file")),!1}}serviceStarted(e){this.bufferSyncSupport.reset();const t=this.apiVersion.gte(p.default.v380)?this.configuration.watchOptions:void 0,n={hostInfo:"vscode",preferences:{providePrefixAndSuffixTextForRename:!0,allowRenameOfImportPath:!0,includePackageJsonAutoImports:this._configuration.includePackageJsonAutoImports},watchOptions:t};this.executeWithoutWaitingForResponse("configure",n),this.setCompilerOptionsForInferredProjects(this._configuration),e&&(this._onResendModelsRequested.fire(),this.bufferSyncSupport.reinitialize(),this.bufferSyncSupport.requestAllDiagnostics());for(const[e,t]of this.pluginManager.configurations())this.configurePlugin(e,t)}setCompilerOptionsForInferredProjects(e){const t={options:this.getCompilerOptionsForInferredProjects(e)};this.executeWithoutWaitingForResponse("compilerOptionsForInferredProjects",t)}getCompilerOptionsForInferredProjects(e){return{...(0,w.inferredProjectCompilerOptions)(0,e),allowJs:!0,allowSyntheticDefaultImports:!0,allowNonTsExtensions:!0,resolveJsonModule:!0}}serviceExited(e){this.loadingIndicator.reset();const t=this.serverState;if(this.serverState=T.None,e){const e=Date.now()-this.lastStart;this.numberRestarts++;let n=!0;const r={title:x("serverDiedReportIssue","Report Issue")};let o;this.numberRestarts>5?(this.numberRestarts=0,e<1e4?(this.lastStart=Date.now(),n=!1,this.hasServerFatallyCrashedTooManyTimes=!0,o=i.window.showErrorMessage(x("serverDiedAfterStart","The TypeScript language service died 5 times right after it got started. The service will not be restarted."),r),this.logTelemetry("serviceExited")):e<3e5&&(this.lastStart=Date.now(),o=i.window.showWarningMessage(x("serverDied","The TypeScript language service died unexpectedly 5 times in the last 5 Minutes."),r))):["vscode-insiders","code-oss"].includes(i.env.uriScheme)&&!this._isPromptingAfterCrash&&2===t.type&&t.error instanceof l.TypeScriptServerError&&(this.numberRestarts=0,this._isPromptingAfterCrash=!0,o=i.window.showWarningMessage(x("serverDiedOnce","The TypeScript language service died unexpectedly."),r)),o?.then((e=>{if(this._isPromptingAfterCrash=!1,e===r){const e=this.versionProvider.bundledVersion.apiVersion;if(e&&this.apiVersion.lt(e))i.window.showWarningMessage(x("usingOldTsVersion.title","Please update your TypeScript version"),{modal:!0,detail:x("usingOldTsVersion.detail","The workspace is using an old version of TypeScript ({0}).\n\nBefore reporting an issue, please update the workspace to use the latest stable TypeScript release to make sure the bug has not already been fixed.",2===t.type&&t.error instanceof l.TypeScriptServerError?t.error.version.apiVersion?.displayName:void 0),useCustom:!0});else{const e=2===t.type&&t.error instanceof l.TypeScriptServerError?function(e,t,n){if(!e.serverStack||!e.serverMessage)return;const r=["❗️❗️❗️ Please fill in the sections below to help us diagnose the issue ❗️❗️❗️",`**TypeScript Version:** ${e.version.apiVersion?.fullVersionString}`,"**Steps to reproduce crash**\n\n1.\n2.\n3."];return n.length&&r.push("**Global TS Server Plugins**\n\n"+n.map((e=>`- \`${e.name}\``)).join("\n")),t?r.push(`**TS Server Log**\n\n❗️ Please review and upload this log file to help us diagnose this crash:\n\n\`${t}\`\n\nThe log file may contain personal data, including full paths and source code from your workspace. You can scrub the log file to remove paths or other personal information.\n`):r.push('**TS Server Log**\n\n❗️ Server logging disabled. To help us fix crashes like this, please enable logging by setting:\n\n```json\n"typescript.tsserver.log": "verbose"\n```\n\nAfter enabling this setting, future crash reports will include the server log.'),r.push(`**TS Server Error Stack**\n\nServer: \`${e.serverId}\`\n\n\`\`\`\n${e.serverStack}\n\`\`\``),{extensionId:"vscode.typescript-language-features",issueTitle:`TS Server fatal error:  ${e.serverMessage}`,issueBody:r.join("\n\n")}}(t.error,t.tsServerLogFile,this.pluginManager.plugins):void 0;i.commands.executeCommand("workbench.action.openIssueReporter",e)}}})),n&&this.startService(!0)}}normalizedPath(e){if(!m.disabledSchemes.has(e.scheme))switch(e.scheme){case m.file:{let t=e.fsPath;if(!t)return;return t=r.normalize(t),t.replace(new RegExp("\\"+this.pathSeparator,"g"),"/")}default:return this.inMemoryResourcePrefix+"/"+e.scheme+"/"+(e.authority||this.emptyAuthority)+(e.path.startsWith("/")?e.path:"/"+e.path)+(e.fragment?"#"+e.fragment:"")}}toPath(e){return this.normalizedPath(e)}toOpenedFilePath(e,t={}){if(this.bufferSyncSupport.ensureHasBuffer(e.uri))return this.toPath(e.uri);t.suppressAlertOnFailure||m.disabledSchemes.has(e.uri.scheme)||console.error(`Unexpected resource ${e.uri}`)}hasCapabilityForResource(e,t){if(!this.capabilities.has(t))return!1;switch(t){case f.ClientCapability.Semantic:return m.semanticSupportedSchemes.includes(e.scheme);case f.ClientCapability.Syntax:case f.ClientCapability.EnhancedSyntax:return!0}}toResource(e){if((0,y.isWeb)()&&e.startsWith("/lib.")&&e.endsWith(".d.ts"))return i.Uri.joinPath(this.context.extensionUri,"dist","browser","typescript",e.slice(1));if(e.startsWith(this.inMemoryResourcePrefix)){const t=e.match(/^\^\/([^\/]+)\/([^\/]*)\/(.+)$/);if(t){const e=i.Uri.parse(t[1]+"://"+(t[2]===this.emptyAuthority?"":t[2])+"/"+t[3]);return this.bufferSyncSupport.toVsCodeResource(e)}}return this.bufferSyncSupport.toResource(e)}getWorkspaceRootForResource(e){const t=i.workspace.workspaceFolders?Array.from(i.workspace.workspaceFolders):void 0;if(!t?.length)return e.scheme===m.officeScript?"/":void 0;switch(e.scheme){case m.file:case m.untitled:case m.vscodeNotebookCell:case m.memFs:case m.vscodeVfs:case m.officeScript:for(const n of t.sort(((e,t)=>e.uri.fsPath.length-t.uri.fsPath.length)))if(e.fsPath.startsWith(n.uri.fsPath+r.sep))return n.uri.fsPath;return t[0].uri.fsPath;default:return}}execute(e,t,n,r){let o;if(r?.cancelOnResourceChange){const s=this.serverState;if(1===s.type){const a=new i.CancellationTokenSource;n.onCancellationRequested((()=>a.cancel()));const c={resource:r.cancelOnResourceChange,cancel:()=>a.cancel()};s.toCancelOnResourceChange.add(c),o=this.executeImpl(e,t,{isAsync:!1,token:a.token,expectsResult:!0,...r}),o[0].finally((()=>{s.toCancelOnResourceChange.delete(c),a.dispose()}))}}return o||(o=this.executeImpl(e,t,{isAsync:!1,token:n,expectsResult:!0,...r})),r?.nonRecoverable&&o[0].catch((t=>this.fatalError(e,t))),"updateOpen"===e&&Promise.all(o).then((()=>{this.loadingIndicator.reset()})),o[0]}executeWithoutWaitingForResponse(e,t){this.executeImpl(e,t,{isAsync:!1,token:void 0,expectsResult:!1})}executeAsync(e,t,n){return this.executeImpl(e,t,{isAsync:!0,token:n,expectsResult:!0})[0]}executeImpl(e,t,n){const r=this.serverState;return 1===r.type?(this.bufferSyncSupport.beforeCommand(e),r.server.executeImpl(e,t,n)):[Promise.resolve(f.ServerResponse.NoServer)]}interruptGetErr(e){return this.bufferSyncSupport.interruptGetErr(e)}fatalError(e,t){if(this.logTelemetry("fatalError",{...t instanceof l.TypeScriptServerError?t.telemetry:{command:e}}),console.error(`A non-recoverable error occurred while executing tsserver command: ${e}`),t instanceof l.TypeScriptServerError&&t.serverErrorText&&console.error(t.serverErrorText),1===this.serverState.type){this.info("Killing TS Server");const e=this.serverState.server.tsServerLogFile;this.serverState.server.kill(),t instanceof l.TypeScriptServerError&&(this.serverState=new T.Errored(t,e))}}dispatchEvent(e){switch(e.event){case a.EventName.syntaxDiag:case a.EventName.semanticDiag:case a.EventName.suggestionDiag:{this.loadingIndicator.reset();const t=e;t.body?.diagnostics&&this._onDiagnosticsReceived.fire({kind:_(e),resource:this.toResource(t.body.file),diagnostics:t.body.diagnostics});break}case a.EventName.configFileDiag:this._onConfigDiagnosticsReceived.fire(e);break;case a.EventName.telemetry:{const t=e.body;this.dispatchTelemetryEvent(t);break}case a.EventName.projectLanguageServiceState:{const t=e.body;1===this.serverState.type&&this.serverState.updateLanguageServiceEnabled(t.languageServiceEnabled),this._onProjectLanguageServiceStateChanged.fire(t);break}case a.EventName.projectsUpdatedInBackground:{this.loadingIndicator.reset();const t=e.body.openFiles.map((e=>this.toResource(e)));this.bufferSyncSupport.getErr(t);break}case a.EventName.beginInstallTypes:this._onDidBeginInstallTypings.fire(e.body);break;case a.EventName.endInstallTypes:this._onDidEndInstallTypings.fire(e.body);break;case a.EventName.typesInstallerInitializationFailed:this._onTypesInstallerInitializationFailed.fire(e.body);break;case a.EventName.surveyReady:this._onSurveyReady.fire(e.body);break;case a.EventName.projectLoadingStart:this.loadingIndicator.startedLoadingProject(e.body.projectName);break;case a.EventName.projectLoadingFinish:this.loadingIndicator.finishedLoadingProject(e.body.projectName)}}dispatchTelemetryEvent(e){const t=Object.create(null);switch(e.telemetryEventName){case"typingsInstalled":{const n=e.payload;t.installedPackages=n.installedPackages,"boolean"==typeof n.installSuccess&&(t.installSuccess=n.installSuccess.toString()),"string"==typeof n.typingsInstallerVersion&&(t.typingsInstallerVersion=n.typingsInstallerVersion);break}default:{const n=e.payload;n&&Object.keys(n).forEach((e=>{try{n.hasOwnProperty(e)&&(t[e]="string"==typeof n[e]?n[e]:JSON.stringify(n[e]))}catch(e){}}));break}}"projectInfo"===e.telemetryEventName&&1===this.serverState.type&&this.serverState.updateTsserverVersion(t.version),this.logTelemetry(e.telemetryEventName,t)}configurePlugin(e,t){this.apiVersion.gte(p.default.v314)&&this.executeWithoutWaitingForResponse("configurePlugin",{pluginName:e,configuration:t})}}function _(e){switch(e.event){case"syntaxDiag":return 0;case"semanticDiag":return 1;case"suggestionDiag":return 2}throw new Error("Unknown dignostics kind")}t.default=I;class k extends h.Disposable{reset(){this._task&&(this._task.resolve(),this._task=void 0)}startedLoadingProject(e){this.reset(),i.window.withProgress({location:i.ProgressLocation.Window,title:x("serverLoading.progress","Initializing JS/TS language features")},(()=>new Promise((t=>{this._task={project:e,resolve:t}}))))}finishedLoadingProject(e){this._task&&this._task.project===e&&(this._task.resolve(),this._task=void 0)}}},8892:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntellisenseStatus=void 0;const r=n(7549),i=n(189),o=n(5162),s=n(4009),a=n(3683),c=n(1807),l=i.loadMessageBundle();var u;!function(e){e.None=Object.freeze({type:0}),e.SyntaxOnly=Object.freeze({type:3}),e.Pending=class{constructor(e,t){this.resource=e,this.projectType=t,this.type=1,this.cancellation=new r.CancellationTokenSource}},e.Resolved=class{constructor(e,t,n){this.resource=e,this.projectType=t,this.configFile=n,this.type=2}}}(u||(u={}));class d extends s.Disposable{constructor(e,t,n){super(),this._client=e,this._activeTextEditorManager=n,this.openOpenConfigCommandId="_typescript.openConfig",this.createConfigCommandId="_typescript.createConfig",this._ready=!1,this._state=u.None,t.register({id:this.openOpenConfigCommandId,execute:async(e,t)=>{2===this._state.type?await(0,c.openProjectConfigOrPromptToCreate)(t,this._client,e,this._state.configFile):1===this._state.type&&await(0,c.openProjectConfigForFile)(t,this._client,this._state.resource)}}),t.register({id:this.createConfigCommandId,execute:async(e,t)=>{await(0,c.openOrCreateConfig)(t,e,this._client.configuration)}}),n.onDidChangeActiveJsTsEditor(this.updateStatus,this,this._disposables),this._client.onReady((()=>{this._ready=!0,this.updateStatus()}))}dispose(){super.dispose(),this._statusItem?.dispose()}async updateStatus(){const e=this._activeTextEditorManager.activeJsTsEditor?.document;if(!e||!(0,a.isSupportedLanguageMode)(e))return void this.updateState(u.None);if(!this._client.hasCapabilityForResource(e.uri,o.ClientCapability.Semantic))return void this.updateState(u.SyntaxOnly);const t=this._client.toOpenedFilePath(e,{suppressAlertOnFailure:!0});if(!t)return void this.updateState(u.None);if(!this._ready)return;const n=(0,a.isTypeScriptDocument)(e)?0:1,r=new u.Pending(e.uri,n);this.updateState(r);const i=await this._client.execute("projectInfo",{file:t,needFileNameList:!1},r.cancellation.token);"response"===i.type&&i.body&&this._state===r&&this.updateState(new u.Resolved(e.uri,n,i.body.configFileName))}updateState(e){if(this._state!==e)switch(1===this._state.type&&(this._state.cancellation.cancel(),this._state.cancellation.dispose()),this._state=e,this._state.type){case 0:this._statusItem?.dispose(),this._statusItem=void 0;break;case 1:{const e=this.ensureStatusItem();e.severity=r.LanguageStatusSeverity.Information,e.text=l("pending.detail","Loading IntelliSense status"),e.detail=void 0,e.command=void 0,e.busy=!0;break}case 2:{const e=0===this._state.projectType?l("resolved.detail.noTsConfig","No tsconfig"):l("resolved.detail.noJsConfig","No jsconfig"),t=this._client.getWorkspaceRootForResource(this._state.resource);if(!t)return void(this._statusItem&&(this._statusItem.text=e,this._statusItem.detail=r.workspace.workspaceFolders?l("resolved.detail.notInOpenedFolder","File is not part opened folders"):l("resolved.detail.noOpenedFolders","No opened folders"),this._statusItem.busy=!1));const n=this.ensureStatusItem();n.busy=!1,n.detail=void 0,n.severity=r.LanguageStatusSeverity.Information,(0,c.isImplicitProjectConfigFile)(this._state.configFile)?(n.text=e,n.detail=void 0,n.command={command:this.createConfigCommandId,title:0===this._state.projectType?l("resolved.command.title.createTsconfig","Create tsconfig"):l("resolved.command.title.createJsconfig","Create jsconfig"),arguments:[t]}):(n.text=r.workspace.asRelativePath(this._state.configFile),n.detail=void 0,n.command={command:this.openOpenConfigCommandId,title:l("resolved.command.title.open","Open config file"),arguments:[t]});break}case 3:{const e=this.ensureStatusItem();e.severity=r.LanguageStatusSeverity.Warning,e.text=l("syntaxOnly.text","Partial Mode"),e.detail=l("syntaxOnly.detail","Project Wide IntelliSense not available"),e.busy=!1,e.command={title:l("syntaxOnly.command.title.learnMore","Learn More"),command:"vscode.open",arguments:[r.Uri.parse("https://aka.ms/vscode/jsts/partial-mode")]};break}}}ensureStatusItem(){return this._statusItem||(this._statusItem=r.languages.createLanguageStatusItem("typescript.projectStatus",a.jsTsLanguageModes),this._statusItem.name=l("statusItem.name","JS/TS IntelliSense Status")),this._statusItem}}t.IntellisenseStatus=d},8390:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VersionStatus=void 0;const r=n(7549),i=n(189),o=n(3276),s=n(4009),a=n(3683),c=i.loadMessageBundle();class l extends s.Disposable{constructor(e){super(),this._client=e,this._statusItem=this._register(r.languages.createLanguageStatusItem("typescript.version",a.jsTsLanguageModes)),this._statusItem.name=c("versionStatus.name","TypeScript Version"),this._statusItem.detail=c("versionStatus.detail","TypeScript Version"),this._register(this._client.onTsServerStarted((({version:e})=>this.onDidChangeTypeScriptVersion(e))))}onDidChangeTypeScriptVersion(e){this._statusItem.text=e.displayName,this._statusItem.command={command:o.SelectTypeScriptVersionCommand.id,title:c("versionStatus.command","Select Version"),tooltip:e.path}}}t.VersionStatus=l},5372:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActiveJsTsEditorTracker=void 0;const r=n(7549),i=n(4009),o=n(2503),s=n(3683);class a extends i.Disposable{constructor(){super(),this._onDidChangeActiveJsTsEditor=this._register(new r.EventEmitter),this.onDidChangeActiveJsTsEditor=this._onDidChangeActiveJsTsEditor.event,r.window.onDidChangeActiveTextEditor(this.onDidChangeActiveTextEditor,this,this._disposables),r.window.onDidChangeVisibleTextEditors((()=>{this._activeJsTsEditor&&(r.window.visibleTextEditors.some((e=>e===this._activeJsTsEditor))||this.onDidChangeActiveTextEditor(void 0))}),this,this._disposables),this.onDidChangeActiveTextEditor(r.window.activeTextEditor)}get activeJsTsEditor(){return this._activeJsTsEditor}onDidChangeActiveTextEditor(e){e!==this._activeJsTsEditor&&(e&&!e.viewColumn||(e&&this.isManagedFile(e)?this._activeJsTsEditor=e:this._activeJsTsEditor=void 0,this._onDidChangeActiveJsTsEditor.fire(this._activeJsTsEditor)))}isManagedFile(e){return this.isManagedScriptFile(e)||this.isManagedConfigFile(e)}isManagedScriptFile(e){return(0,s.isSupportedLanguageMode)(e.document)}isManagedConfigFile(e){return(0,o.isJsConfigOrTsConfigFileName)(e.document.fileName)}}t.ActiveJsTsEditorTracker=a},9638:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6625),i=n(189).loadMessageBundle();class o{constructor(e,t,n){this.displayName=e,this.version=t,this.fullVersionString=n}static fromSimpleString(e){return new o(e,e,e)}static fromVersionString(e){let t=r.valid(e);if(!t)return new o(i("invalidVersion","invalid version"),"1.0.0","1.0.0");const n=e.indexOf("-");return n>=0&&(t=t.substr(0,n)),new o(e,t,e)}eq(e){return r.eq(this.version,e.version)}gte(e){return r.gte(this.version,e.version)}lt(e){return!this.gte(e)}}t.default=o,o.defaultVersion=o.fromSimpleString("1.0.0"),o.v240=o.fromSimpleString("2.4.0"),o.v250=o.fromSimpleString("2.5.0"),o.v260=o.fromSimpleString("2.6.0"),o.v270=o.fromSimpleString("2.7.0"),o.v280=o.fromSimpleString("2.8.0"),o.v290=o.fromSimpleString("2.9.0"),o.v291=o.fromSimpleString("2.9.1"),o.v300=o.fromSimpleString("3.0.0"),o.v310=o.fromSimpleString("3.1.0"),o.v314=o.fromSimpleString("3.1.4"),o.v320=o.fromSimpleString("3.2.0"),o.v333=o.fromSimpleString("3.3.3"),o.v340=o.fromSimpleString("3.4.0"),o.v345=o.fromSimpleString("3.4.5"),o.v350=o.fromSimpleString("3.5.0"),o.v370=o.fromSimpleString("3.7.0"),o.v380=o.fromSimpleString("3.8.0"),o.v381=o.fromSimpleString("3.8.1"),o.v390=o.fromSimpleString("3.9.0"),o.v400=o.fromSimpleString("4.0.0"),o.v401=o.fromSimpleString("4.0.1"),o.v420=o.fromSimpleString("4.2.0"),o.v430=o.fromSimpleString("4.3.0"),o.v440=o.fromSimpleString("4.4.0"),o.v460=o.fromSimpleString("4.6.0"),o.v470=o.fromSimpleString("4.7.0")},6929:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.coalesce=t.equals=t.empty=void 0,t.empty=Object.freeze([]),t.equals=function(e,t,n=((e,t)=>e===t)){return e===t||e.length===t.length&&e.every(((e,r)=>n(e,t[r])))},t.coalesce=function(e){return e.filter((e=>!!e))}},7544:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setImmediate=t.Delayer=void 0,t.Delayer=class{constructor(e){this.defaultDelay=e,this.timeout=null,this.completionPromise=null,this.onSuccess=null,this.task=null}trigger(e,t=this.defaultDelay){return this.task=e,t>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((e=>{this.onSuccess=e})).then((()=>{this.completionPromise=null,this.onSuccess=null;const e=this.task?.();return this.task=null,e}))),(t>=0||null===this.timeout)&&(this.timeout=setTimeout((()=>{this.timeout=null,this.onSuccess?.(void 0)}),t>=0?t:this.defaultDelay)),this.completionPromise}cancelTimeout(){null!==this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}},t.setImmediate=function(e,...t){if(n.g.setImmediate){const r=n.g.setImmediate(e,...t);return{dispose:()=>n.g.clearImmediate(r)}}{const n=setTimeout(e,0,...t);return{dispose:()=>clearTimeout(n)}}}},3219:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nulToken=void 0;const r=n(7549).Disposable.from();t.nulToken={isCancellationRequested:!1,onCancellationRequested:()=>r}},4654:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyCodeActionCommands=t.applyCodeAction=t.getEditForCodeAction=void 0;const r=n(7549),i=n(231);function o(e,t){return t.changes?.length?i.WorkspaceEdit.fromFileCodeEdits(e,t.changes):void 0}async function s(e,t,n){if(t?.length)for(const r of t)await e.execute("applyCodeActionCommand",{command:r},n);return!0}t.getEditForCodeAction=o,t.applyCodeAction=async function(e,t,n){const i=o(e,t);return!(i&&!await r.workspace.applyEdit(i))&&s(e,t.commands,n)},t.applyCodeActionCommands=s},7216:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowserServiceConfigurationProvider=void 0;const r=n(9550);class i extends r.BaseServiceConfigurationProvider{readGlobalTsdk(e){return null}readLocalTsdk(e){return null}}t.BrowserServiceConfigurationProvider=i},9550:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseServiceConfigurationProvider=t.areServiceConfigurationsEqual=t.ImplicitProjectConfiguration=t.TsServerLogLevel=void 0;const r=n(7549),i=n(1745);var o;!function(e){e[e.Off=0]="Off",e[e.Normal=1]="Normal",e[e.Terse=2]="Terse",e[e.Verbose=3]="Verbose"}(o=t.TsServerLogLevel||(t.TsServerLogLevel={})),function(e){e.fromString=function(t){switch(t?.toLowerCase()){case"normal":return e.Normal;case"terse":return e.Terse;case"verbose":return e.Verbose;case"off":default:return e.Off}},e.toString=function(t){switch(t){case e.Normal:return"normal";case e.Terse:return"terse";case e.Verbose:return"verbose";case e.Off:default:return"off"}}}(o=t.TsServerLogLevel||(t.TsServerLogLevel={}));class s{constructor(e){this.target=s.readTarget(e),this.module=s.readModule(e),this.checkJs=s.readCheckJs(e),this.experimentalDecorators=s.readExperimentalDecorators(e),this.strictNullChecks=s.readImplicitStrictNullChecks(e),this.strictFunctionTypes=s.readImplicitStrictFunctionTypes(e)}isEqualTo(e){return i.equals(this,e)}static readTarget(e){return e.get("js/ts.implicitProjectConfig.target")}static readModule(e){return e.get("js/ts.implicitProjectConfig.module")}static readCheckJs(e){return e.get("js/ts.implicitProjectConfig.checkJs")??e.get("javascript.implicitProjectConfig.checkJs",!1)}static readExperimentalDecorators(e){return e.get("js/ts.implicitProjectConfig.experimentalDecorators")??e.get("javascript.implicitProjectConfig.experimentalDecorators",!1)}static readImplicitStrictNullChecks(e){return e.get("js/ts.implicitProjectConfig.strictNullChecks",!0)}static readImplicitStrictFunctionTypes(e){return e.get("js/ts.implicitProjectConfig.strictFunctionTypes",!0)}}t.ImplicitProjectConfiguration=s,t.areServiceConfigurationsEqual=function(e,t){return i.equals(e,t)},t.BaseServiceConfigurationProvider=class{loadFromWorkspace(){const e=r.workspace.getConfiguration();return{locale:this.readLocale(e),globalTsdk:this.readGlobalTsdk(e),localTsdk:this.readLocalTsdk(e),npmLocation:this.readNpmLocation(e),tsServerLogLevel:this.readTsServerLogLevel(e),tsServerPluginPaths:this.readTsServerPluginPaths(e),implicitProjectConfiguration:new s(e),disableAutomaticTypeAcquisition:this.readDisableAutomaticTypeAcquisition(e),useSyntaxServer:this.readUseSyntaxServer(e),enableProjectDiagnostics:this.readEnableProjectDiagnostics(e),maxTsServerMemory:this.readMaxTsServerMemory(e),enablePromptUseWorkspaceTsdk:this.readEnablePromptUseWorkspaceTsdk(e),watchOptions:this.readWatchOptions(e),includePackageJsonAutoImports:this.readIncludePackageJsonAutoImports(e),enableTsServerTracing:this.readEnableTsServerTracing(e)}}readTsServerLogLevel(e){const t=e.get("typescript.tsserver.log","off");return o.fromString(t)}readTsServerPluginPaths(e){return e.get("typescript.tsserver.pluginPaths",[])}readNpmLocation(e){return e.get("typescript.npm",null)}readDisableAutomaticTypeAcquisition(e){return e.get("typescript.disableAutomaticTypeAcquisition",!1)}readLocale(e){const t=e.get("typescript.locale","auto");return t&&"auto"!==t?t:null}readUseSyntaxServer(e){switch(e.get("typescript.tsserver.useSyntaxServer")){case"never":return 0;case"always":return 1;case"auto":return 2}const t=e.get("typescript.tsserver.useSeparateSyntaxServer",!0);return"forAllRequests"===t?1:!0===t?2:0}readEnableProjectDiagnostics(e){return e.get("typescript.tsserver.experimental.enableProjectDiagnostics",!1)}readWatchOptions(e){return e.get("typescript.tsserver.watchOptions")}readIncludePackageJsonAutoImports(e){return e.get("typescript.preferences.includePackageJsonAutoImports")}readMaxTsServerMemory(e){const t=e.get("typescript.tsserver.maxTsServerMemory",3072);return Number.isSafeInteger(t)?Math.max(t,128):3072}readEnablePromptUseWorkspaceTsdk(e){return e.get("typescript.enablePromptUseWorkspaceTsdk",!1)}readEnableTsServerTracing(e){return e.get("typescript.tsserver.enableTracing",!1)}}},2298:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.requireSomeCapability=t.requireGlobalConfiguration=t.requireMinVersion=t.conditionalRegistration=t.Condition=void 0;const r=n(7549),i=n(4009);class o extends i.Disposable{constructor(e,t){super(),this.getValue=e,this._onDidChange=this._register(new r.EventEmitter),this.onDidChange=this._onDidChange.event,this._value=this.getValue(),t((()=>{const e=this.getValue();e!==this._value&&(this._value=e,this._onDidChange.fire())}))}get value(){return this._value}}t.Condition=o;class s{constructor(e,t){this.conditions=e,this.doRegister=t,this.registration=void 0;for(const t of e)t.onDidChange((()=>this.update()));this.update()}dispose(){this.registration?.dispose(),this.registration=void 0}update(){this.conditions.every((e=>e.value))?this.registration||(this.registration=this.doRegister()):this.registration&&(this.registration.dispose(),this.registration=void 0)}}t.conditionalRegistration=function(e,t){return new s(e,t)},t.requireMinVersion=function(e,t){return new o((()=>e.apiVersion.gte(t)),e.onTsServerStarted)},t.requireGlobalConfiguration=function(e,t){return new o((()=>!!r.workspace.getConfiguration(e,null).get(t)),r.workspace.onDidChangeConfiguration)},t.requireSomeCapability=function(e,...t){return new o((()=>t.some((t=>e.capabilities.has(t)))),e.onDidChangeCapabilities)}},4009:(e,t)=>{"use strict";function n(e){for(;e.length;)e.pop()?.dispose()}Object.defineProperty(t,"__esModule",{value:!0}),t.Disposable=t.disposeAll=void 0,t.disposeAll=n,t.Disposable=class{constructor(){this._isDisposed=!1,this._disposables=[]}dispose(){this._isDisposed||(this._isDisposed=!0,n(this._disposables))}_register(e){return this._isDisposed?e.dispose():this._disposables.push(e),e}get isDisposed(){return this._isDisposed}}},1395:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.asyncOnlyAllowedInAsyncFunctions=t.extendsShouldBeImplements=t.cannotFindName=t.incorrectlyImplementsInterface=t.notAllCodePathsReturnAValue=t.fallThroughCaseInSwitch=t.unusedLabel=t.unreachableCode=t.allImportsAreUnused=t.propertyDeclaretedButNeverUsed=t.variableDeclaredButNeverUsed=void 0,t.variableDeclaredButNeverUsed=new Set([6196,6133]),t.propertyDeclaretedButNeverUsed=new Set([6138]),t.allImportsAreUnused=new Set([6192]),t.unreachableCode=new Set([7027]),t.unusedLabel=new Set([7028]),t.fallThroughCaseInSwitch=new Set([7029]),t.notAllCodePathsReturnAValue=new Set([7030]),t.incorrectlyImplementsInterface=new Set([2420]),t.cannotFindName=new Set([2552,2304]),t.extendsShouldBeImplements=new Set([2689]),t.asyncOnlyAllowedInAsyncFunctions=new Set([1308])},6797:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.disabledSchemes=t.semanticSupportedSchemes=t.officeScript=t.vscodeVfs=t.memFs=t.vscodeNotebookCell=t.walkThroughSnippet=t.vsls=t.git=t.untitled=t.file=void 0,t.file="file",t.untitled="untitled",t.git="git",t.vsls="vsls",t.walkThroughSnippet="walkThroughSnippet",t.vscodeNotebookCell="vscode-notebook-cell",t.memFs="memfs",t.vscodeVfs="vscode-vfs",t.officeScript="office-script",t.semanticSupportedSchemes=[t.file,t.untitled,t.walkThroughSnippet,t.vscodeNotebookCell],t.disabledSchemes=new Set([t.git,t.vsls])},1648:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addMissingOverride=t.addMissingAwait=t.fixImport=t.spelling=t.forgottenThisPropertyAccess=t.unusedIdentifier=t.unreachableCode=t.classDoesntImplementInheritedAbstractMember=t.classIncorrectlyImplementsInterface=t.awaitInSyncFunction=t.extendsInterfaceBecomesImplements=t.constructorForDerivedNeedSuperCall=t.annotateWithTypeFromJSDoc=void 0,t.annotateWithTypeFromJSDoc="annotateWithTypeFromJSDoc",t.constructorForDerivedNeedSuperCall="constructorForDerivedNeedSuperCall",t.extendsInterfaceBecomesImplements="extendsInterfaceBecomesImplements",t.awaitInSyncFunction="fixAwaitInSyncFunction",t.classIncorrectlyImplementsInterface="fixClassIncorrectlyImplementsInterface",t.classDoesntImplementInheritedAbstractMember="fixClassDoesntImplementInheritedAbstractMember",t.unreachableCode="fixUnreachableCode",t.unusedIdentifier="unusedIdentifier",t.forgottenThisPropertyAccess="forgottenThisPropertyAccess",t.spelling="spelling",t.fixImport="import",t.addMissingAwait="addMissingAwait",t.addMissingOverride="fixOverrideModifier"},1595:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.exists=void 0;const r=n(7549);t.exists=async e=>{try{return!!((await r.workspace.fs.stat(e)).type&r.FileType.File)}catch{return!1}}},2503:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.doesResourceLookLikeAJavaScriptFile=t.doesResourceLookLikeATypeScriptFile=t.isJsConfigOrTsConfigFileName=t.isTsConfigFileName=t.standardLanguageDescriptions=t.allDiagnosticLanguages=void 0;const r=n(1023),i=n(3683);t.allDiagnosticLanguages=[0,1],t.standardLanguageDescriptions=[{id:"typescript",diagnosticOwner:"typescript",diagnosticSource:"ts",diagnosticLanguage:1,languageIds:[i.typescript,i.typescriptreact],configFilePattern:/^tsconfig(\..*)?\.json$/gi,standardFileExtensions:["ts","tsx","cts","mts"]},{id:"javascript",diagnosticOwner:"typescript",diagnosticSource:"ts",diagnosticLanguage:0,languageIds:[i.javascript,i.javascriptreact],configFilePattern:/^jsconfig(\..*)?\.json$/gi,standardFileExtensions:["js","jsx","cjs","mjs","es6","pac"]}],t.isTsConfigFileName=function(e){return/^tsconfig\.(.+\.)?json$/i.test((0,r.basename)(e))},t.isJsConfigOrTsConfigFileName=function(e){return/^[jt]sconfig\.(.+\.)?json$/i.test((0,r.basename)(e))},t.doesResourceLookLikeATypeScriptFile=function(e){return/\.(tsx?|mts|cts)$/i.test(e.fsPath)},t.doesResourceLookLikeAJavaScriptFile=function(e){return/\.(jsx?|mjs|cjs)$/i.test(e.fsPath)}},3683:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTypeScriptDocument=t.isSupportedLanguageMode=t.jsTsLanguageModes=t.jsxTags=t.javascriptreact=t.javascript=t.typescriptreact=t.typescript=void 0;const r=n(7549);t.typescript="typescript",t.typescriptreact="typescriptreact",t.javascript="javascript",t.javascriptreact="javascriptreact",t.jsxTags="jsx-tags",t.jsTsLanguageModes=[t.javascript,t.javascriptreact,t.typescript,t.typescriptreact],t.isSupportedLanguageMode=function(e){return r.languages.match([t.typescript,t.typescriptreact,t.javascript,t.javascriptreact],e)>0},t.isTypeScriptDocument=function(e){return r.languages.match([t.typescript,t.typescriptreact],e)>0}},309:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.create=void 0;const r=n(7549),i=n(189),o=n(1807),s=(0,i.loadMessageBundle)();class a{constructor(e){this.telemetryReporter=e,this._item=r.window.createStatusBarItem("status.typescript.exclude",r.StatusBarAlignment.Right,98),this._item.name=s("statusExclude","TypeScript: Configure Excludes"),this._item.command="js.projectStatus.command"}getCurrentHint(){return this._currentHint}hide(){this._item.hide()}show(e){this._currentHint={message:e?s("hintExclude","To enable project-wide JavaScript/TypeScript language features, exclude folders with many files, like: {0}",e):s("hintExclude.generic","To enable project-wide JavaScript/TypeScript language features, exclude large folders with source files that you do not work on.")},this._item.tooltip=this._currentHint.message,this._item.text=s("large.label","Configure Excludes"),this._item.tooltip=s("hintExclude.tooltip","To enable project-wide JavaScript/TypeScript language features, exclude large folders with source files that you do not work on."),this._item.color="#A5DF3B",this._item.show(),this.telemetryReporter.logTelemetry("js.hintProjectExcludes")}}function c(e,t){if((0,o.isImplicitProjectConfigFile)(t)){const n=e.getWorkspaceRootForResource(r.Uri.file(t));n&&(0,o.openOrCreateConfig)(/tsconfig\.?.*\.json/.test(t)?0:1,n,e.configuration)}else r.workspace.openTextDocument(t).then(r.window.showTextDocument)}t.create=function(e){const t=[],n=new a(e.telemetryReporter);return t.push(r.commands.registerCommand("js.projectStatus.command",(()=>{n.configFileName&&c(e,n.configFileName);const{message:t}=n.getCurrentHint();return r.window.showInformationMessage(t)}))),t.push(function(e,t){return t.onProjectLanguageServiceStateChanged((n=>{if(n.languageServiceEnabled)e.hide();else{e.show();const i=n.projectName;i&&(e.configFileName=i,r.window.showWarningMessage(e.getCurrentHint().message,{title:s("large.label","Configure Excludes"),index:0}).then((e=>{e&&0===e.index&&c(t,i)})))}}))}(n,e)),r.Disposable.from(...t)}},8277:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.lazy=void 0;class n{constructor(e){this._getValue=e,this._hasValue=!1}get value(){return this._hasValue||(this._hasValue=!0,this._value=this._getValue()),this._value}get hasValue(){return this._hasValue}map(e){return new n((()=>e(this.value)))}}t.lazy=function(e){return new n(e)}},6590:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogLevelMonitor=void 0;const r=n(7549),i=n(371),o=n(9550),s=n(4009);class a extends s.Disposable{constructor(e){super(),this.context=e,this._register(r.workspace.onDidChangeConfiguration(this.onConfigurationChange,this,this._disposables)),this.shouldNotifyExtendedLogging()&&this.notifyExtendedLogging()}onConfigurationChange(e){e.affectsConfiguration(a.logLevelConfigKey)&&this.context.globalState.update(a.logLevelChangedStorageKey,new Date)}get logLevel(){return o.TsServerLogLevel.fromString(r.workspace.getConfiguration().get(a.logLevelConfigKey,"off"))}get lastLogLevelChange(){const e=this.context.globalState.get(a.logLevelChangedStorageKey);if(e){const t=new Date(e);if(t instanceof Date&&!isNaN(t.valueOf()))return t}}get doNotPrompt(){return this.context.globalState.get(a.doNotPromptLogLevelStorageKey)||!1}shouldNotifyExtendedLogging(){const e=this.lastLogLevelChange?new Date(this.lastLogLevelChange).valueOf():0,t=new Date(e+6048e5);return!this.doNotPrompt&&this.logLevel!==o.TsServerLogLevel.Off&&t.valueOf()<Date.now()}notifyExtendedLogging(){r.window.showInformationMessage((0,i.localize)("typescript.extendedLogging.isEnabled","TS Server logging is currently enabled which may impact performance."),{title:(0,i.localize)("typescript.extendedLogging.disableLogging","Disable logging"),choice:0},{title:(0,i.localize)("typescript.extendedLogging.doNotShowAgain","Don't show again"),choice:1}).then((e=>{if(e)return 0===e.choice?r.workspace.getConfiguration().update(a.logLevelConfigKey,"off",!0):1===e.choice?this.context.globalState.update(a.doNotPromptLogLevelStorageKey,!0):void 0}))}}t.LogLevelMonitor=a,a.logLevelConfigKey="typescript.tsserver.log",a.logLevelChangedStorageKey="typescript.tsserver.logLevelChanged",a.doNotPromptLogLevelStorageKey="typescript.tsserver.doNotPromptLogLevel"},3631:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;const i=n(7549),o=n(189),s=n(6620),a=o.loadMessageBundle();class c{get output(){return i.window.createOutputChannel(a("channelName","TypeScript"))}data2String(e){return e instanceof Error?e.stack||e.message:!1===e.success&&e.message?e.message:e.toString()}info(e,t){this.logLevel("Info",e,t)}error(e,t){t&&"No content available."===t.message||this.logLevel("Error",e,t)}logLevel(e,t,n){this.output.appendLine(`[${e}  - ${this.now()}] ${t}`),n&&this.output.appendLine(this.data2String(n))}now(){const e=new Date;return l(e.getUTCHours()+"",2,"0")+":"+l(e.getMinutes()+"",2,"0")+":"+l(e.getUTCSeconds()+"",2,"0")+"."+e.getMilliseconds()}}function l(e,t,n=" "){return n.repeat(Math.max(0,t-e.length))+e}r([s.memoize],c.prototype,"output",null),t.Logger=c},7953:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7549),i=n(4009),o=n(2503),s=n(3683);class a extends i.Disposable{constructor(e,t){super(),this.normalizePath=t,this.isInManagedFileContext=!1,e.onDidChangeActiveJsTsEditor(this.onDidChangeActiveTextEditor,this,this._disposables),this.onDidChangeActiveTextEditor(e.activeJsTsEditor)}onDidChangeActiveTextEditor(e){e?this.updateContext(this.isManagedFile(e)):this.updateContext(!1)}updateContext(e){e!==this.isInManagedFileContext&&(r.commands.executeCommand("setContext",a.contextName,e),this.isInManagedFileContext=e)}isManagedFile(e){return this.isManagedScriptFile(e)||this.isManagedConfigFile(e)}isManagedScriptFile(e){return(0,s.isSupportedLanguageMode)(e.document)&&null!==this.normalizePath(e.document.uri)}isManagedConfigFile(e){return(0,o.isJsConfigOrTsConfigFileName)(e.document.fileName)}}t.default=a,a.contextName="typescript.isManagedFile"},6620:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.memoize=void 0,t.memoize=function(e,t,n){let r,i;if("function"==typeof n.value)r="value",i=n.value;else{if("function"!=typeof n.get)throw new Error("not supported");r="get",i=n.get}const o=`$memoize$${t}`;n[r]=function(...e){return this.hasOwnProperty(o)||Object.defineProperty(this,o,{configurable:!1,enumerable:!1,writable:!1,value:i.apply(this,e)}),this[o]}}},308:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseKindModifier=void 0,t.parseKindModifier=function(e){return new Set(e.split(/,|\s+/g))}},1745:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.equals=void 0;const r=n(6929);t.equals=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(typeof t!=typeof n)return!1;if("object"!=typeof t)return!1;if(Array.isArray(t)!==Array.isArray(n))return!1;if(Array.isArray(t))return r.equals(t,n,e);{const i=[];for(const e in t)i.push(e);i.sort();const o=[];for(const e in n)o.push(e);return o.sort(),!!r.equals(i,o)&&i.every((r=>e(t[r],n[r])))}}},1339:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWeb=void 0;const r=n(7549);t.isWeb=function(){return"undefined"!=typeof navigator&&r.env.uiKind===r.UIKind.Web}},5712:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeScriptPluginPathsProvider=void 0;const r=n(1023),i=n(7549),o=n(343);t.TypeScriptPluginPathsProvider=class{constructor(e){this.configuration=e}updateConfiguration(e){this.configuration=e}getPluginPaths(){const e=[];for(const t of this.configuration.tsServerPluginPaths)e.push(...this.resolvePluginPath(t));return e}resolvePluginPath(e){if(r.isAbsolute(e))return[e];const t=o.RelativeWorkspacePathResolver.asAbsoluteWorkspacePath(e);return void 0!==t?[t]:(i.workspace.workspaceFolders||[]).map((t=>r.join(t.uri.fsPath,e)))}}},3090:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PluginManager=void 0;const r=n(7549),i=n(6929),o=n(4009);var s;!function(e){e.equals=function(e,t){return e.uri.toString()===t.uri.toString()&&e.name===t.name&&e.enableForWorkspaceTypeScriptVersions===t.enableForWorkspaceTypeScriptVersions&&i.equals(e.languages,t.languages)}}(s||(s={}));class a extends o.Disposable{constructor(){super(),this._pluginConfigurations=new Map,this._onDidUpdatePlugins=this._register(new r.EventEmitter),this.onDidChangePlugins=this._onDidUpdatePlugins.event,this._onDidUpdateConfig=this._register(new r.EventEmitter),this.onDidUpdateConfig=this._onDidUpdateConfig.event,r.extensions.onDidChange((()=>{if(!this._plugins)return;const e=this.readPlugins();i.equals(Array.from(this._plugins.values()).flat(),Array.from(e.values()).flat(),s.equals)||(this._plugins=e,this._onDidUpdatePlugins.fire(this))}),void 0,this._disposables)}get plugins(){return this._plugins||(this._plugins=this.readPlugins()),Array.from(this._plugins.values()).flat()}setConfiguration(e,t){this._pluginConfigurations.set(e,t),this._onDidUpdateConfig.fire({pluginId:e,config:t})}configurations(){return this._pluginConfigurations.entries()}readPlugins(){const e=new Map;for(const t of r.extensions.all){const n=t.packageJSON;if(n.contributes&&Array.isArray(n.contributes.typescriptServerPlugins)){const r=[];for(const e of n.contributes.typescriptServerPlugins)r.push({name:e.name,enableForWorkspaceTypeScriptVersions:!!e.enableForWorkspaceTypeScriptVersions,uri:t.extensionUri,languages:Array.isArray(e.languages)?e.languages:[],configNamespace:e.configNamespace});r.length&&e.set(t.id,r)}}return e}}t.PluginManager=a},3539:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addMarkdownDocumentation=t.markdownDocumentation=t.tagsMarkdownPreview=t.plainWithLinks=void 0;const r=n(7549);function i(e){return function(e){return e.replace(/\{@(link|linkplain|linkcode) (https?:\/\/[^ |}]+?)(?:[| ]([^{}\n]+?))?\}/gi,((e,t,n,r)=>{switch(t){case"linkcode":return`[\`${r?r.trim():n}\`](${n})`;default:return`[${r?r.trim():n}](${n})`}}))}(e)}function o(e,t){return i(s(e,t))}function s(e,t){if(!e)return"";if("string"==typeof e)return e;const n=[];let r;for(const i of e)switch(i.kind){case"link":if(r){if(r.target){const e=t.toResource(r.target.file).with({fragment:`L${r.target.start.line},${r.target.start.offset}`}),i=r.text?r.text:l(r.name??"");n.push(`[${r.linkcode?"`"+i+"`":i}](${e.toString()})`)}else{const e=r.text??r.name;if(e)if(/^https?:/.test(e)){const t=e.split(" ");if(1===t.length)n.push(t[0]);else if(t.length>1){const e=l(t.slice(1).join(" "));n.push(`[${r.linkcode?"`"+e+"`":e}](${t[0]})`)}}else n.push(l(e))}r=void 0}else r={linkcode:"{@linkcode "===i.text};break;case"linkName":r&&(r.name=i.text,r.target=i.target);break;case"linkText":r&&(r.text=i.text);break;default:n.push(i.text)}return i(n.join(""))}function a(e,t){return e.map((e=>function(e,t){switch(e.name){case"augments":case"extends":case"param":case"template":{const n=s(e.text,t).split(/^(\S+)\s*-?\s*/);if(3===n?.length){const t=n[1],r=n[2],o=`*@${e.name}* \`${t}\``;return r?o+(r.match(/\r\n|\n/g)?"  \n"+i(r):` — ${i(r)}`):o}}}const n=`*@${e.name}*`,r=function(e,t){if(!e.text)return;function n(e){return/^\s*[~`]{3}/m.test(e)?e:"```\n"+e+"\n```"}const r=s(e.text,t);switch(e.name){case"example":{const e=r.match(/<caption>(.*?)<\/caption>\s*(\r\n|\n)/);return e&&0===e.index?e[1]+"\n"+n(r.substr(e[0].length)):n(r)}case"author":{const e=r.match(/(.+)\s<([-.\w]+@[-.\w]+)>/);return null===e?r:`${e[1]} ${e[2]}`}case"default":return n(r)}return i(r)}(e,t);return r?n+(r.match(/\r\n|\n/g)?"  \n"+r:` — ${r}`):n}(e,t))).join("  \n\n")}function c(e,t,n,r){if(t&&e.appendMarkdown(o(t,r)),n){const t=a(n,r);t&&e.appendMarkdown("\n\n"+t)}return e}function l(e){return e.replace(/`/g,"\\$&")}t.plainWithLinks=o,t.tagsMarkdownPreview=a,t.markdownDocumentation=function(e,t,n,i){const o=new r.MarkdownString;return c(o,e,t,n),o.baseUri=i,o},t.addMarkdownDocumentation=c},8568:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.escapeRegExp=void 0,t.escapeRegExp=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}},343:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RelativeWorkspacePathResolver=void 0;const r=n(1023),i=n(7549);t.RelativeWorkspacePathResolver=class{static asAbsoluteWorkspacePath(e){for(const t of i.workspace.workspaceFolders||[]){const n=[`./${t.name}/`,`${t.name}/`,`.\\${t.name}\\`,`${t.name}\\`];for(const i of n)if(e.startsWith(i))return r.join(t.uri.fsPath,e.replace(i,""))}}}},7478:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceMap=void 0;const r=n(6797);class i{constructor(e=i.defaultPathNormalizer,t){this._normalizePath=e,this.config=t,this._map=new Map}get size(){return this._map.size}has(e){const t=this.toKey(e);return!!t&&this._map.has(t)}get(e){const t=this.toKey(e);if(!t)return;const n=this._map.get(t);return n?n.value:void 0}set(e,t){const n=this.toKey(e);if(!n)return;const r=this._map.get(n);r?r.value=t:this._map.set(n,{resource:e,value:t})}delete(e){const t=this.toKey(e);t&&this._map.delete(t)}clear(){this._map.clear()}get values(){return Array.from(this._map.values(),(e=>e.value))}get entries(){return this._map.values()}toKey(e){const t=this._normalizePath(e);return t&&this.isCaseInsensitivePath(t)?t.toLowerCase():t}isCaseInsensitivePath(e){return!!function(e){return/^[a-zA-Z]:[\/\\]/.test(e)}(e)||"/"===e[0]&&this.config.onCaseInsensitiveFileSystem}}t.ResourceMap=i,i.defaultPathNormalizer=e=>e.scheme===r.file?e.fsPath:e.toString(!0)},7201:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.snippetForFunctionCall=void 0;const r=n(7549),i=n(4156);t.snippetForFunctionCall=function(e,t){if(e.insertText&&"string"!=typeof e.insertText)return{snippet:e.insertText,parameterCount:0};const n=function(e){const t=[];let n=!1,r=!1,o=0,s=0;e:for(let a=0;a<e.length;++a){const c=e[a];switch(c.kind){case i.DisplayPartKind.methodName:case i.DisplayPartKind.functionName:case i.DisplayPartKind.text:case i.DisplayPartKind.propertyName:0===o&&0===s&&(n=!0);break;case i.DisplayPartKind.parameterName:if(1===o&&0===s&&n){const n=e[a+1],i=n&&"?"===n.text,o="this"===c.text;i||o||t.push(c),r=r||i}break;case i.DisplayPartKind.punctuation:if("("===c.text)++o;else if(")"===c.text){if(--o,o<=0&&n)break e}else{if("..."===c.text&&1===o){r=!0;break e}"{"===c.text?++s:"}"===c.text&&--s}}}return{hasOptionalParameters:r,parts:t}}(t),o=new r.SnippetString;return o.appendText(`${e.insertText||e.label}(`),function(e,t,n){for(let n=0;n<t.length;++n){const r=t[n];e.appendPlaceholder(r.text),n!==t.length-1&&e.appendText(", ")}}(o,n.parts),n.hasOptionalParameters&&o.appendTabstop(),o.appendText(")"),o.appendTabstop(0),{snippet:o,parameterCount:n.parts.length+(n.hasOptionalParameters?1:0)}}},1687:function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.VSCodeTelemetryReporter=void 0;const i=n(7549),o=n(8331),s=n(6620);class a{constructor(e){this.clientVersionDelegate=e,this._reporter=null}logTelemetry(e,t={}){const n=this.reporter;n&&(t.version=this.clientVersionDelegate(),n.sendTelemetryEvent(e,t))}dispose(){this._reporter&&(this._reporter.dispose(),this._reporter=null)}get reporter(){return this.packageInfo?.aiKey?(this._reporter=new o.default(this.packageInfo.name,this.packageInfo.version,this.packageInfo.aiKey),this._reporter):null}get packageInfo(){const{packageJSON:e}=i.extensions.getExtension("vscode.typescript-language-features");return e?{name:e.name,version:e.version,aiKey:e.aiKey}:null}}r([s.memoize],a.prototype,"reporter",null),r([s.memoize],a.prototype,"packageInfo",null),t.VSCodeTelemetryReporter=a},3815:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7549);var i;!function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Verbose=2]="Verbose"}(i||(i={})),function(e){e.fromString=function(t){switch(t=t.toLowerCase()){case"off":return e.Off;case"messages":return e.Messages;case"verbose":return e.Verbose;default:return e.Off}}}(i||(i={}));class o{constructor(e){this.logger=e,this.updateConfiguration()}updateConfiguration(){this.trace=o.readTrace()}static readTrace(){let e=i.fromString(r.workspace.getConfiguration().get("typescript.tsserver.trace","off"));return e===i.Off&&{}.TSS_TRACE&&(e=i.Messages),e}traceRequest(e,t,n,r){if(this.trace===i.Off)return;let o;this.trace===i.Verbose&&t.arguments&&(o=`Arguments: ${JSON.stringify(t.arguments,null,4)}`),this.logTrace(e,`Sending request: ${t.command} (${t.seq}). Response expected: ${n?"yes":"no"}. Current queue length: ${r}`,o)}traceResponse(e,t,n){if(this.trace===i.Off)return;let r;this.trace===i.Verbose&&t.body&&(r=`Result: ${JSON.stringify(t.body,null,4)}`),this.logTrace(e,`Response received: ${t.command} (${t.request_seq}). Request took ${Date.now()-n.queuingStartTime} ms. Success: ${t.success} ${t.success?"":". Message: "+t.message}`,r)}traceRequestCompleted(e,t,n,r){this.trace!==i.Off&&this.logTrace(e,`Async response received: ${t} (${n}). Request took ${Date.now()-r.queuingStartTime} ms.`)}traceEvent(e,t){if(this.trace===i.Off)return;let n;this.trace===i.Verbose&&t.body&&(n=`Data: ${JSON.stringify(t.body,null,4)}`),this.logTrace(e,`Event received: ${t.event} (${t.seq}).`,n)}logTrace(e,t,n){this.trace!==i.Off&&this.logger.logLevel("Trace",`<${e}> ${t}`,n)}}t.default=o},1807:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openProjectConfigForFile=t.openProjectConfigOrPromptToCreate=t.openOrCreateConfig=t.inferredProjectCompilerOptions=t.isImplicitProjectConfigFile=void 0;const r=n(1023),i=n(7549),o=n(189),s=n(3219),a=o.loadMessageBundle();function c(e){return e.startsWith("/dev/null/")}t.isImplicitProjectConfigFile=c;const l=Object.freeze({module:"ESNext",moduleResolution:"Node",target:"ES2020",jsx:"react"});function u(e,t){const n={...l};return t.implicitProjectConfiguration.checkJs&&(n.checkJs=!0,0===e&&(n.allowJs=!0)),t.implicitProjectConfiguration.experimentalDecorators&&(n.experimentalDecorators=!0),t.implicitProjectConfiguration.strictNullChecks&&(n.strictNullChecks=!0),t.implicitProjectConfiguration.strictFunctionTypes&&(n.strictFunctionTypes=!0),t.implicitProjectConfiguration.module&&(n.module=t.implicitProjectConfiguration.module),t.implicitProjectConfiguration.target&&(n.target=t.implicitProjectConfiguration.target),0===e&&(n.sourceMap=!0),n}async function d(e,t,n){const o=i.Uri.file(r.join(t,0===e?"tsconfig.json":"jsconfig.json")),s=i.window.activeTextEditor?.viewColumn;try{const e=await i.workspace.openTextDocument(o);return i.window.showTextDocument(e,s)}catch{const t=await i.workspace.openTextDocument(o.with({scheme:"untitled"})),r=await i.window.showTextDocument(t,s);return 0===r.document.getText().length&&await r.insertSnippet(function(e,t){const n=u(e,t),r=Object.keys(n).map((e=>`"${e}": ${JSON.stringify(n[e])}`));return new i.SnippetString(`{\n\t"compilerOptions": {\n\t\t${r.join(",\n\t\t")}$0\n\t},\n\t"exclude": [\n\t\t"node_modules",\n\t\t"**/node_modules/*"\n\t]\n}`)}(e,n)),r}}async function f(e,t,n,r){if(!c(r)){const e=await i.workspace.openTextDocument(r);return void i.window.showTextDocument(e,i.window.activeTextEditor?.viewColumn)}const o={title:0===e?a("typescript.configureTsconfigQuickPick","Configure tsconfig.json"):a("typescript.configureJsconfigQuickPick","Configure jsconfig.json")};switch(await i.window.showInformationMessage(0===e?a("typescript.noTypeScriptProjectConfig","File is not part of a TypeScript project. View the [tsconfig.json documentation]({0}) to learn more.","https://go.microsoft.com/fwlink/?linkid=841896"):a("typescript.noJavaScriptProjectConfig","File is not part of a JavaScript project. View the [jsconfig.json documentation]({0}) to learn more.","https://go.microsoft.com/fwlink/?linkid=759670"),o)){case o:return void d(e,n,t.configuration)}}t.inferredProjectCompilerOptions=u,t.openOrCreateConfig=d,t.openProjectConfigOrPromptToCreate=f,t.openProjectConfigForFile=async function(e,t,n){const r=t.getWorkspaceRootForResource(n);if(!r)return void i.window.showInformationMessage(a("typescript.projectConfigNoWorkspace","Please open a folder in VS Code to use a TypeScript or JavaScript project"));const o=t.toPath(n);if(!o||!await t.toPath(n))return void i.window.showWarningMessage(a("typescript.projectConfigUnsupportedFile","Could not determine TypeScript or JavaScript project. Unsupported file type"));let c;try{c=await t.execute("projectInfo",{file:o,needFileNameList:!1},s.nulToken)}catch{}if("response"===c?.type&&c.body)return f(e,t,r,c.body.configFileName);i.window.showWarningMessage(a("typescript.projectConfigCouldNotGetInfo","Could not determine TypeScript or JavaScript project"))}},231:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompletionTriggerKind=t.SymbolKind=t.WorkspaceEdit=t.TextEdit=t.Location=t.Position=t.Range=void 0;const r=n(7549),i=n(4156);var o,s;!function(e){e.fromTextSpan=t=>e.fromLocations(t.start,t.end),e.toTextSpan=e=>({start:s.toLocation(e.start),end:s.toLocation(e.end)}),e.fromLocations=(e,t)=>new r.Range(Math.max(0,e.line-1),Math.max(e.offset-1,0),Math.max(0,t.line-1),Math.max(0,t.offset-1)),e.toFileRangeRequestArgs=(e,t)=>({file:e,startLine:t.start.line+1,startOffset:t.start.character+1,endLine:t.end.line+1,endOffset:t.end.character+1}),e.toFormattingRequestArgs=(e,t)=>({file:e,line:t.start.line+1,offset:t.start.character+1,endLine:t.end.line+1,endOffset:t.end.character+1})}(o=t.Range||(t.Range={})),function(e){e.fromLocation=e=>new r.Position(e.line-1,e.offset-1),e.toLocation=e=>({line:e.line+1,offset:e.character+1}),e.toFileLocationRequestArgs=(e,t)=>({file:e,line:t.line+1,offset:t.character+1})}(s=t.Position||(t.Position={})),(t.Location||(t.Location={})).fromTextSpan=(e,t)=>new r.Location(e,o.fromTextSpan(t)),(t.TextEdit||(t.TextEdit={})).fromCodeEdit=e=>new r.TextEdit(o.fromTextSpan(e),e.newText),function(e){function t(e,t,n){for(const r of n){const n=t.toResource(r.fileName);for(const t of r.textChanges)e.replace(n,o.fromTextSpan(t),t.newText)}return e}e.fromFileCodeEdits=function(e,n){return t(new r.WorkspaceEdit,e,n)},e.withFileCodeEdits=t}(t.WorkspaceEdit||(t.WorkspaceEdit={})),(t.SymbolKind||(t.SymbolKind={})).fromProtocolScriptElementKind=function(e){switch(e){case i.Kind.module:return r.SymbolKind.Module;case i.Kind.class:return r.SymbolKind.Class;case i.Kind.enum:return r.SymbolKind.Enum;case i.Kind.enumMember:return r.SymbolKind.EnumMember;case i.Kind.interface:return r.SymbolKind.Interface;case i.Kind.indexSignature:case i.Kind.callSignature:case i.Kind.method:return r.SymbolKind.Method;case i.Kind.memberVariable:case i.Kind.memberGetAccessor:case i.Kind.memberSetAccessor:return r.SymbolKind.Property;case i.Kind.variable:case i.Kind.let:case i.Kind.const:case i.Kind.localVariable:case i.Kind.alias:return r.SymbolKind.Variable;case i.Kind.function:case i.Kind.localFunction:return r.SymbolKind.Function;case i.Kind.constructSignature:case i.Kind.constructorImplementation:return r.SymbolKind.Constructor;case i.Kind.typeParameter:return r.SymbolKind.TypeParameter;case i.Kind.string:return r.SymbolKind.String;default:return r.SymbolKind.Variable}},(t.CompletionTriggerKind||(t.CompletionTriggerKind={})).toProtocolCompletionTriggerKind=function(e){switch(e){case r.CompletionTriggerKind.Invoke:return 1;case r.CompletionTriggerKind.TriggerCharacter:return 2;case r.CompletionTriggerKind.TriggerForIncompleteCompletions:return 3}}},9292:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AtaProgressReporter=void 0;const r=n(7549),i=n(189),o=n(4009),s=(0,i.loadMessageBundle)();class a extends o.Disposable{constructor(e){super(),this._acquiringTypings=new Map,this._client=e,this._register(this._client.onDidBeginInstallTypings((e=>this.onBeginInstallTypings(e.eventId)))),this._register(this._client.onDidEndInstallTypings((e=>this.onEndInstallTypings(e.eventId))))}dispose(){super.dispose();for(const e of this._acquiringTypings.values())clearTimeout(e)}get isAcquiringTypings(){return Object.keys(this._acquiringTypings).length>0}onBeginInstallTypings(e){this._acquiringTypings.has(e)||this._acquiringTypings.set(e,setTimeout((()=>{this.onEndInstallTypings(e)}),3e4))}onEndInstallTypings(e){const t=this._acquiringTypings.get(e);t&&clearTimeout(t),this._acquiringTypings.delete(e)}}t.default=a;class c extends o.Disposable{constructor(e){super(),this._promises=new Map,this._register(e.onDidBeginInstallTypings((e=>this._onBegin(e.eventId)))),this._register(e.onDidEndInstallTypings((e=>this._onEndOrTimeout(e.eventId)))),this._register(e.onTypesInstallerInitializationFailed((e=>this.onTypesInstallerInitializationFailed())))}dispose(){super.dispose(),this._promises.forEach((e=>e()))}_onBegin(e){const t=setTimeout((()=>this._onEndOrTimeout(e)),3e4),n=new Promise((n=>{this._promises.set(e,(()=>{clearTimeout(t),n()}))}));r.window.withProgress({location:r.ProgressLocation.Window,title:s("installingPackages","Fetching data for better TypeScript IntelliSense")},(()=>n))}_onEndOrTimeout(e){const t=this._promises.get(e);t&&(this._promises.delete(e),t())}async onTypesInstallerInitializationFailed(){const e=r.workspace.getConfiguration("typescript");if(e.get("check.npmIsInstalled",!0)){const t={title:s("typesInstallerInitializationFailed.doNotCheckAgain","Don't Show Again")};await r.window.showWarningMessage(s("typesInstallerInitializationFailed.title","Could not install typings files for JavaScript language features. Please ensure that NPM is installed, or configure 'typescript.npm' in your user settings. Alternatively, check the [documentation]({0}) to learn more.","https://go.microsoft.com/fwlink/?linkid=847635"),t)===t&&e.update("check.npmIsInstalled",!1,!0)}}}t.AtaProgressReporter=c},7549:e=>{"use strict";e.exports=require("vscode")}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";var e=r;Object.defineProperty(e,"__esModule",{value:!0}),e.activate=void 0;const t=n(7549),i=n(1097),o=n(6460),s=n(4201),a=n(9491),c=n(5299),l=n(1660),u=n(2059),d=n(371),f=n(5372),p=n(9638),g=n(7216),h=n(3090);class m{constructor(e){this._version=e,this.globalVersion=void 0,this.localVersion=void 0,this.localVersions=[]}updateConfiguration(e){}get defaultVersion(){return this._version}get bundledVersion(){return this._version}}e.activate=function(e){const r=new h.PluginManager;e.subscriptions.push(r);const v=new o.CommandManager;e.subscriptions.push(v);const y=new t.EventEmitter;e.subscriptions.push(y);const S=new f.ActiveJsTsEditorTracker;e.subscriptions.push(S);const C=new m(new d.TypeScriptVersion("bundled",t.Uri.joinPath(e.extensionUri,"dist/browser/typescript/tsserver.web.js").toString(),p.default.fromSimpleString("4.5.4"))),b=(0,a.createLazyClientHost)(e,!1,{pluginManager:r,commandManager:v,logDirectoryProvider:l.noopLogDirectoryProvider,cancellerFactory:c.noopRequestCancellerFactory,versionProvider:C,processFactory:u.WorkerServerProcess,activeJsTsEditorTracker:S,serviceConfigurationProvider:new g.BrowserServiceConfigurationProvider},(e=>{y.fire(e)}));return(0,s.registerBaseCommands)(v,b,r,S),Promise.resolve().then((()=>n(6270))).then((t=>{e.subscriptions.push(t.register())})),e.subscriptions.push((0,a.lazilyActivateClient)(b,r,S)),(0,i.getExtensionApi)(y.event,r)}})();var i=exports;for(var o in r)i[o]=r[o];r.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})();
//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/6d9b74a70ca9c7733b29f0456fd8195364076dda/extensions/typescript-language-features/dist/browser/extension.js.map